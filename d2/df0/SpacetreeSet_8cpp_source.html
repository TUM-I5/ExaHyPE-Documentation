<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="icon" href="../../Peano-icon.png" type="image/x-icon" />
<title>Peano</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-tabs.js"></script>
<script type="text/javascript" src="../../toggle-alternative-theme.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeTabs.init()
</script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../custom.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="../../custom-alternative.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- https://tholman.com/github-corners/ -->
<!-- https://bryce.io/gitlab-corners/ -->
<style>.gitlab-corner-wrapper{overflow:hidden;width:100px;height:100px;position:absolute;top:0;right:0}.gitlab-corner{position:absolute;top:-16px;right:-50px;transform:rotate(45deg);background:#333;border:44px solid #333;border-bottom:none;border-top:#333 solid 16px}.gitlab-corner svg{width:60px;height:60px;margin-bottom:-4px}.cls-1{fill:#fc6d26}.cls-2{fill:#e24329}.cls-3{fill:#fca326}.gitlab-corner:hover .cls-1{animation:cycle .6s}.gitlab-corner:hover .cls-2{animation:cycleMid .6s}.gitlab-corner:hover .cls-3{animation:cycleEnd .6s}@keyframes cycle{100%,15%,60%{fill:#fc6d26}30%,75%{fill:#e24329}45%,90%{fill:#fca326}}@keyframes cycleMid{100%,15%,60%{fill:#e24329}30%,75%{fill:#fca326}45%,90%{fill:#fc6d26}}@keyframes cycleEnd{100%,15%,60%{fill:#fca326}30%,75%{fill:#fc6d26}45%,90%{fill:#e24329}}@media (max-width:500px){.gitlab-corner:hover .cls-1,.gitlab-corner:hover .cls-2,.gitlab-corner:hover .cls-3{animation:none}.gitlab-corner .cls-1{animation:cycle .6s}.gitlab-corner .cls-2{animation:cycleMid .6s}.gitlab-corner .cls-3{animation:cycleEnd .6s}}</style><div class="gitlab-corner-wrapper"><a href="https://gitlab.lrz.de/hpcsoftware/Peano" class="gitlab-corner" aria-label="View source on GitLab"><svg id="logo_art" data-name="logo art" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 586 559"><g id="g44"><path id="path46" class="cls-1" d="M461.17,301.83l-18.91-58.12L404.84,128.43a6.47,6.47,0,0,0-12.27,0L355.15,243.64H230.82L193.4,128.43a6.46,6.46,0,0,0-12.26,0L143.78,243.64l-18.91,58.19a12.88,12.88,0,0,0,4.66,14.39L293,435,456.44,316.22a12.9,12.9,0,0,0,4.73-14.39"/></g><g id="g48"><path id="path50" class="cls-2" d="M293,434.91h0l62.16-191.28H230.87L293,434.91Z"/></g><g id="g56"><path id="path58" class="cls-1" d="M293,434.91,230.82,243.63h-87L293,434.91Z"/></g><g id="g64"><path id="path66" class="cls-3" d="M143.75,243.69h0l-18.91,58.12a12.88,12.88,0,0,0,4.66,14.39L293,435,143.75,243.69Z"/></g><g id="g72"><path id="path74" class="cls-2" d="M143.78,243.69h87.11L193.4,128.49a6.47,6.47,0,0,0-12.27,0l-37.35,115.2Z"/></g><g id="g76"><path id="path78" class="cls-1" d="M293,434.91l62.16-191.28H442.3L293,434.91Z"/></g><g id="g80"><path id="path82" class="cls-3" d="M442.24,243.69h0l18.91,58.12a12.85,12.85,0,0,1-4.66,14.39L293,434.91l149.2-191.22Z"/></g><g id="g84"><path id="path86" class="cls-2" d="M442.28,243.69h-87.1l37.42-115.2a6.46,6.46,0,0,1,12.26,0l37.42,115.2Z"/></g></svg></a></div>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../Peano-icon.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Peano
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('d2/df0/SpacetreeSet_8cpp_source.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">SpacetreeSet.cpp</div></div>
</div><!--header-->
<div class="contents">
<a href="../../d2/df0/SpacetreeSet_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">// This file is part of the Peano project. For conditions of distribution and</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">// use, please see the copyright notice at www.peano-framework.org</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="preprocessor">#include &quot;<a class="code" href="../../d0/d08/SpacetreeSet_8h.html">SpacetreeSet.h</a>&quot;</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span> </div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="preprocessor">#include &quot;config.h&quot;</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="preprocessor">#include &quot;<a class="code" href="../../db/d92/Node_8h.html">Node.h</a>&quot;</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="preprocessor">#include &quot;<a class="code" href="../../d0/d9a/tarch_8h.html">tarch/tarch.h</a>&quot;</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="preprocessor">#include &quot;<a class="code" href="../../da/df1/src_2peano4_2grid_2grid_8h.html">peano4/grid/grid.h</a>&quot;</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="preprocessor">#include &quot;<a class="code" href="../../d3/dd9/PeanoCurve_8h.html">peano4/grid/PeanoCurve.h</a>&quot;</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="preprocessor">#include &quot;<a class="code" href="../../d1/d2e/Spacetree_8h.html">peano4/grid/Spacetree.h</a>&quot;</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="preprocessor">#include &quot;<a class="code" href="../../df/d0a/TraversalObserver_8h.html">peano4/grid/TraversalObserver.h</a>&quot;</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="preprocessor">#include &quot;<a class="code" href="../../d5/d95/tarch_2logging_2Statistics_8h.html">tarch/logging/Statistics.h</a>&quot;</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="preprocessor">#include &quot;<a class="code" href="../../d1/d18/IntegerMessage_8h.html">tarch/mpi/IntegerMessage.h</a>&quot;</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="preprocessor">#include &quot;<a class="code" href="../../df/df3/Rank_8h.html">tarch/mpi/Rank.h</a>&quot;</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="preprocessor">#include &quot;<a class="code" href="../../de/d9c/multicore_2Lock_8h.html">tarch/multicore/Lock.h</a>&quot;</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &quot;<a class="code" href="../../d5/d52/multicore_8h.html">tarch/multicore/multicore.h</a>&quot;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &quot;<a class="code" href="../../d8/d4e/ServiceRepository_8h.html">tarch/services/ServiceRepository.h</a>&quot;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#include &quot;<a class="code" href="../../d9/d42/Watch_8h.html">tarch/timing/Watch.h</a>&quot;</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span> </div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><a class="code hl_class" href="../../da/d79/classtarch_1_1logging_1_1Log.html">tarch::logging::Log</a> <a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#ac41c29cdc5f5ee02ef7ca748ce35cfb3">peano4::parallel::SpacetreeSet::_log</a>(<span class="stringliteral">&quot;peano4::parallel::SpacetreeSet&quot;</span>);</div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span> </div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><a class="code hl_class" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html">peano4::parallel::SpacetreeSet</a> <a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#acd4852f97402d9ec43f70c29e98f80d0">peano4::parallel::SpacetreeSet::_singleton</a>;</div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span> </div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><a class="code hl_class" href="../../da/d3f/classtarch_1_1multicore_1_1BooleanSemaphore.html">tarch::multicore::BooleanSemaphore</a> <a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#ae1a9a93a69811a8875431c76be1897f7">peano4::parallel::SpacetreeSet::_semaphore</a>;</div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span> </div>
<div class="foldopen" id="foldopen00026" data-start="{" data-end="}">
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno"><a class="line" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#af8787d7d27e84cf23e71e1a7464ef997">   26</a></span><a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#af8787d7d27e84cf23e71e1a7464ef997">peano4::parallel::SpacetreeSet::SpacetreeSet</a>():</div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span>  <a class="code hl_variable" href="../../d1/d30/DiscontinuousGalerkinDiscretisationPointWiseRiemannSolver_8Abstract_8template_8h.html#a17816079e65513d7293a826311d3afdf">_state</a>(<a class="code hl_enumeration" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a14dae8c91a482bf3cd7e433f3975f0c0">SpacetreeSetState</a>::Waiting) {}</div>
</div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span> </div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno"><a class="line" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#aaf5202ec306988b5b7a2226ef01908cc">   29</a></span><a class="code hl_class" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html">peano4::parallel::SpacetreeSet</a>&amp; <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#aaf5202ec306988b5b7a2226ef01908cc">peano4::parallel::SpacetreeSet::getInstance</a>() { <span class="keywordflow">return</span> _singleton; }</div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span> </div>
<div class="foldopen" id="foldopen00031" data-start="{" data-end="}">
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno"><a class="line" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a902d7f8f8b084ed1fb6029c9c4ec09fc">   31</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a902d7f8f8b084ed1fb6029c9c4ec09fc">peano4::parallel::SpacetreeSet::init</a>(</div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span>  <span class="keyword">const</span> <a class="code hl_struct" href="../../d7/d26/structtarch_1_1la_1_1Vector.html">tarch::la::Vector&lt;Dimensions, double&gt;</a>&amp; offset,</div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span>  <span class="keyword">const</span> <a class="code hl_struct" href="../../d7/d26/structtarch_1_1la_1_1Vector.html">tarch::la::Vector&lt;Dimensions, double&gt;</a>&amp; width,</div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span>  <span class="keyword">const</span> std::bitset&lt;Dimensions&gt;&amp;               <a class="code hl_variable" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a57ebc38ae51b6d4b0e7e1dc43442f318">periodicBC</a></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span>) {</div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span>  _requestMessageTag = <a class="code hl_function" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#ab501a52fc09ea23bb061edbbfbcc89aa">tarch::mpi::Rank::reserveFreeTag</a>(<span class="stringliteral">&quot;peano4::parallel::SpacetreeSet - request message&quot;</span>);</div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span>  _answerMessageTag  = <a class="code hl_function" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#ab501a52fc09ea23bb061edbbfbcc89aa">tarch::mpi::Rank::reserveFreeTag</a>(<span class="stringliteral">&quot;peano4::parallel::SpacetreeSet - answer message&quot;</span>, <a class="code hl_variable" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a26bce930fdbe8b6f48779973f80bb6b9">Node::MaxSpacetreesPerRank</a>);</div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span>  <a class="code hl_function" href="../../d6/d75/classtarch_1_1services_1_1ServiceRepository.html#a6a3a85cf6082b5f2711cf046176cd42c">tarch::services::ServiceRepository::getInstance</a>().<a class="code hl_function" href="../../d6/d75/classtarch_1_1services_1_1ServiceRepository.html#ab8aee085ce5d8e5f1f7822d7daa5a445">addService</a>(<span class="keyword">this</span>, <span class="stringliteral">&quot;peano4::parallel::SpacetreeSet&quot;</span>);</div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span> </div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span><span class="preprocessor">#ifdef Parallel</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>  <a class="code hl_define" href="../../dc/d46/Assertions_8h.html#a093c4d6445977036c1bb1ca57df181b9">assertion4</a>(</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>    (<a class="code hl_function" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0">peano4::parallel::Node::getInstance</a>().getNumberOfRegisteredTrees() == 1</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>     and <a class="code hl_function" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd">tarch::mpi::Rank::getInstance</a>().getRank() == 0</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>    ) or (<a class="code hl_function" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0">peano4::parallel::Node::getInstance</a>().getNumberOfRegisteredTrees() == 0 and <a class="code hl_function" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd">tarch::mpi::Rank::getInstance</a>().getRank() != 0),</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>    <a class="code hl_function" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0">peano4::parallel::Node::getInstance</a>().getNumberOfRegisteredTrees(),</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>    offset,</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>    width,</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>    <a class="code hl_function" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd">tarch::mpi::Rank::getInstance</a>().getRank()</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>  );</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span> </div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd">tarch::mpi::Rank::getInstance</a>().isGlobalMaster()) {</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>    <a class="code hl_class" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">peano4::grid::Spacetree</a> spacetree(offset, width, <a class="code hl_variable" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a57ebc38ae51b6d4b0e7e1dc43442f318">periodicBC</a>);</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>    _spacetrees.push_back(spacetree);</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>  }</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>}</div>
</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span> </div>
<div class="foldopen" id="foldopen00058" data-start="{" data-end="}">
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno"><a class="line" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#ac7383614be7ae6babc6441894be5e1aa">   58</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#ac7383614be7ae6babc6441894be5e1aa">peano4::parallel::SpacetreeSet::shutdown</a>() {</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>  <a class="code hl_variable" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html#a2994c142309786241aacae1df7737b19">peano4::grid::Spacetree::_vertexStack</a>.<a class="code hl_function" href="../../de/d6d/classpeano4_1_1maps_1_1HierarchicalStackMap.html#a4dba5adf738e9c3c8081158eb949cfb6">clear</a>();</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>  <a class="code hl_function" href="../../d6/d75/classtarch_1_1services_1_1ServiceRepository.html#a6a3a85cf6082b5f2711cf046176cd42c">tarch::services::ServiceRepository::getInstance</a>().<a class="code hl_function" href="../../d6/d75/classtarch_1_1services_1_1ServiceRepository.html#a79917b860a7735704675e9bce35801d6">removeService</a>(<span class="keyword">this</span>);</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>}</div>
</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span> </div>
<div class="foldopen" id="foldopen00063" data-start="{" data-end="}">
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno"><a class="line" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a49e92b919a5d722323f191e6328af9fc">   63</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a49e92b919a5d722323f191e6328af9fc">peano4::parallel::SpacetreeSet::getAnswerTag</a>(<span class="keywordtype">int</span> targetSpacetreeId)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>  <span class="keywordflow">return</span> _answerMessageTag + <a class="code hl_function" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0">Node::getInstance</a>().<a class="code hl_function" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a426860ede252fd2c044bdfda9f973d79">getLocalTreeId</a>(targetSpacetreeId);</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>}</div>
</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span> </div>
<div class="foldopen" id="foldopen00067" data-start="{" data-end="}">
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno"><a class="line" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a52d375caeb0aebcc234424b2392dfc97">   67</a></span>std::string <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a52d375caeb0aebcc234424b2392dfc97">peano4::parallel::SpacetreeSet::toString</a>(<a class="code hl_enumeration" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a14dae8c91a482bf3cd7e433f3975f0c0">SpacetreeSetState</a> <a class="code hl_variable" href="../../d0/d31/GridTraversalEventGeneratorTest_8cpp.html#a3b6f08cc1aee02c7b40b0a2d503beeb8">state</a>) {</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>  <span class="keywordflow">switch</span> (<a class="code hl_variable" href="../../d0/d31/GridTraversalEventGeneratorTest_8cpp.html#a3b6f08cc1aee02c7b40b0a2d503beeb8">state</a>) {</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>  <span class="keywordflow">case</span> SpacetreeSetState::TraverseTreesAndExchangeData:</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>    <span class="keywordflow">return</span> <span class="stringliteral">&quot;traverse-trees-and-exchange-data&quot;</span>;</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>  <span class="keywordflow">case</span> SpacetreeSetState::Waiting:</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>    <span class="keywordflow">return</span> <span class="stringliteral">&quot;waiting&quot;</span>;</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>  }</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>  <span class="keywordflow">return</span> <span class="stringliteral">&quot;undef&quot;</span>;</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>}</div>
</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span> </div>
<div class="foldopen" id="foldopen00077" data-start="{" data-end="}">
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno"><a class="line" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a8103e3890b4eda9a1313e77158edd662">   77</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a8103e3890b4eda9a1313e77158edd662">peano4::parallel::SpacetreeSet::answerQuestions</a>() {</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span><span class="preprocessor">#ifdef Parallel</span></div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>  std::vector&lt;peano4::parallel::TreeManagementMessage&gt; unansweredMessagesThatIanAnswerNow;</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span> </div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>  std::vector&lt;peano4::parallel::TreeManagementMessage&gt;::iterator p = _unansweredMessages.begin();</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>  <span class="keywordflow">while</span> (p != _unansweredMessages.end()) {</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>    <span class="keywordflow">switch</span> (p-&gt;getAction()) {</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#aa3d7e177ce6bc07bd01a8b308891e421a5d2933f9a52961da81a30c9080e93263">peano4::parallel::TreeManagementMessage::Action::RequestNewRemoteTree</a>:</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>      unansweredMessagesThatIanAnswerNow.push_back(*p);</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>      p = _unansweredMessages.erase(p);</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#aa3d7e177ce6bc07bd01a8b308891e421af210621f58faf7bf43b0c5a4690fb458">peano4::parallel::TreeManagementMessage::Action::RemoveChildTreeFromBooksAsChildBecameEmpty</a>:</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#aa3d7e177ce6bc07bd01a8b308891e421ab103b93d58b7913ca05b54c2335bdbbd">peano4::parallel::TreeManagementMessage::Action::CreateNewRemoteTree</a>: {</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d1/d30/DiscontinuousGalerkinDiscretisationPointWiseRiemannSolver_8Abstract_8template_8h.html#a17816079e65513d7293a826311d3afdf">_state</a> == SpacetreeSetState::Waiting) {</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>        unansweredMessagesThatIanAnswerNow.push_back(*p);</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>        p = _unansweredMessages.erase(p);</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#a4da42acfdf210765692fa283c6981015">logDebug</a>(<span class="stringliteral">&quot;answerMessages()&quot;</span>, <span class="stringliteral">&quot;can&#39;t answer as I&#39;m in the wrong state&quot;</span>);</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>        p++;</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>      }</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>    } <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#aa3d7e177ce6bc07bd01a8b308891e421a527b5dd477abf95e8fe19aac201df396">peano4::parallel::TreeManagementMessage::Action::Acknowledgement</a>:</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#aa3d7e177ce6bc07bd01a8b308891e421ab5acbaf6328a214f18919ab3f79e3ddf">peano4::parallel::TreeManagementMessage::Action::JoinWithWorker</a>:</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>      <a class="code hl_define" href="../../dc/d46/Assertions_8h.html#abacb43eb9b561c9d50634047a8492afb">assertionMsg</a>(<span class="keyword">false</span>, <span class="stringliteral">&quot;should only be passed synchronously and never run through this tag&quot;</span>);</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>    }</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>  }</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span> </div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span> </div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> p : unansweredMessagesThatIanAnswerNow) {</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>    <span class="keywordflow">switch</span> (p.getAction()) {</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#aa3d7e177ce6bc07bd01a8b308891e421a5d2933f9a52961da81a30c9080e93263">peano4::parallel::TreeManagementMessage::Action::RequestNewRemoteTree</a>: {</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>      <span class="keywordtype">int</span> newSpacetreeId = <a class="code hl_function" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0">peano4::parallel::Node::getInstance</a>().<a class="code hl_function" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a59bed030f4816c88a02ff326e7a0811c">reserveId</a>(</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>        <a class="code hl_function" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd">tarch::mpi::Rank::getInstance</a>().getRank(), <span class="comment">// on current node</span></div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>        p.getMasterSpacetreeId()                   <span class="comment">// this is the tree who has requested the new tree</span></div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>      );</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span> </div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>      <a class="code hl_struct" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html">peano4::parallel::TreeManagementMessage</a> answerMessage;</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>      answerMessage.<a class="code hl_function" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a751e49c699fded29e8ea2bbb27ec085c">setWorkerSpacetreeId</a>(newSpacetreeId);</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>      answerMessage.<a class="code hl_function" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a8234a885ab8329a3d554bef233909545">setAction</a>(<a class="code hl_enumvalue" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#aa3d7e177ce6bc07bd01a8b308891e421a527b5dd477abf95e8fe19aac201df396">TreeManagementMessage::Action::Acknowledgement</a>);</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>      <a class="code hl_function" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a335aba25eb0153590659ae48d7f6eb71">peano4::parallel::TreeManagementMessage::send</a>(</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>        answerMessage,</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>        p.getSenderRank(),</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>        getAnswerTag(p.getMasterSpacetreeId()),</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>        <a class="code hl_function" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd">tarch::mpi::Rank::getInstance</a>().<a class="code hl_function" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#af6c8bbf40ce79043f17b4707ccadd73b">getCommunicator</a>()</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>      );</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>      <a class="code hl_define" href="../../d1/d45/Log_8h.html#a4da42acfdf210765692fa283c6981015">logDebug</a>(</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>        <span class="stringliteral">&quot;receiveDanglingMessages()&quot;</span>, <span class="stringliteral">&quot;reserved tree id &quot;</span> &lt;&lt; newSpacetreeId &lt;&lt; <span class="stringliteral">&quot; for tree &quot;</span> &lt;&lt; p.getMasterSpacetreeId()</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>      );</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>    } <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#aa3d7e177ce6bc07bd01a8b308891e421ab103b93d58b7913ca05b54c2335bdbbd">peano4::parallel::TreeManagementMessage::Action::CreateNewRemoteTree</a>: {</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>      <a class="code hl_define" href="../../dc/d46/Assertions_8h.html#ad1f19e66ef7ee05422b3ae89f9432172">assertion</a>(<a class="code hl_variable" href="../../d1/d30/DiscontinuousGalerkinDiscretisationPointWiseRiemannSolver_8Abstract_8template_8h.html#a17816079e65513d7293a826311d3afdf">_state</a> == SpacetreeSetState::Waiting);</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>      <a class="code hl_struct" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html">peano4::parallel::TreeManagementMessage</a> answerMessage;</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>      answerMessage.<a class="code hl_function" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a8234a885ab8329a3d554bef233909545">setAction</a>(<a class="code hl_enumvalue" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#aa3d7e177ce6bc07bd01a8b308891e421a527b5dd477abf95e8fe19aac201df396">TreeManagementMessage::Action::Acknowledgement</a>);</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>      <a class="code hl_function" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a335aba25eb0153590659ae48d7f6eb71">peano4::parallel::TreeManagementMessage::send</a>(</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>        answerMessage,</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>        p.getSenderRank(),</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>        getAnswerTag(p.getMasterSpacetreeId()),</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>        <a class="code hl_function" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd">tarch::mpi::Rank::getInstance</a>().<a class="code hl_function" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#af6c8bbf40ce79043f17b4707ccadd73b">getCommunicator</a>()</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>      );</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span> </div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>      <a class="code hl_struct" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html">peano4::grid::AutomatonState</a> <a class="code hl_variable" href="../../d0/d31/GridTraversalEventGeneratorTest_8cpp.html#a3b6f08cc1aee02c7b40b0a2d503beeb8">state</a>;</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>      <a class="code hl_function" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#af987ccce2206d77462a6a652be654335">peano4::grid::AutomatonState::receive</a>(</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>        <a class="code hl_variable" href="../../d0/d31/GridTraversalEventGeneratorTest_8cpp.html#a3b6f08cc1aee02c7b40b0a2d503beeb8">state</a>, p.getSenderRank(), _requestMessageTag, <a class="code hl_function" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd">tarch::mpi::Rank::getInstance</a>().<a class="code hl_function" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#af6c8bbf40ce79043f17b4707ccadd73b">getCommunicator</a>()</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>      );</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>      <a class="code hl_class" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">peano4::grid::Spacetree</a> newTree(</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>        p.getWorkerSpacetreeId(), p.getMasterSpacetreeId(), <a class="code hl_variable" href="../../d0/d31/GridTraversalEventGeneratorTest_8cpp.html#a3b6f08cc1aee02c7b40b0a2d503beeb8">state</a>.getX(), <a class="code hl_variable" href="../../d0/d31/GridTraversalEventGeneratorTest_8cpp.html#a3b6f08cc1aee02c7b40b0a2d503beeb8">state</a>.getH(), <a class="code hl_variable" href="../../d0/d31/GridTraversalEventGeneratorTest_8cpp.html#a3b6f08cc1aee02c7b40b0a2d503beeb8">state</a>.getInverted()</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>      );</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span> </div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>      _spacetrees.push_back(std::move(newTree));</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span> </div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>      <a class="code hl_function" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a335aba25eb0153590659ae48d7f6eb71">peano4::parallel::TreeManagementMessage::send</a>(</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>        answerMessage,</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>        p.getSenderRank(),</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>        getAnswerTag(p.getMasterSpacetreeId()),</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>        <a class="code hl_function" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd">tarch::mpi::Rank::getInstance</a>().<a class="code hl_function" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#af6c8bbf40ce79043f17b4707ccadd73b">getCommunicator</a>()</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>      );</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>    } <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#aa3d7e177ce6bc07bd01a8b308891e421a527b5dd477abf95e8fe19aac201df396">peano4::parallel::TreeManagementMessage::Action::Acknowledgement</a>:</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#aa3d7e177ce6bc07bd01a8b308891e421ab5acbaf6328a214f18919ab3f79e3ddf">peano4::parallel::TreeManagementMessage::Action::JoinWithWorker</a>:</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>      <a class="code hl_define" href="../../dc/d46/Assertions_8h.html#abacb43eb9b561c9d50634047a8492afb">assertionMsg</a>(<span class="keyword">false</span>, <span class="stringliteral">&quot;should only be passed synchronously and never run through this tag&quot;</span>);</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#aa3d7e177ce6bc07bd01a8b308891e421af210621f58faf7bf43b0c5a4690fb458">peano4::parallel::TreeManagementMessage::Action::RemoveChildTreeFromBooksAsChildBecameEmpty</a>: {</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>      <a class="code hl_define" href="../../dc/d46/Assertions_8h.html#ad1f19e66ef7ee05422b3ae89f9432172">assertion</a>(<a class="code hl_variable" href="../../d1/d30/DiscontinuousGalerkinDiscretisationPointWiseRiemannSolver_8Abstract_8template_8h.html#a17816079e65513d7293a826311d3afdf">_state</a> == SpacetreeSetState::Waiting);</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>      <a class="code hl_define" href="../../d1/d45/Log_8h.html#ae3782d6eb0450f7ba305896849b587ee">logInfo</a>(</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>        <span class="stringliteral">&quot;receiveDanglingMessages()&quot;</span>,</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>        <span class="stringliteral">&quot;Learned that remote child tree &quot;</span></div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>          &lt;&lt; p.getWorkerSpacetreeId() &lt;&lt; <span class="stringliteral">&quot; of local tree &quot;</span> &lt;&lt; p.getMasterSpacetreeId()</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>          &lt;&lt; <span class="stringliteral">&quot; is degenerated thus had been removed&quot;</span></div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>      );</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>      getSpacetree(p.getMasterSpacetreeId())._childrenIds.erase(p.getWorkerSpacetreeId());</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span> </div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>      <a class="code hl_struct" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html">peano4::parallel::TreeManagementMessage</a> answerMessage;</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>      answerMessage.<a class="code hl_function" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a8234a885ab8329a3d554bef233909545">setAction</a>(<a class="code hl_enumvalue" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#aa3d7e177ce6bc07bd01a8b308891e421a527b5dd477abf95e8fe19aac201df396">TreeManagementMessage::Action::Acknowledgement</a>);</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>      <a class="code hl_function" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a335aba25eb0153590659ae48d7f6eb71">peano4::parallel::TreeManagementMessage::send</a>(</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>        answerMessage,</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>        p.getSenderRank(),</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>        getAnswerTag(p.getWorkerSpacetreeId()),</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>        <a class="code hl_function" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd">tarch::mpi::Rank::getInstance</a>().<a class="code hl_function" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#af6c8bbf40ce79043f17b4707ccadd73b">getCommunicator</a>()</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>      );</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>    } <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>    }</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>  }</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>  <a class="code hl_define" href="../../dc/d46/Assertions_8h.html#ad1f19e66ef7ee05422b3ae89f9432172">assertion</a>(_unansweredMessages.empty());</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>}</div>
</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span> </div>
<div class="foldopen" id="foldopen00185" data-start="{" data-end="}">
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno"><a class="line" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a804983160d3a6236ada166574dee659a">  185</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a804983160d3a6236ada166574dee659a">peano4::parallel::SpacetreeSet::receiveDanglingMessages</a>() {</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span><span class="preprocessor">#ifdef Parallel</span></div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span> </div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd">tarch::mpi::Rank::getInstance</a>().isMessageInQueue(_requestMessageTag)) {</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>    <a class="code hl_define" href="../../d1/d45/Log_8h.html#aa64069bd3da92590a1df09ed488c47b0">logTraceIn</a>(<span class="stringliteral">&quot;receiveDanglingMessages()&quot;</span>);</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span> </div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>    <a class="code hl_struct" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html">peano4::parallel::TreeManagementMessage</a> message;</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>    <a class="code hl_function" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#acc5c542271504672569e175debab8ac3">peano4::parallel::TreeManagementMessage::receive</a>(</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>      message, MPI_ANY_SOURCE, _requestMessageTag, <a class="code hl_function" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd">tarch::mpi::Rank::getInstance</a>().getCommunicator()</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>    );</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span> </div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>    _unansweredMessages.push_back(message);</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span> </div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>    <a class="code hl_define" href="../../d1/d45/Log_8h.html#a4da42acfdf210765692fa283c6981015">logDebug</a>(<span class="stringliteral">&quot;receiveDanglingMessages()&quot;</span>, <span class="stringliteral">&quot;received new message &quot;</span> &lt;&lt; message.<a class="code hl_function" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a6de11550a424b8f79da95ecf81596246">toString</a>());</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span> </div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>    <a class="code hl_define" href="../../d1/d45/Log_8h.html#a688598451ace5fa48f15a1f2a368cd11">logTraceOut</a>(<span class="stringliteral">&quot;receiveDanglingMessages()&quot;</span>);</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>  }</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span> </div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>  answerQuestions();</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>}</div>
</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span> </div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span> </div>
<div class="foldopen" id="foldopen00208" data-start="{" data-end="}">
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno"><a class="line" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a1327050fed46cb19cf89d3d0f7f7cbe9">  208</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a1327050fed46cb19cf89d3d0f7f7cbe9">peano4::parallel::SpacetreeSet::addSpacetree</a>(<span class="keywordtype">int</span> masterId, <span class="keywordtype">int</span> newTreeId) {</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>  <a class="code hl_define" href="../../d1/d45/Log_8h.html#ae13c35427fcb5bd9f778edc31b68f6e6">logTraceInWith2Arguments</a>(<span class="stringliteral">&quot;addSpacetree()&quot;</span>, masterId, newTreeId);</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0">peano4::parallel::Node::getInstance</a>().getRank(masterId) != <a class="code hl_function" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0">peano4::parallel::Node::getInstance</a>().getRank(newTreeId)) {</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span><span class="preprocessor">#ifdef Parallel</span></div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> targetRank = <a class="code hl_function" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0">peano4::parallel::Node::getInstance</a>().<a class="code hl_function" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a47bc7f10fa1fa287bf94138032e9716b">getRank</a>(newTreeId);</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span> </div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>    <a class="code hl_struct" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html">TreeManagementMessage</a> message;</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>    message.<a class="code hl_function" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a39dcc85e917582e601772f414d892432">setMasterSpacetreeId</a>(masterId);</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>    message.<a class="code hl_function" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a751e49c699fded29e8ea2bbb27ec085c">setWorkerSpacetreeId</a>(newTreeId);</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>    message.<a class="code hl_function" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a8234a885ab8329a3d554bef233909545">setAction</a>(<a class="code hl_enumvalue" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#aa3d7e177ce6bc07bd01a8b308891e421ab103b93d58b7913ca05b54c2335bdbbd">TreeManagementMessage::Action::CreateNewRemoteTree</a>);</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>    <a class="code hl_function" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a7cfae5baa7c161d85705f2f8cf1e0703">TreeManagementMessage::sendAndPollDanglingMessages</a>(message, targetRank, _requestMessageTag);</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span> </div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>    <a class="code hl_function" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#acc5c542271504672569e175debab8ac3">TreeManagementMessage::receive</a>(message, targetRank, getAnswerTag(masterId), <a class="code hl_function" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd">tarch::mpi::Rank::getInstance</a>().getCommunicator());</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>    <a class="code hl_define" href="../../dc/d46/Assertions_8h.html#aaef98d9fb5999331a810359b572c2efb">assertion1</a>(message.<a class="code hl_function" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a254a9bee212d754ee5d8c976fcf5afb3">getAction</a>() == <a class="code hl_enumvalue" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#aa3d7e177ce6bc07bd01a8b308891e421a527b5dd477abf95e8fe19aac201df396">TreeManagementMessage::Action::Acknowledgement</a>, message.<a class="code hl_function" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a6de11550a424b8f79da95ecf81596246">toString</a>());</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span> </div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>    <a class="code hl_struct" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html">peano4::grid::AutomatonState</a> <a class="code hl_variable" href="../../d0/d31/GridTraversalEventGeneratorTest_8cpp.html#a3b6f08cc1aee02c7b40b0a2d503beeb8">state</a> = _spacetrees.begin()-&gt;_root;</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>    <a class="code hl_define" href="../../d1/d45/Log_8h.html#a4da42acfdf210765692fa283c6981015">logDebug</a>(<span class="stringliteral">&quot;addSpacetree()&quot;</span>, <span class="stringliteral">&quot;Send state &quot;</span> &lt;&lt; <a class="code hl_variable" href="../../d0/d31/GridTraversalEventGeneratorTest_8cpp.html#a3b6f08cc1aee02c7b40b0a2d503beeb8">state</a>.toString() &lt;&lt; <span class="stringliteral">&quot; to rank &quot;</span> &lt;&lt; targetRank);</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>    <a class="code hl_function" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#a3f26906486bb96487afc2bedc5515431">peano4::grid::AutomatonState::send</a>(<a class="code hl_variable" href="../../d0/d31/GridTraversalEventGeneratorTest_8cpp.html#a3b6f08cc1aee02c7b40b0a2d503beeb8">state</a>, targetRank, _requestMessageTag, <a class="code hl_function" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd">tarch::mpi::Rank::getInstance</a>().getCommunicator());</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span> </div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>    <a class="code hl_function" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#acc5c542271504672569e175debab8ac3">TreeManagementMessage::receive</a>(message, targetRank, getAnswerTag(masterId), <a class="code hl_function" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd">tarch::mpi::Rank::getInstance</a>().getCommunicator());</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>    <a class="code hl_define" href="../../dc/d46/Assertions_8h.html#aaef98d9fb5999331a810359b572c2efb">assertion1</a>(message.<a class="code hl_function" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a254a9bee212d754ee5d8c976fcf5afb3">getAction</a>() == <a class="code hl_enumvalue" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#aa3d7e177ce6bc07bd01a8b308891e421a527b5dd477abf95e8fe19aac201df396">TreeManagementMessage::Action::Acknowledgement</a>, message.<a class="code hl_function" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a6de11550a424b8f79da95ecf81596246">toString</a>());</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>    <a class="code hl_define" href="../../dc/d46/Assertions_8h.html#abacb43eb9b561c9d50634047a8492afb">assertionMsg</a>(<span class="keyword">false</span>, <span class="stringliteral">&quot;Parallel build disabled&quot;</span>);</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>    <a class="code hl_class" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">peano4::grid::Spacetree</a> newTree(</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>      newTreeId,</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>      masterId,</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>      _spacetrees.begin()-&gt;_root.getX(),</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>      _spacetrees.begin()-&gt;_root.getH(),</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>      _spacetrees.begin()-&gt;_root.getInverted()</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>    );</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>    <a class="code hl_class" href="../../d2/df3/classtarch_1_1multicore_1_1Lock.html">tarch::multicore::Lock</a> lock(_semaphore);</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>    _spacetrees.push_back(std::move(newTree));</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>  }</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>  <a class="code hl_define" href="../../d1/d45/Log_8h.html#a688598451ace5fa48f15a1f2a368cd11">logTraceOut</a>(<span class="stringliteral">&quot;addSpacetree()&quot;</span>);</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>}</div>
</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span> </div>
<div class="foldopen" id="foldopen00246" data-start="{" data-end="}">
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno"><a class="line" href="../../dc/dc7/classpeano4_1_1parallel_1_1SpacetreeSet_1_1TraverseTask.html#ae966a43fd10b50e3c3cf24c8545ec2d6">  246</a></span><a class="code hl_function" href="../../dc/dc7/classpeano4_1_1parallel_1_1SpacetreeSet_1_1TraverseTask.html#ae966a43fd10b50e3c3cf24c8545ec2d6">peano4::parallel::SpacetreeSet::TraverseTask::TraverseTask</a>(</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>  <a class="code hl_class" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">peano4::grid::Spacetree</a>&amp;         tree,</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>  <a class="code hl_class" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html">SpacetreeSet</a>&amp;                    set,</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>  <a class="code hl_class" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html">peano4::grid::TraversalObserver</a>&amp; observer,</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>  <span class="keywordtype">bool</span>                             invertTreeTraversalDirectionBeforeWeStart</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>):</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>  Task(Task::NoTaskType, Task::DefaultPriority),</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>  _spacetree(tree),</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>  _spacetreeSet(set),</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>  _observer(observer),</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>  _invertTreeTraversalDirectionBeforeWeStart(invertTreeTraversalDirectionBeforeWeStart) {}</div>
</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span> </div>
<div class="foldopen" id="foldopen00258" data-start="{" data-end="}">
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno"><a class="line" href="../../dc/dc7/classpeano4_1_1parallel_1_1SpacetreeSet_1_1TraverseTask.html#a42be8882f5503d1607ecb282814a8b4b">  258</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../dc/dc7/classpeano4_1_1parallel_1_1SpacetreeSet_1_1TraverseTask.html#a42be8882f5503d1607ecb282814a8b4b">peano4::parallel::SpacetreeSet::TraverseTask::run</a>() {</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>  _spacetreeSet.createObserverCloneIfRequired(_observer, _spacetree._id);</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>  <span class="keywordflow">if</span> (_invertTreeTraversalDirectionBeforeWeStart) {</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>    _spacetree._root.setInverted(not _spacetree._root.getInverted());</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>  }</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>  _spacetree.traverse(*_spacetreeSet._clonedObserver[_spacetree._id], <span class="keyword">true</span>);</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>}</div>
</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span> </div>
<div class="foldopen" id="foldopen00267" data-start="{" data-end="}">
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno"><a class="line" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a724bef1107e37df70598bd2a927b4905">  267</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a724bef1107e37df70598bd2a927b4905">peano4::parallel::SpacetreeSet::createObserverCloneIfRequired</a>(<a class="code hl_class" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html">peano4::grid::TraversalObserver</a>&amp; observer, <span class="keywordtype">int</span> treeId) {</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>  <a class="code hl_class" href="../../d2/df3/classtarch_1_1multicore_1_1Lock.html">tarch::multicore::Lock</a> lock(<a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#ae1a9a93a69811a8875431c76be1897f7">_semaphore</a>);</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a1aa1106b0a08e18237de78ced6694778">_clonedObserver</a>.count(treeId) == 0) {</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>    <a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a1aa1106b0a08e18237de78ced6694778">_clonedObserver</a>.insert(std::pair&lt;int, peano4::grid::TraversalObserver*&gt;(treeId, observer.<a class="code hl_function" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html#a856511702ac2d89d35efb761b1c3a7f6">clone</a>(treeId)));</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>  }</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a1aa1106b0a08e18237de78ced6694778">_clonedObserver</a>[treeId] == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>    <a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a1aa1106b0a08e18237de78ced6694778">_clonedObserver</a>[treeId] = observer.<a class="code hl_function" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html#a856511702ac2d89d35efb761b1c3a7f6">clone</a>(treeId);</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>  }</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>  <a class="code hl_define" href="../../dc/d46/Assertions_8h.html#a076e57cb010b7a1f9db57560c77e5e4f">assertion2</a>(<a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a1aa1106b0a08e18237de78ced6694778">_clonedObserver</a>.count(treeId) == 1 and <a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a1aa1106b0a08e18237de78ced6694778">_clonedObserver</a>[treeId] != <span class="keyword">nullptr</span>, treeId, <a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a1aa1106b0a08e18237de78ced6694778">_clonedObserver</a>.count(treeId));</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>}</div>
</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span> </div>
<div class="foldopen" id="foldopen00278" data-start="{" data-end="}">
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno"><a class="line" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a378c585e77b2456ca8a6324605c7d8d5">  278</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a378c585e77b2456ca8a6324605c7d8d5">peano4::parallel::SpacetreeSet::streamLocalVertexInformationToMasterThroughVerticalStacks</a>(<span class="keywordtype">int</span> spacetreeId, <span class="keywordtype">int</span> parentId, <span class="keyword">const</span> std::set&lt;int&gt;&amp; joiningIds) {</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>  <a class="code hl_define" href="../../d1/d45/Log_8h.html#ae13c35427fcb5bd9f778edc31b68f6e6">logTraceInWith2Arguments</a>(<span class="stringliteral">&quot;streamLocalVertexInformationToMasterThroughVerticalStacks()&quot;</span>, spacetreeId, parentId);</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span> </div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>  <span class="comment">/*</span></div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span><span class="comment">  const int destinationRank  = Node::getInstance().getRank( parentId );</span></div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span><span class="comment">  const int sourceRank       = Node::getInstance().getRank( spacetreeId );</span></div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span><span class="comment">  const int destinationStack = Node::getInstance().getInputStackNumberForVerticalDataExchange( spacetreeId );</span></div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span><span class="comment">  const int sourceStack      = Node::getInstance().getOutputStackNumberForVerticalDataExchange( parentId );</span></div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span><span class="comment">  if (</span></div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span><span class="comment">    destinationRank != tarch::mpi::Rank::getInstance().getRank()</span></div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span><span class="comment">    and</span></div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span><span class="comment">    sourceRank      == tarch::mpi::Rank::getInstance().getRank()</span></div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span><span class="comment">    and</span></div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span><span class="comment">    not peano4::grid::Spacetree::_vertexStack.getForPush( peano4::maps::StackKey(spacetreeId,sourceStack) )-&gt;empty()</span></div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span><span class="comment">  ) {</span></div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span><span class="comment">    assertion(false);</span></div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span><span class="comment">    const int tag = Node::getInstance().getGridDataExchangeTag( sourceSpacetreeId, destinationSpacetreeId,</span></div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span><span class="comment">  Node::ExchangeMode::SendVerticalData ); logInfo( &quot;exchangeStacksSynchronously()&quot;, &quot;send stack &quot; &lt;&lt; sourceStack &lt;&lt; &quot;</span></div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span><span class="comment">  from tree &quot; &lt;&lt; sourceSpacetreeId &lt;&lt; &quot; to rank &quot; &lt;&lt; destinationRank &lt;&lt;</span></div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span><span class="comment">      &quot;: &quot; &lt;&lt; stackContainer[ peano4::grid::Spacetree::StackKey(destinationSpacetreeId,destinationStack) ].toString()</span></div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span><span class="comment">    );</span></div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span><span class="comment"></span> </div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span><span class="comment">    tarch::mpi::IntegerMessage message( stackContainer[ peano4::grid::Spacetree::StackKey(sourceSpacetreeId,sourceStack)</span></div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span><span class="comment">  ].size() );</span></div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span><span class="comment">    message.send(destinationRank,tag,false,tarch::mpi::IntegerMessage::ExchangeMode::NonblockingWithPollingLoopOverTests);</span></div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span><span class="comment"></span> </div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span><span class="comment">    stackContainer[ peano4::grid::Spacetree::StackKey(sourceSpacetreeId,sourceStack) ].startSend(destinationRank,tag);</span></div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span><span class="comment">    stackContainer[ peano4::grid::Spacetree::StackKey(sourceSpacetreeId,sourceStack) ].finishSendOrReceive();</span></div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span><span class="comment">  }</span></div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span><span class="comment"></span> </div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span><span class="comment">  // habe ich die Stacks immer noch oder missbrauch ich die zur Zeit fuer MPI sends und receives?</span></div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span><span class="comment">  if (</span></div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span><span class="comment">    destinationRank == tarch::mpi::Rank::getInstance().getRank()</span></div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span><span class="comment">    and</span></div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span><span class="comment">    sourceRank      == tarch::mpi::Rank::getInstance().getRank()</span></div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span><span class="comment">    and</span></div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span><span class="comment">    not peano4::grid::Spacetree::_vertexStack.getForPush( spacetreeId,sourceStack )-&gt;empty()</span></div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span><span class="comment">  ) {</span></div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span><span class="comment">    logDebug( &quot;exchangeAllVerticalDataExchangeStacks()&quot;, &quot;stream content of stack &quot; &lt;&lt; sourceStack &lt;&lt; &quot; on tree &quot; &lt;&lt;</span></div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span><span class="comment">  spacetreeId &lt;&lt; &quot; into stack &quot; &lt;&lt; destinationStack &lt;&lt; &quot; of tree &quot; &lt;&lt; parentId &lt;&lt; &quot; as source tree is joining&quot; );</span></div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span><span class="comment">    peano4::grid::Spacetree::_vertexStack.getForPush(parentId,destinationStack)-&gt;clone(</span></div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span><span class="comment">  *peano4::grid::Spacetree::_vertexStack.getForPop(spacetreeId,sourceStack) );</span></div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span><span class="comment">    peano4::grid::Spacetree::_vertexStack.getForPop(spacetreeId,sourceStack)-&gt;clear();</span></div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span><span class="comment">    peano4::grid::Spacetree::_vertexStack.getForPop(parentId,destinationStack)-&gt;reverse();</span></div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span><span class="comment">  }</span></div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span><span class="comment">*/</span></div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span> </div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>  <a class="code hl_define" href="../../d1/d45/Log_8h.html#a688598451ace5fa48f15a1f2a368cd11">logTraceOut</a>(<span class="stringliteral">&quot;streamLocalVertexInformationToMasterThroughVerticalStacks()&quot;</span>);</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>}</div>
</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span> </div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span> </div>
<div class="foldopen" id="foldopen00329" data-start="{" data-end="}">
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno"><a class="line" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#aa3f8c5422a3f29e51de260b34958cb7c">  329</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a2b44dbeda9845c18d2d97b834ce0cc71">peano4::parallel::SpacetreeSet::deleteAllStacks</a>(<a class="code hl_class" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html">peano4::grid::TraversalObserver</a>&amp; observer, <span class="keywordtype">int</span> spacetreeId) {</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>  <a class="code hl_define" href="../../d1/d45/Log_8h.html#aad7ff4ec1e13cb14a0e4563276ef2196">logTraceInWith1Argument</a>(<span class="stringliteral">&quot;deleteAllStacks(int)&quot;</span>, spacetreeId);</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>  <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a2b44dbeda9845c18d2d97b834ce0cc71">deleteAllStacks</a>(<a class="code hl_variable" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html#a2994c142309786241aacae1df7737b19">peano4::grid::Spacetree::_vertexStack</a>, spacetreeId);</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>  <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a724bef1107e37df70598bd2a927b4905">createObserverCloneIfRequired</a>(observer, spacetreeId);</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>  <a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a1aa1106b0a08e18237de78ced6694778">_clonedObserver</a>[spacetreeId]-&gt;deleteAllStacks();</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>  <a class="code hl_define" href="../../d1/d45/Log_8h.html#a688598451ace5fa48f15a1f2a368cd11">logTraceOut</a>(<span class="stringliteral">&quot;deleteAllStacks(int)&quot;</span>);</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>}</div>
</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span> </div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span> </div>
<div class="foldopen" id="foldopen00338" data-start="{" data-end="}">
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno"><a class="line" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a0fa99ca041b01b58cf60f5b738305913">  338</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a0fa99ca041b01b58cf60f5b738305913">peano4::parallel::SpacetreeSet::exchangeVerticalDataBetweenTrees</a>(<a class="code hl_class" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html">peano4::grid::TraversalObserver</a>&amp; observer) {</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>  <a class="code hl_define" href="../../d1/d45/Log_8h.html#aa64069bd3da92590a1df09ed488c47b0">logTraceIn</a>(<span class="stringliteral">&quot;exchangeVerticalDataBetweenTrees()&quot;</span>);</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span> </div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; p : <a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a8a77b7ea7b1c8c7a69bcbb4b458db6db">_spacetrees</a>) {</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>    <a class="code hl_define" href="../../d1/d45/Log_8h.html#a4da42acfdf210765692fa283c6981015">logDebug</a>(</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>      <span class="stringliteral">&quot;exchangeVerticalDataBetweenTrees(TraversalObserver&amp;)&quot;</span>,</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>      <span class="stringliteral">&quot;Manage data transfer of tree &quot;</span> &lt;&lt; p._id &lt;&lt; <span class="stringliteral">&quot; in state &quot;</span> &lt;&lt; <a class="code hl_function" href="../../d7/d7c/namespacepeano4_1_1grid.html#a133e937a14fa2b8b6d077e9ce346ec69">peano4::grid::toString</a>(p._spacetreeState)</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>    );</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span> </div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>    <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a378c585e77b2456ca8a6324605c7d8d5">streamLocalVertexInformationToMasterThroughVerticalStacks</a>(p._id, p._masterId, p._joining);</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>    <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#ac2c8432d5210cb1f3851d83818992d3f">exchangeAllVerticalDataExchangeStacks</a>(<a class="code hl_variable" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html#a2994c142309786241aacae1df7737b19">peano4::grid::Spacetree::_vertexStack</a>, p._id, p._masterId);</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>    <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a724bef1107e37df70598bd2a927b4905">createObserverCloneIfRequired</a>(observer, p._id);</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>    <a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a1aa1106b0a08e18237de78ced6694778">_clonedObserver</a>[p._id]-&gt;exchangeAllVerticalDataExchangeStacks(p._masterId);</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>  }</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span> </div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>  <a class="code hl_define" href="../../d1/d45/Log_8h.html#a4da42acfdf210765692fa283c6981015">logDebug</a>(</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>    <span class="stringliteral">&quot;exchangeVerticalDataBetweenTrees(TraversalObserver&amp;)&quot;</span>,</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>    <span class="stringliteral">&quot;All local data exchange realised, all MPI message exchange triggered. Wait for MPI communication.&quot;</span></div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>  );</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span> </div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; p : <a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a8a77b7ea7b1c8c7a69bcbb4b458db6db">_spacetrees</a>) {</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>    <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#acf3a3df78d8d68b8d7763a0ce25a2544">finishAllOutstandingSendsAndReceives</a>(<a class="code hl_variable" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html#a2994c142309786241aacae1df7737b19">peano4::grid::Spacetree::_vertexStack</a>, p._id);</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>    <a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a1aa1106b0a08e18237de78ced6694778">_clonedObserver</a>[p._id]-&gt;finishAllOutstandingSendsAndReceives();</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>  }</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span> </div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>  <a class="code hl_define" href="../../d1/d45/Log_8h.html#a688598451ace5fa48f15a1f2a368cd11">logTraceOut</a>(<span class="stringliteral">&quot;exchangeVerticalDataBetweenTrees()&quot;</span>);</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>}</div>
</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span> </div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span> </div>
<div class="foldopen" id="foldopen00367" data-start="{" data-end="}">
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno"><a class="line" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#af2db839ebe2f009b8a85bfe328eb6fa0">  367</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#af2db839ebe2f009b8a85bfe328eb6fa0">peano4::parallel::SpacetreeSet::streamDataFromSplittingTreesToNewTrees</a>(<a class="code hl_class" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html">peano4::grid::TraversalObserver</a>&amp; observer) {</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>  <a class="code hl_define" href="../../d1/d45/Log_8h.html#aad7ff4ec1e13cb14a0e4563276ef2196">logTraceInWith1Argument</a>(<span class="stringliteral">&quot;streamDataFromSplittingTreesToNewTrees()&quot;</span>, <a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a8a77b7ea7b1c8c7a69bcbb4b458db6db">_spacetrees</a>.size());</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span> </div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; parent : <a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a8a77b7ea7b1c8c7a69bcbb4b458db6db">_spacetrees</a>) {</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>      <span class="keyword">const</span> <span class="keywordtype">int</span> sourceStack = <a class="code hl_function" href="../../d5/d2c/classpeano4_1_1grid_1_1PeanoCurve.html#a1d6c56c753308d4bd4100d23fc164ac8">grid::PeanoCurve::getInputStackNumber</a>(parent._root);</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; worker : parent._hasSplit) {</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>      <span class="keyword">const</span> <span class="keywordtype">int</span> destinationStack = <a class="code hl_function" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a8e3b4ea37d72a26fc5a3a07ec565ba12">Node::getOutputStackNumberForVerticalDataExchange</a>(worker);</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>      <a class="code hl_define" href="../../dc/d46/Assertions_8h.html#a9dbc4cb7842b714e4a6d6a55459aa2be">assertion3</a>(<a class="code hl_variable" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html#a2994c142309786241aacae1df7737b19">peano4::grid::Spacetree::_vertexStack</a>.getForPush(parent._id, destinationStack)-&gt;<a class="code hl_function" href="../../de/d6d/classpeano4_1_1maps_1_1HierarchicalStackMap.html#aa045c54eab4e52aec02116c588d54827">empty</a>(), parent._id, destinationStack, sourceStack);</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>      <a class="code hl_variable" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html#a2994c142309786241aacae1df7737b19">peano4::grid::Spacetree::_vertexStack</a>.<a class="code hl_function" href="../../de/d6d/classpeano4_1_1maps_1_1HierarchicalStackMap.html#a55d68bb6e0ec644c8419c81e92507feb">getForPush</a>(parent._id, destinationStack)-&gt;clone(*<a class="code hl_variable" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html#a2994c142309786241aacae1df7737b19">peano4::grid::Spacetree::_vertexStack</a>.getForPop(parent._id, sourceStack));</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>      <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a1ef581ef75460202f1af9fa5c2ad7bfc">streamDataFromSplittingTreeToNewTree</a>(<a class="code hl_variable" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html#a2994c142309786241aacae1df7737b19">peano4::grid::Spacetree::_vertexStack</a>, parent._id, worker);</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>      <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a724bef1107e37df70598bd2a927b4905">createObserverCloneIfRequired</a>(observer, parent._id);</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>      <a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a1aa1106b0a08e18237de78ced6694778">_clonedObserver</a>[parent._id]-&gt;streamDataFromSplittingTreeToNewTree(worker);</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>    }</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>  }</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span> </div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; p : <a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a8a77b7ea7b1c8c7a69bcbb4b458db6db">_spacetrees</a>) {</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>    <span class="keywordflow">if</span> (p._spacetreeState == <a class="code hl_enumvalue" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37cae2e6f897d049a5a191850fa42b37cf2a">peano4::grid::SpacetreeState::EmptyRun</a>) {</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>      <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a1ef581ef75460202f1af9fa5c2ad7bfc">streamDataFromSplittingTreeToNewTree</a>(<a class="code hl_variable" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html#a2994c142309786241aacae1df7737b19">peano4::grid::Spacetree::_vertexStack</a>, p._masterId, p._id);</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>      <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a724bef1107e37df70598bd2a927b4905">createObserverCloneIfRequired</a>(observer, p._masterId);</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>      <a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a1aa1106b0a08e18237de78ced6694778">_clonedObserver</a>[p._masterId]-&gt;streamDataFromSplittingTreeToNewTree(p._id);</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>    }</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>  }</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span> </div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; p : <a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a8a77b7ea7b1c8c7a69bcbb4b458db6db">_spacetrees</a>) {</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>    <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a724bef1107e37df70598bd2a927b4905">createObserverCloneIfRequired</a>(observer, p._id);</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>    <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#acf3a3df78d8d68b8d7763a0ce25a2544">finishAllOutstandingSendsAndReceives</a>(<a class="code hl_variable" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html#a2994c142309786241aacae1df7737b19">peano4::grid::Spacetree::_vertexStack</a>, p._id);</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>    <a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a1aa1106b0a08e18237de78ced6694778">_clonedObserver</a>[p._id]-&gt;finishAllOutstandingSendsAndReceives();</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>  }</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span> </div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>  <a class="code hl_define" href="../../d1/d45/Log_8h.html#a688598451ace5fa48f15a1f2a368cd11">logTraceOut</a>(<span class="stringliteral">&quot;streamDataFromSplittingTreesToNewTrees()&quot;</span>);</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>}</div>
</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span> </div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span> </div>
<div class="foldopen" id="foldopen00400" data-start="{" data-end="}">
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno"><a class="line" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a994c91ffe58385d3c06f4d921bf43e81">  400</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a994c91ffe58385d3c06f4d921bf43e81">peano4::parallel::SpacetreeSet::exchangeHorizontalDataBetweenTrees</a>(<a class="code hl_class" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html">peano4::grid::TraversalObserver</a>&amp; observer) {</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>  <a class="code hl_define" href="../../d1/d45/Log_8h.html#aa64069bd3da92590a1df09ed488c47b0">logTraceIn</a>(<span class="stringliteral">&quot;exchangeHorizontalDataBetweenTrees()&quot;</span>);</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span> </div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; p : <a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a8a77b7ea7b1c8c7a69bcbb4b458db6db">_spacetrees</a>) {</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>    <a class="code hl_define" href="../../d1/d45/Log_8h.html#a4da42acfdf210765692fa283c6981015">logDebug</a>(</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>      <span class="stringliteral">&quot;exchangeHorizontalDataBetweenTrees(TraversalObserver&amp;)&quot;</span>,</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>      <span class="stringliteral">&quot;manage data transfer of tree &quot;</span> &lt;&lt; p._id &lt;&lt; <span class="stringliteral">&quot; in state &quot;</span> &lt;&lt; <a class="code hl_function" href="../../d7/d7c/namespacepeano4_1_1grid.html#a133e937a14fa2b8b6d077e9ce346ec69">peano4::grid::toString</a>(p._spacetreeState)</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>    );</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>    <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#ae28cbf8f697bc66a1380da56df81b98e">exchangeAllHorizontalDataExchangeStacks</a>(<a class="code hl_variable" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html#a2994c142309786241aacae1df7737b19">peano4::grid::Spacetree::_vertexStack</a>, p._id, <span class="keyword">true</span>);</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>    <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a2383ec5b69147b9b5dd5547689aca3f7">exchangeAllPeriodicBoundaryDataStacks</a>(<a class="code hl_variable" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html#a2994c142309786241aacae1df7737b19">peano4::grid::Spacetree::_vertexStack</a>, p._id);</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span> </div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>    <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a724bef1107e37df70598bd2a927b4905">createObserverCloneIfRequired</a>(observer, p._id);</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span> </div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>    <a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a1aa1106b0a08e18237de78ced6694778">_clonedObserver</a>[p._id]-&gt;exchangeAllHorizontalDataExchangeStacks(<span class="keyword">true</span>);</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>    <a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a1aa1106b0a08e18237de78ced6694778">_clonedObserver</a>[p._id]-&gt;exchangeAllPeriodicBoundaryDataStacks();</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>  }</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span> </div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>  <a class="code hl_define" href="../../d1/d45/Log_8h.html#a4da42acfdf210765692fa283c6981015">logDebug</a>(</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>    <span class="stringliteral">&quot;exchangeHorizontalDataBetweenTrees(TraversalObserver&amp;)&quot;</span>,</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>    <span class="stringliteral">&quot;all local data exchange realised, all MPI message exchange triggered. Wait for MPI to terminate&quot;</span></div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>  );</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span> </div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; p : <a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a8a77b7ea7b1c8c7a69bcbb4b458db6db">_spacetrees</a>) {</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>    <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#acf3a3df78d8d68b8d7763a0ce25a2544">finishAllOutstandingSendsAndReceives</a>(<a class="code hl_variable" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html#a2994c142309786241aacae1df7737b19">peano4::grid::Spacetree::_vertexStack</a>, p._id);</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>    <a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a1aa1106b0a08e18237de78ced6694778">_clonedObserver</a>[p._id]-&gt;finishAllOutstandingSendsAndReceives();</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>  }</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span> </div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>  <a class="code hl_define" href="../../d1/d45/Log_8h.html#a688598451ace5fa48f15a1f2a368cd11">logTraceOut</a>(<span class="stringliteral">&quot;exchangeHorizontalDataBetweenTrees()&quot;</span>);</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>}</div>
</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span> </div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span> </div>
<div class="foldopen" id="foldopen00431" data-start="{" data-end="}">
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno"><a class="line" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a40ae48bda0092f87c765a1aaa8f03755">  431</a></span>std::set&lt;int&gt; <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a40ae48bda0092f87c765a1aaa8f03755">peano4::parallel::SpacetreeSet::getLocalTreesMergingWithWorkers</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>  std::set&lt;int&gt; result;</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; tree : <a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a8a77b7ea7b1c8c7a69bcbb4b458db6db">_spacetrees</a>) {</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>    <span class="keywordflow">if</span> (not tree._joining.empty()) {</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>      result.insert(tree._id);</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>    }</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>  }</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>  <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>}</div>
</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span> </div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span> </div>
<div class="foldopen" id="foldopen00442" data-start="{" data-end="}">
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno"><a class="line" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a18d9a6ada9314cb6a982fc1b5b2b82c6">  442</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a18d9a6ada9314cb6a982fc1b5b2b82c6">peano4::parallel::SpacetreeSet::createNewTrees</a>() {</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; tree : <a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a8a77b7ea7b1c8c7a69bcbb4b458db6db">_spacetrees</a>) {</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; p : tree._splitting) {</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>      <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a1327050fed46cb19cf89d3d0f7f7cbe9">addSpacetree</a>(tree._id, p);</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>    }</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>  }</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>}</div>
</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span> </div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span> </div>
<div class="foldopen" id="foldopen00451" data-start="{" data-end="}">
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno"><a class="line" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a6cbbb95e899ec85ae0473cf42c00f176">  451</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a6cbbb95e899ec85ae0473cf42c00f176">peano4::parallel::SpacetreeSet::deleteClonedObservers</a>() {</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; p : <a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a1aa1106b0a08e18237de78ced6694778">_clonedObserver</a>) {</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>    <span class="keywordflow">if</span> (p.second != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>      <span class="keyword">delete</span> p.second;</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>      p.second = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>    }</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>  }</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>}</div>
</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span> </div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span> </div>
<div class="foldopen" id="foldopen00461" data-start="{" data-end="}">
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno"><a class="line" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#af3302644e7f7848b653167f1502f3554">  461</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#af3302644e7f7848b653167f1502f3554">peano4::parallel::SpacetreeSet::traverse</a>(<a class="code hl_class" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html">peano4::grid::TraversalObserver</a>&amp; observer) {</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>  <a class="code hl_define" href="../../d1/d45/Log_8h.html#aa64069bd3da92590a1df09ed488c47b0">logTraceIn</a>(<span class="stringliteral">&quot;traverse()&quot;</span>);</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span> </div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd">tarch::mpi::Rank::getInstance</a>().isGlobalMaster()) {</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>    <a class="code hl_function" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0">peano4::parallel::Node::getInstance</a>().<a class="code hl_function" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a8a93c14d54c30233541e6a10da2c0bde">continueToRun</a>();</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>  }</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>  <a class="code hl_define" href="../../d1/d45/Log_8h.html#a4da42acfdf210765692fa283c6981015">logDebug</a>(<span class="stringliteral">&quot;traverse()&quot;</span>, <span class="stringliteral">&quot;Start new grid sweep&quot;</span>);</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span> </div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>  <a class="code hl_function" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd">tarch::mpi::Rank::getInstance</a>().<a class="code hl_function" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#aa374695492af7dcea21449149001db89">barrier</a>([&amp;]() -&gt; <span class="keywordtype">void</span> {</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>    <a class="code hl_function" href="../../d6/d75/classtarch_1_1services_1_1ServiceRepository.html#a6a3a85cf6082b5f2711cf046176cd42c">tarch::services::ServiceRepository::getInstance</a>().<a class="code hl_function" href="../../d6/d75/classtarch_1_1services_1_1ServiceRepository.html#a4218d43659ffc951ee3b1c6eab7532bc">receiveDanglingMessages</a>();</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>    <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a8103e3890b4eda9a1313e77158edd662">answerQuestions</a>();</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>  });</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>  <a class="code hl_define" href="../../d1/d45/Log_8h.html#a4da42acfdf210765692fa283c6981015">logDebug</a>(<span class="stringliteral">&quot;traverse()&quot;</span>, <span class="stringliteral">&quot;Rank has passed barrier&quot;</span>);</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span> </div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>  <a class="code hl_function" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0">Node::getInstance</a>().<a class="code hl_function" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a8184e84956133244ca1f9ef348516956">createPendingCommunicators</a>();</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span> </div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>  <a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a411f6e237f217538056cbee47cc2859e">_state</a> = <a class="code hl_enumvalue" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a14dae8c91a482bf3cd7e433f3975f0c0a3da0a28b3e6866d48d179ae9717d739b">SpacetreeSetState::TraverseTreesAndExchangeData</a>;</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span> </div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>  std::vector&lt;tarch::multicore::Task*&gt; primaryTasks;</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>  std::vector&lt;tarch::multicore::Task*&gt; secondaryTasks;</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>  std::vector&lt;tarch::multicore::Task*&gt; tertiaryTasks;</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span> </div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; p : <a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a8a77b7ea7b1c8c7a69bcbb4b458db6db">_spacetrees</a>) {</div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>    <span class="keywordflow">switch</span> (p._spacetreeState) {</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37ca42d4b80664fa5cf4266ffb09f3f4ca6c">peano4::grid::SpacetreeState::NewRoot</a>:</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37cad0ffc089d13c7947ef0ab4fda4ad1dd3">peano4::grid::SpacetreeState::JoinTriggered</a>:</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37caf6807db4ae3a5c82b99bced82a0ca92b">peano4::grid::SpacetreeState::Joining</a>:</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>      <a class="code hl_define" href="../../d1/d45/Log_8h.html#a4da42acfdf210765692fa283c6981015">logDebug</a>(</div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>        <span class="stringliteral">&quot;traverse()&quot;</span>,</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>        <span class="stringliteral">&quot;Issue task to traverse tree &quot;</span> &lt;&lt; p._id &lt;&lt; <span class="stringliteral">&quot; in the primary tree set &quot;</span> &lt;&lt; p.toString()</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>      );</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>      primaryTasks.push_back(<span class="keyword">new</span> <a class="code hl_class" href="../../dc/dc7/classpeano4_1_1parallel_1_1SpacetreeSet_1_1TraverseTask.html">TraverseTask</a>(p, *<span class="keyword">this</span>, observer, <span class="keyword">false</span>));</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37ca5bda814c4aedb126839228f1a3d92f09">peano4::grid::SpacetreeState::Running</a>:</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>      <span class="keywordflow">if</span> (p._joining.empty()) {</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#a4da42acfdf210765692fa283c6981015">logDebug</a>(</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>          <span class="stringliteral">&quot;traverse()&quot;</span>,</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>          <span class="stringliteral">&quot;Issue task to traverse tree &quot;</span> &lt;&lt; p._id &lt;&lt; <span class="stringliteral">&quot; in the primary tree set &quot;</span> &lt;&lt; p.toString()</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>        );</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>        primaryTasks.push_back(<span class="keyword">new</span> <a class="code hl_class" href="../../dc/dc7/classpeano4_1_1parallel_1_1SpacetreeSet_1_1TraverseTask.html">TraverseTask</a>(p, *<span class="keyword">this</span>, observer, <span class="keyword">false</span>));</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#a4da42acfdf210765692fa283c6981015">logDebug</a>(</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>          <span class="stringliteral">&quot;traverse()&quot;</span>,</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>          <span class="stringliteral">&quot;Issue task to traverse tree &quot;</span></div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>            &lt;&lt; p._id &lt;&lt; <span class="stringliteral">&quot; in the third tree set as it joins in other tree: &quot;</span> &lt;&lt; p.toString()</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>        );</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>        tertiaryTasks.push_back(<span class="keyword">new</span> <a class="code hl_class" href="../../dc/dc7/classpeano4_1_1parallel_1_1SpacetreeSet_1_1TraverseTask.html">TraverseTask</a>(p, *<span class="keyword">this</span>, observer, <span class="keyword">false</span>));</div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>      }</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37cae2e6f897d049a5a191850fa42b37cf2a">peano4::grid::SpacetreeState::EmptyRun</a>:</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>      <a class="code hl_define" href="../../d1/d45/Log_8h.html#a4da42acfdf210765692fa283c6981015">logDebug</a>(</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>        <span class="stringliteral">&quot;traverse()&quot;</span>,</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>        <span class="stringliteral">&quot;Issue task to traverse tree &quot;</span> &lt;&lt; p._id &lt;&lt; <span class="stringliteral">&quot; in secondary tree set as empty tree and in third set as new tree&quot;</span></div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>      );</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>      secondaryTasks.push_back(<span class="keyword">new</span> <a class="code hl_class" href="../../dc/dc7/classpeano4_1_1parallel_1_1SpacetreeSet_1_1TraverseTask.html">TraverseTask</a>(p, *<span class="keyword">this</span>, observer, <span class="keyword">true</span>));</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>      tertiaryTasks.push_back(<span class="keyword">new</span> <a class="code hl_class" href="../../dc/dc7/classpeano4_1_1parallel_1_1SpacetreeSet_1_1TraverseTask.html">TraverseTask</a>(p, *<span class="keyword">this</span>, observer, <span class="keyword">false</span>));</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37ca7d50c09f1ad7d098e0a847bcdcab7efb">peano4::grid::SpacetreeState::Joined</a>:</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37ca09bce956ecf16a726820c33dc8fe3cc6">peano4::grid::SpacetreeState::NewFromSplit</a>:</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>      <a class="code hl_define" href="../../dc/d46/Assertions_8h.html#abacb43eb9b561c9d50634047a8492afb">assertionMsg</a>(<span class="stringliteral">&quot;Should not happen&quot;</span>, <span class="keyword">false</span>);</div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>    }</div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>  }</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span> </div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span><span class="preprocessor">#ifdef SharedOMP</span></div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span><span class="preprocessor">#pragma omp parallel</span></div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>  {</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span><span class="preprocessor">#pragma omp master</span></div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>    {</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>      <span class="keywordflow">if</span> (not primaryTasks.empty()) {</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>        <a class="code hl_function" href="../../d6/d43/namespacetarch_1_1multicore.html#a5f99102c05b0c83033c0e3a7b9e4e104">tarch::multicore::spawnTasks</a>(primaryTasks);</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>      }</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span> </div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>      <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#af2db839ebe2f009b8a85bfe328eb6fa0">streamDataFromSplittingTreesToNewTrees</a>(observer);</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>      <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a0fa99ca041b01b58cf60f5b738305913">exchangeVerticalDataBetweenTrees</a>(observer);</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span> </div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>      <span class="keywordflow">if</span> (not secondaryTasks.empty()) {</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>        <a class="code hl_function" href="../../d6/d43/namespacetarch_1_1multicore.html#a5f99102c05b0c83033c0e3a7b9e4e104">tarch::multicore::spawnTasks</a>(secondaryTasks);</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>      }</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span> </div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>      <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a0fa99ca041b01b58cf60f5b738305913">exchangeVerticalDataBetweenTrees</a>(observer);</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span> </div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>      <span class="keywordflow">if</span> (not tertiaryTasks.empty()) {</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>        <a class="code hl_function" href="../../d6/d43/namespacetarch_1_1multicore.html#a5f99102c05b0c83033c0e3a7b9e4e104">tarch::multicore::spawnTasks</a>(tertiaryTasks);</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>      }</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span> </div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>      <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a994c91ffe58385d3c06f4d921bf43e81">exchangeHorizontalDataBetweenTrees</a>(observer);</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>    }</div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span><span class="preprocessor">#ifdef SharedOMP</span></div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>  }</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span> </div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>  <a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a411f6e237f217538056cbee47cc2859e">_state</a> = <a class="code hl_enumvalue" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a14dae8c91a482bf3cd7e433f3975f0c0a5706de961fb376d701be6e7762d8b09c">SpacetreeSetState::Waiting</a>;</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span> </div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>  <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#aa07efe0ea318000757b2acd065b0a8ba">cleanUpTrees</a>(observer);</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>  <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a18d9a6ada9314cb6a982fc1b5b2b82c6">createNewTrees</a>();</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>  <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a6cbbb95e899ec85ae0473cf42c00f176">deleteClonedObservers</a>();</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span> </div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>  <a class="code hl_define" href="../../d1/d45/Log_8h.html#a688598451ace5fa48f15a1f2a368cd11">logTraceOut</a>(<span class="stringliteral">&quot;traverse()&quot;</span>);</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>}</div>
</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span> </div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span> </div>
<div class="foldopen" id="foldopen00564" data-start="{" data-end="}">
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno"><a class="line" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#aa07efe0ea318000757b2acd065b0a8ba">  564</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#aa07efe0ea318000757b2acd065b0a8ba">peano4::parallel::SpacetreeSet::cleanUpTrees</a>(<a class="code hl_class" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html">peano4::grid::TraversalObserver</a>&amp; observer) {</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>  <a class="code hl_define" href="../../d1/d45/Log_8h.html#aa64069bd3da92590a1df09ed488c47b0">logTraceIn</a>(<span class="stringliteral">&quot;cleanUpTrees()&quot;</span>);</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> p = <a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a8a77b7ea7b1c8c7a69bcbb4b458db6db">_spacetrees</a>.begin(); p != <a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a8a77b7ea7b1c8c7a69bcbb4b458db6db">_spacetrees</a>.end();) {</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>    <span class="comment">/*</span></div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span><span class="comment">        else if (</span></div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span><span class="comment">          p-&gt;getGridStatistics().getCoarseningHasBeenVetoed()</span></div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span><span class="comment">          and</span></div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span><span class="comment">          p-&gt;mayJoinWithMaster()</span></div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span><span class="comment">          and</span></div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span><span class="comment">        ) {</span></div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span><span class="comment">          logInfo( &quot;traverse(Observer)&quot;, &quot;trigger join of tree &quot; &lt;&lt; p-&gt;_id &lt;&lt; &quot; with its master tree &quot; &lt;&lt; p-&gt;_masterId</span></div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span><span class="comment">     &lt;&lt; &quot; to enable further grid erases&quot;); join(p-&gt;_id);</span></div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span><span class="comment">     //</span></div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span><span class="comment">          p-&gt;_masterId&gt;=0</span></div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span><span class="comment">          and</span></div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span><span class="comment">          getSpacetree(p-&gt;_masterId).mayJoinWithWorker()</span></div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span><span class="comment">        }</span></div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span><span class="comment">    */</span></div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>    <span class="keywordflow">if</span> (p-&gt;_spacetreeState == <a class="code hl_enumvalue" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37ca7d50c09f1ad7d098e0a847bcdcab7efb">peano4::grid::SpacetreeState::Joined</a>) {</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>      <a class="code hl_define" href="../../d1/d45/Log_8h.html#ae3782d6eb0450f7ba305896849b587ee">logInfo</a>(<span class="stringliteral">&quot;traverse(Observer)&quot;</span>, <span class="stringliteral">&quot;Tree &quot;</span> &lt;&lt; p-&gt;_id &lt;&lt; <span class="stringliteral">&quot; has successfully joined&quot;</span>);</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>      <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a2b44dbeda9845c18d2d97b834ce0cc71">deleteAllStacks</a>(observer, p-&gt;_id);</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>      <a class="code hl_function" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0">Node::getInstance</a>().<a class="code hl_function" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a32f14062e953a7eae2006343a18b755a">deregisterId</a>(p-&gt;_id);</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>      p = <a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a8a77b7ea7b1c8c7a69bcbb4b458db6db">_spacetrees</a>.erase(p);</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p-&gt;mayJoinWithMaster() and p-&gt;getGridStatistics().getNumberOfLocalUnrefinedCells() == 0) {</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>      <a class="code hl_define" href="../../d1/d45/Log_8h.html#ae3782d6eb0450f7ba305896849b587ee">logInfo</a>(<span class="stringliteral">&quot;traverse(Observer)&quot;</span>, <span class="stringliteral">&quot;Remove empty tree &quot;</span> &lt;&lt; p-&gt;_id &lt;&lt; <span class="stringliteral">&quot; with master &quot;</span> &lt;&lt; p-&gt;_masterId);</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>      <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a2b44dbeda9845c18d2d97b834ce0cc71">deleteAllStacks</a>(observer, p-&gt;_id);</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>      <a class="code hl_function" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0">Node::getInstance</a>().<a class="code hl_function" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a32f14062e953a7eae2006343a18b755a">deregisterId</a>(p-&gt;_id);</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span> </div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0">Node::getInstance</a>().getRank(p-&gt;_masterId) != <a class="code hl_function" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd">tarch::mpi::Rank::getInstance</a>().<a class="code hl_function" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a82f75ffb3e66104757a5a335751bdc29">getRank</a>()) {</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#a4da42acfdf210765692fa283c6981015">logDebug</a>(</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>          <span class="stringliteral">&quot;traverse(Observer)&quot;</span>, <span class="stringliteral">&quot;Parent tree &quot;</span> &lt;&lt; p-&gt;_masterId &lt;&lt; <span class="stringliteral">&quot; is not local on this rank. Remove child reference&quot;</span></div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>        );</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span><span class="preprocessor">#ifdef Parallel</span></div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>        <a class="code hl_struct" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html">TreeManagementMessage</a> message(</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>          p-&gt;_masterId, p-&gt;_id, <a class="code hl_enumvalue" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#aa3d7e177ce6bc07bd01a8b308891e421af210621f58faf7bf43b0c5a4690fb458">TreeManagementMessage::Action::RemoveChildTreeFromBooksAsChildBecameEmpty</a></div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>        );</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>        <a class="code hl_function" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a335aba25eb0153590659ae48d7f6eb71">TreeManagementMessage::send</a>(</div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>          message,</div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>          <a class="code hl_function" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0">Node::getInstance</a>().getRank(p-&gt;_masterId),</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>          <a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a4d0bd6e4ba47d5f2cee9b282b88278a0">_requestMessageTag</a>,</div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>          <a class="code hl_function" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd">tarch::mpi::Rank::getInstance</a>().<a class="code hl_function" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#af6c8bbf40ce79043f17b4707ccadd73b">getCommunicator</a>()</div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>        );</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span> </div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>        <a class="code hl_function" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#acc5c542271504672569e175debab8ac3">TreeManagementMessage::receive</a>(</div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>          message,</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>          <a class="code hl_function" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0">Node::getInstance</a>().getRank(p-&gt;_masterId),</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>          <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a49e92b919a5d722323f191e6328af9fc">getAnswerTag</a>(p-&gt;_id),</div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>          <a class="code hl_function" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd">tarch::mpi::Rank::getInstance</a>().<a class="code hl_function" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#af6c8bbf40ce79043f17b4707ccadd73b">getCommunicator</a>()</div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>        );</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>        <a class="code hl_define" href="../../dc/d46/Assertions_8h.html#aaef98d9fb5999331a810359b572c2efb">assertion1</a>(message.<a class="code hl_function" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a254a9bee212d754ee5d8c976fcf5afb3">getAction</a>() == <a class="code hl_enumvalue" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#aa3d7e177ce6bc07bd01a8b308891e421a527b5dd477abf95e8fe19aac201df396">TreeManagementMessage::Action::Acknowledgement</a>, message.<a class="code hl_function" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a6de11550a424b8f79da95ecf81596246">toString</a>());</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>        <a class="code hl_define" href="../../dc/d46/Assertions_8h.html#abacb43eb9b561c9d50634047a8492afb">assertionMsg</a>(<span class="keyword">false</span>, <span class="stringliteral">&quot;Branch may not be entered&quot;</span>);</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#a4da42acfdf210765692fa283c6981015">logDebug</a>(</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>          <span class="stringliteral">&quot;traverse(Observer)&quot;</span>, <span class="stringliteral">&quot;Parent tree &quot;</span> &lt;&lt; p-&gt;_masterId &lt;&lt; <span class="stringliteral">&quot; is local on this rank. Remove child reference&quot;</span></div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>        );</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>        <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a255dea5ec5043a45b96c5bd8b4979551">getSpacetree</a>(p-&gt;_masterId).<a class="code hl_variable" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html#a5c9686a0e4bdabd4e96f8264c410af42">_childrenIds</a>.erase(p-&gt;_id);</div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>        <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a255dea5ec5043a45b96c5bd8b4979551">getSpacetree</a>(p-&gt;_masterId).<a class="code hl_variable" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html#a4fafcec806752872a89bd0cc93327056">_statistics</a>.<a class="code hl_function" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html#af7c05762262cb60344edb50f23fe00c7">setRemovedEmptySubtree</a>(<span class="keyword">true</span>);</div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>      }</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>      p = <a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a8a77b7ea7b1c8c7a69bcbb4b458db6db">_spacetrees</a>.erase(p);</div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p-&gt;mayJoinWithMaster()) {</div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>      <span class="keyword">const</span> <span class="keywordtype">int</span> localRank  = <a class="code hl_function" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0">Node::getInstance</a>().<a class="code hl_function" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a47bc7f10fa1fa287bf94138032e9716b">getRank</a>(p-&gt;_id);</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>      <span class="keyword">const</span> <span class="keywordtype">int</span> masterRank = <a class="code hl_function" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0">Node::getInstance</a>().<a class="code hl_function" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a47bc7f10fa1fa287bf94138032e9716b">getRank</a>(p-&gt;_masterId);</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>      <span class="keywordflow">if</span> (localRank == masterRank and <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a255dea5ec5043a45b96c5bd8b4979551">getSpacetree</a>(p-&gt;_masterId).<a class="code hl_function" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html#a1a92ee6f9a9b343569d57077f921cb25">getGridStatistics</a>().<a class="code hl_function" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html#ada7c6605e8c2ee65cae97acac03b1048">getCoarseningHasBeenVetoed</a>()) {</div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>        <span class="comment">// @todo erste Meldung info</span></div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#a2d2fd956e3c38ba6a1f694ccc0a1a602">logError</a>(</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>          <span class="stringliteral">&quot;traverse(Observer)&quot;</span>,</div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>          <span class="stringliteral">&quot;Join tree &quot;</span></div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>            &lt;&lt; p-&gt;_id &lt;&lt; <span class="stringliteral">&quot; as it is deteriorated (encodes no hierarchical data) while master &quot;</span> &lt;&lt; p-&gt;_masterId</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>            &lt;&lt; <span class="stringliteral">&quot; resides on same rank and can&#39;t coarsen&quot;</span></div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>        );</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#a2d2fd956e3c38ba6a1f694ccc0a1a602">logError</a>(<span class="stringliteral">&quot;traverse(Observer)&quot;</span>, <span class="stringliteral">&quot;Not implemented yet&quot;</span>);</div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>        <span class="comment">// p-&gt;joinWithMaster();</span></div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>        <span class="comment">// getSpacetree(p-&gt;_masterId).joinWithWorker(p-&gt;_id);</span></div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (localRank == masterRank) {</div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#a4da42acfdf210765692fa283c6981015">logDebug</a>(</div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>          <span class="stringliteral">&quot;traverse(Observer)&quot;</span>,</div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>          <span class="stringliteral">&quot;Tree &quot;</span> &lt;&lt; p-&gt;_id &lt;&lt; <span class="stringliteral">&quot; is deteriorated (encodes no hierarchical data) yet seems not to constrain its master&quot;</span></div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>        );</div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>        <span class="comment">// @todo: Aber nur, wenn es noch andere Baeume auf diesem Rank gibt</span></div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>        <span class="comment">// @todo erste Meldung info</span></div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#a4da42acfdf210765692fa283c6981015">logDebug</a>(</div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>          <span class="stringliteral">&quot;cleanUpTrees()&quot;</span>, <span class="stringliteral">&quot;I should merge tree &quot;</span> &lt;&lt; p-&gt;_id &lt;&lt; <span class="stringliteral">&quot; to reduce synchronisation: &quot;</span> &lt;&lt; p-&gt;toString()</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>        );</div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>        <a class="code hl_define" href="../../d1/d45/Log_8h.html#a4da42acfdf210765692fa283c6981015">logDebug</a>(<span class="stringliteral">&quot;traverse(Observer)&quot;</span>, <span class="stringliteral">&quot;Not implemented yet&quot;</span>);</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>      }</div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>    }</div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>    p++;</div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>  }</div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span>  <a class="code hl_define" href="../../d1/d45/Log_8h.html#a688598451ace5fa48f15a1f2a368cd11">logTraceOut</a>(<span class="stringliteral">&quot;cleanUpTrees()&quot;</span>);</div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>}</div>
</div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span> </div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span> </div>
<div class="foldopen" id="foldopen00659" data-start="{" data-end="}">
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno"><a class="line" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#aa05a1cea439ce5f863fd66b31e8fcc51">  659</a></span><a class="code hl_struct" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html">peano4::grid::GridStatistics</a> <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a85eb3c28124a032792ec6451adf2bad3">peano4::parallel::SpacetreeSet::getGridStatistics</a>(<span class="keywordtype">int</span> treeId)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>  <a class="code hl_define" href="../../dc/d46/Assertions_8h.html#a076e57cb010b7a1f9db57560c77e5e4f">assertion2</a>(<a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#aeab015f02f3d415aa058c855e794e9c6">isLocalSpacetree</a>(treeId), treeId, <a class="code hl_function" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd">tarch::mpi::Rank::getInstance</a>().getRank());</div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a255dea5ec5043a45b96c5bd8b4979551">getSpacetree</a>(treeId).<a class="code hl_function" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html#a1a92ee6f9a9b343569d57077f921cb25">getGridStatistics</a>();</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>}</div>
</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span> </div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span> </div>
<div class="foldopen" id="foldopen00665" data-start="{" data-end="}">
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno"><a class="line" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a85eb3c28124a032792ec6451adf2bad3">  665</a></span><a class="code hl_struct" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html">peano4::grid::GridStatistics</a> <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a85eb3c28124a032792ec6451adf2bad3">peano4::parallel::SpacetreeSet::getGridStatistics</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>  <a class="code hl_define" href="../../d1/d45/Log_8h.html#aa64069bd3da92590a1df09ed488c47b0">logTraceIn</a>(<span class="stringliteral">&quot;getGridStatistics()&quot;</span>);</div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a8a77b7ea7b1c8c7a69bcbb4b458db6db">_spacetrees</a>.empty()) {</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>    <a class="code hl_struct" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html">peano4::grid::GridStatistics</a> result(</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>      0, <span class="comment">// __numberOfLocalUnrefinedCells,</span></div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>      0, <span class="comment">// __numberOfRemoteUnrefinedCells,</span></div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>      0, <span class="comment">// __numberOfLocalRefinedCells</span></div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>      0, <span class="comment">// __numberOfRemoteRefinedCells,</span></div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>      0, <span class="comment">// __stationarySweeps,</span></div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>      <span class="keyword">false</span>,</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>      <span class="keyword">false</span>,</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>      <a class="code hl_struct" href="../../d7/d26/structtarch_1_1la_1_1Vector.html">tarch::la::Vector&lt;Dimensions, double&gt;</a>(std::numeric_limits&lt;double&gt;::max()) <span class="comment">// minH</span></div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>    );</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>    <a class="code hl_define" href="../../d1/d45/Log_8h.html#a6730fae040d143cdf405527ae0ef65af">logTraceOutWith1Argument</a>(<span class="stringliteral">&quot;getGridStatistics()&quot;</span>, result.<a class="code hl_function" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html#a330c69208e5ce8528313b3ac6828e8af">toString</a>());</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span>    <a class="code hl_struct" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html">peano4::grid::GridStatistics</a> result(<a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a8a77b7ea7b1c8c7a69bcbb4b458db6db">_spacetrees</a>.begin()-&gt;_statistics);</div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; from : <a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a8a77b7ea7b1c8c7a69bcbb4b458db6db">_spacetrees</a>) {</div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span>      <span class="keywordflow">if</span> (from._id != <a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a8a77b7ea7b1c8c7a69bcbb4b458db6db">_spacetrees</a>.begin()-&gt;_id and from._spacetreeState != <a class="code hl_enumvalue" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37ca09bce956ecf16a726820c33dc8fe3cc6">peano4::grid::SpacetreeState::NewFromSplit</a>) {</div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>        result = result + from._statistics;</div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>      }</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>    }</div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>    <a class="code hl_define" href="../../d1/d45/Log_8h.html#a6730fae040d143cdf405527ae0ef65af">logTraceOutWith1Argument</a>(<span class="stringliteral">&quot;getGridStatistics()&quot;</span>, result.<a class="code hl_function" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html#a330c69208e5ce8528313b3ac6828e8af">toString</a>());</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>  }</div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>}</div>
</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span> </div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span> </div>
<div class="foldopen" id="foldopen00693" data-start="{" data-end="}">
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno"><a class="line" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#aeab015f02f3d415aa058c855e794e9c6">  693</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#aeab015f02f3d415aa058c855e794e9c6">peano4::parallel::SpacetreeSet::isLocalSpacetree</a>(<span class="keywordtype">int</span> treeId)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; p : <a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a8a77b7ea7b1c8c7a69bcbb4b458db6db">_spacetrees</a>) {</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>    <span class="keywordflow">if</span> (p._id == treeId)</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span>      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>  }</div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>}</div>
</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span> </div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span> </div>
<div class="foldopen" id="foldopen00702" data-start="{" data-end="}">
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno"><a class="line" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#abd1643da8908cfca6368aae3bba9ab02">  702</a></span>std::set&lt;int&gt; <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#abd1643da8908cfca6368aae3bba9ab02">peano4::parallel::SpacetreeSet::getLocalSpacetrees</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>  std::set&lt;int&gt; result;</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span> </div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; p : <a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a8a77b7ea7b1c8c7a69bcbb4b458db6db">_spacetrees</a>) {</div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>    result.insert(p._id);</div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>  }</div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span> </div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>  <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>}</div>
</div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span> </div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span> </div>
<div class="foldopen" id="foldopen00713" data-start="{" data-end="}">
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno"><a class="line" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a4c99275a5fd270dce1999818063bd802">  713</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a4c99275a5fd270dce1999818063bd802">peano4::parallel::SpacetreeSet::split</a>(<span class="keywordtype">int</span> treeId, <span class="keyword">const</span> <a class="code hl_struct" href="../../dd/d3a/structpeano4_1_1SplitInstruction.html">peano4::SplitInstruction</a>&amp; instruction, <span class="keywordtype">int</span> targetRank) {</div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>  <a class="code hl_define" href="../../d1/d45/Log_8h.html#a9af6896c1124d168165783a71b956c12">logTraceInWith3Arguments</a>(<span class="stringliteral">&quot;split()&quot;</span>, treeId, instruction, targetRank);</div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>  <a class="code hl_class" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">peano4::grid::Spacetree</a>&amp; tree = <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a255dea5ec5043a45b96c5bd8b4979551">getSpacetree</a>(treeId);</div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span> </div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>  <span class="keywordflow">if</span> (tree.maySplit()) {</div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>    <span class="keywordtype">int</span> newSpacetreeId = -1;</div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span> </div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd">tarch::mpi::Rank::getInstance</a>().getRank() != targetRank) {</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span><span class="preprocessor">#ifdef Parallel</span></div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span>      <a class="code hl_define" href="../../d1/d45/Log_8h.html#a4da42acfdf210765692fa283c6981015">logDebug</a>(<span class="stringliteral">&quot;split()&quot;</span>, <span class="stringliteral">&quot;Request new tree on rank &quot;</span> &lt;&lt; targetRank);</div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>      <a class="code hl_struct" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html">peano4::parallel::TreeManagementMessage</a> requestMessage;</div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>      requestMessage.<a class="code hl_function" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a39dcc85e917582e601772f414d892432">setMasterSpacetreeId</a>(treeId);</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>      requestMessage.<a class="code hl_function" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a751e49c699fded29e8ea2bbb27ec085c">setWorkerSpacetreeId</a>(-1);</div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>      requestMessage.<a class="code hl_function" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a8234a885ab8329a3d554bef233909545">setAction</a>(<a class="code hl_enumvalue" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#aa3d7e177ce6bc07bd01a8b308891e421a5d2933f9a52961da81a30c9080e93263">peano4::parallel::TreeManagementMessage::Action::RequestNewRemoteTree</a>);</div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>      <a class="code hl_function" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a7cfae5baa7c161d85705f2f8cf1e0703">TreeManagementMessage::sendAndPollDanglingMessages</a>(requestMessage, targetRank, <a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a4d0bd6e4ba47d5f2cee9b282b88278a0">_requestMessageTag</a>);</div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span> </div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>      <a class="code hl_define" href="../../d1/d45/Log_8h.html#a4da42acfdf210765692fa283c6981015">logDebug</a>(<span class="stringliteral">&quot;split()&quot;</span>, <span class="stringliteral">&quot;Message &quot;</span> &lt;&lt; requestMessage.<a class="code hl_function" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a6de11550a424b8f79da95ecf81596246">toString</a>() &lt;&lt; <span class="stringliteral">&quot; sent - wait for answer&quot;</span>);</div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span> </div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>      <a class="code hl_struct" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html">peano4::parallel::TreeManagementMessage</a> answerMessage;</div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>      <a class="code hl_function" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#aa491a74d2227e95a538b3d5f4076390c">TreeManagementMessage::receiveAndPollDanglingMessages</a>(answerMessage, targetRank, <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a49e92b919a5d722323f191e6328af9fc">getAnswerTag</a>(treeId));</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>      <a class="code hl_define" href="../../dc/d46/Assertions_8h.html#ad1f19e66ef7ee05422b3ae89f9432172">assertion</a>(answerMessage.<a class="code hl_function" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a254a9bee212d754ee5d8c976fcf5afb3">getAction</a>() == <a class="code hl_enumvalue" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#aa3d7e177ce6bc07bd01a8b308891e421a527b5dd477abf95e8fe19aac201df396">TreeManagementMessage::Action::Acknowledgement</a>);</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>      newSpacetreeId = answerMessage.<a class="code hl_function" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a458b1e97bbb08a62840c1f494633aa9e">getWorkerSpacetreeId</a>();</div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>      newSpacetreeId = -1;</div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>      <a class="code hl_define" href="../../dc/d46/Assertions_8h.html#abacb43eb9b561c9d50634047a8492afb">assertionMsg</a>(<span class="keyword">false</span>, <span class="stringliteral">&quot;Can&#39;t split into tree on a different rank if not compiled with parallel support&quot;</span>);</div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>      newSpacetreeId = <a class="code hl_function" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0">peano4::parallel::Node::getInstance</a>().<a class="code hl_function" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a59bed030f4816c88a02ff326e7a0811c">reserveId</a>(</div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>        <a class="code hl_function" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0">peano4::parallel::Node::getInstance</a>().getRank(treeId), treeId</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>      );</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>    }</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span> </div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>    <span class="keywordflow">if</span> (newSpacetreeId &gt;= 0) {</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>      tree.split(newSpacetreeId, instruction);</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>      <a class="code hl_define" href="../../d1/d45/Log_8h.html#a4da42acfdf210765692fa283c6981015">logDebug</a>(</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>        <span class="stringliteral">&quot;split()&quot;</span>,</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>        <span class="stringliteral">&quot;Trigger split of tree &quot;</span> &lt;&lt; treeId &lt;&lt; <span class="stringliteral">&quot; into tree &quot;</span> &lt;&lt; newSpacetreeId &lt;&lt; <span class="stringliteral">&quot; on rank &quot;</span> &lt;&lt; targetRank &lt;&lt; <span class="stringliteral">&quot; with instruction &quot;</span> &lt;&lt; instruction</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>      );</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>      <a class="code hl_define" href="../../d1/d45/Log_8h.html#a6730fae040d143cdf405527ae0ef65af">logTraceOutWith1Argument</a>(<span class="stringliteral">&quot;split()&quot;</span>, <span class="keyword">true</span>);</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>    }</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>  }</div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span> </div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>  <a class="code hl_define" href="../../d1/d45/Log_8h.html#a6730fae040d143cdf405527ae0ef65af">logTraceOutWith1Argument</a>(<span class="stringliteral">&quot;split()&quot;</span>, <span class="keyword">false</span>);</div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>}</div>
</div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span> </div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span> </div>
<div class="foldopen" id="foldopen00761" data-start="{" data-end="}">
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno"><a class="line" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a255dea5ec5043a45b96c5bd8b4979551">  761</a></span><a class="code hl_class" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">peano4::grid::Spacetree</a>&amp; <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a255dea5ec5043a45b96c5bd8b4979551">peano4::parallel::SpacetreeSet::getSpacetree</a>(<span class="keywordtype">int</span> <span class="keywordtype">id</span>) {</div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; p : <a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a8a77b7ea7b1c8c7a69bcbb4b458db6db">_spacetrees</a>) {</div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>    <span class="keywordflow">if</span> (p._id == <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>      <span class="keywordflow">return</span> p;</div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span>  }</div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>  <a class="code hl_define" href="../../dc/d46/Assertions_8h.html#a9dbc4cb7842b714e4a6d6a55459aa2be">assertion3</a>(<span class="keyword">false</span>, <span class="stringliteral">&quot;no spacetree found&quot;</span>, <span class="keywordtype">id</span>, <a class="code hl_function" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd">tarch::mpi::Rank::getInstance</a>().getRank());</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>  <span class="keywordflow">return</span> *<a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a8a77b7ea7b1c8c7a69bcbb4b458db6db">_spacetrees</a>.begin(); <span class="comment">// just here to avoid warning</span></div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>}</div>
</div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span> </div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span> </div>
<div class="foldopen" id="foldopen00771" data-start="{" data-end="}">
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno"><a class="line" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a044c77e89b2c4763f069146a075fd812">  771</a></span><span class="keyword">const</span> <a class="code hl_class" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">peano4::grid::Spacetree</a>&amp; <a class="code hl_function" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a255dea5ec5043a45b96c5bd8b4979551">peano4::parallel::SpacetreeSet::getSpacetree</a>(<span class="keywordtype">int</span> <span class="keywordtype">id</span>)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; p : <a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a8a77b7ea7b1c8c7a69bcbb4b458db6db">_spacetrees</a>) {</div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>    <span class="keywordflow">if</span> (p._id == <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>      <span class="keywordflow">return</span> p;</div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>  }</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>  <a class="code hl_define" href="../../dc/d46/Assertions_8h.html#a9dbc4cb7842b714e4a6d6a55459aa2be">assertion3</a>(<span class="keyword">false</span>, <span class="stringliteral">&quot;no spacetree found&quot;</span>, <span class="keywordtype">id</span>, <a class="code hl_function" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd">tarch::mpi::Rank::getInstance</a>().getRank());</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>  <span class="keywordflow">return</span> *<a class="code hl_variable" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a8a77b7ea7b1c8c7a69bcbb4b458db6db">_spacetrees</a>.begin(); <span class="comment">// just here to avoid warning</span></div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>}</div>
</div>
<div class="ttc" id="aAssertions_8h_html_a076e57cb010b7a1f9db57560c77e5e4f"><div class="ttname"><a href="../../dc/d46/Assertions_8h.html#a076e57cb010b7a1f9db57560c77e5e4f">assertion2</a></div><div class="ttdeci">#define assertion2(expr, param0, param1)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d46/Assertions_8h_source.html#l01019">Assertions.h:1019</a></div></div>
<div class="ttc" id="aAssertions_8h_html_a093c4d6445977036c1bb1ca57df181b9"><div class="ttname"><a href="../../dc/d46/Assertions_8h.html#a093c4d6445977036c1bb1ca57df181b9">assertion4</a></div><div class="ttdeci">#define assertion4(expr, param0, param1, param2, param3)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d46/Assertions_8h_source.html#l01021">Assertions.h:1021</a></div></div>
<div class="ttc" id="aAssertions_8h_html_a9dbc4cb7842b714e4a6d6a55459aa2be"><div class="ttname"><a href="../../dc/d46/Assertions_8h.html#a9dbc4cb7842b714e4a6d6a55459aa2be">assertion3</a></div><div class="ttdeci">#define assertion3(expr, param0, param1, param2)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d46/Assertions_8h_source.html#l01020">Assertions.h:1020</a></div></div>
<div class="ttc" id="aAssertions_8h_html_aaef98d9fb5999331a810359b572c2efb"><div class="ttname"><a href="../../dc/d46/Assertions_8h.html#aaef98d9fb5999331a810359b572c2efb">assertion1</a></div><div class="ttdeci">#define assertion1(expr, param)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d46/Assertions_8h_source.html#l01018">Assertions.h:1018</a></div></div>
<div class="ttc" id="aAssertions_8h_html_abacb43eb9b561c9d50634047a8492afb"><div class="ttname"><a href="../../dc/d46/Assertions_8h.html#abacb43eb9b561c9d50634047a8492afb">assertionMsg</a></div><div class="ttdeci">#define assertionMsg(expr, message)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d46/Assertions_8h_source.html#l01076">Assertions.h:1076</a></div></div>
<div class="ttc" id="aAssertions_8h_html_ad1f19e66ef7ee05422b3ae89f9432172"><div class="ttname"><a href="../../dc/d46/Assertions_8h.html#ad1f19e66ef7ee05422b3ae89f9432172">assertion</a></div><div class="ttdeci">#define assertion(expr)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d46/Assertions_8h_source.html#l01017">Assertions.h:1017</a></div></div>
<div class="ttc" id="aDiscontinuousGalerkinDiscretisationPointWiseRiemannSolver_8Abstract_8template_8h_html_a17816079e65513d7293a826311d3afdf"><div class="ttname"><a href="../../d1/d30/DiscontinuousGalerkinDiscretisationPointWiseRiemannSolver_8Abstract_8template_8h.html#a17816079e65513d7293a826311d3afdf">_state</a></div><div class="ttdeci">State _state</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d30/DiscontinuousGalerkinDiscretisationPointWiseRiemannSolver_8Abstract_8template_8h_source.html#l00066">DiscontinuousGalerkinDiscretisationPointWiseRiemannSolver.Abstract.template.h:66</a></div></div>
<div class="ttc" id="aGridTraversalEventGeneratorTest_8cpp_html_a3b6f08cc1aee02c7b40b0a2d503beeb8"><div class="ttname"><a href="../../d0/d31/GridTraversalEventGeneratorTest_8cpp.html#a3b6f08cc1aee02c7b40b0a2d503beeb8">state</a></div><div class="ttdeci">AutomatonState state</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d31/GridTraversalEventGeneratorTest_8cpp_source.html#l00146">GridTraversalEventGeneratorTest.cpp:146</a></div></div>
<div class="ttc" id="aIntegerMessage_8h_html"><div class="ttname"><a href="../../d1/d18/IntegerMessage_8h.html">IntegerMessage.h</a></div></div>
<div class="ttc" id="aLog_8h_html_a2d2fd956e3c38ba6a1f694ccc0a1a602"><div class="ttname"><a href="../../d1/d45/Log_8h.html#a2d2fd956e3c38ba6a1f694ccc0a1a602">logError</a></div><div class="ttdeci">#define logError(methodName, logMacroMessageStream)</div><div class="ttdoc">Wrapper macro around tarch::tarch::logging::Log to improve logging.</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d45/Log_8h_source.html#l00464">Log.h:464</a></div></div>
<div class="ttc" id="aLog_8h_html_a4da42acfdf210765692fa283c6981015"><div class="ttname"><a href="../../d1/d45/Log_8h.html#a4da42acfdf210765692fa283c6981015">logDebug</a></div><div class="ttdeci">#define logDebug(methodName, logMacroMessageStream)</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d45/Log_8h_source.html#l00050">Log.h:50</a></div></div>
<div class="ttc" id="aLog_8h_html_a6730fae040d143cdf405527ae0ef65af"><div class="ttname"><a href="../../d1/d45/Log_8h.html#a6730fae040d143cdf405527ae0ef65af">logTraceOutWith1Argument</a></div><div class="ttdeci">#define logTraceOutWith1Argument(methodName, argument0)</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d45/Log_8h_source.html#l00380">Log.h:380</a></div></div>
<div class="ttc" id="aLog_8h_html_a688598451ace5fa48f15a1f2a368cd11"><div class="ttname"><a href="../../d1/d45/Log_8h.html#a688598451ace5fa48f15a1f2a368cd11">logTraceOut</a></div><div class="ttdeci">#define logTraceOut(methodName)</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d45/Log_8h_source.html#l00379">Log.h:379</a></div></div>
<div class="ttc" id="aLog_8h_html_a9af6896c1124d168165783a71b956c12"><div class="ttname"><a href="../../d1/d45/Log_8h.html#a9af6896c1124d168165783a71b956c12">logTraceInWith3Arguments</a></div><div class="ttdeci">#define logTraceInWith3Arguments(methodName, argument0, argument1, argument2)</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d45/Log_8h_source.html#l00372">Log.h:372</a></div></div>
<div class="ttc" id="aLog_8h_html_aa64069bd3da92590a1df09ed488c47b0"><div class="ttname"><a href="../../d1/d45/Log_8h.html#aa64069bd3da92590a1df09ed488c47b0">logTraceIn</a></div><div class="ttdeci">#define logTraceIn(methodName)</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d45/Log_8h_source.html#l00369">Log.h:369</a></div></div>
<div class="ttc" id="aLog_8h_html_aad7ff4ec1e13cb14a0e4563276ef2196"><div class="ttname"><a href="../../d1/d45/Log_8h.html#aad7ff4ec1e13cb14a0e4563276ef2196">logTraceInWith1Argument</a></div><div class="ttdeci">#define logTraceInWith1Argument(methodName, argument0)</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d45/Log_8h_source.html#l00370">Log.h:370</a></div></div>
<div class="ttc" id="aLog_8h_html_ae13c35427fcb5bd9f778edc31b68f6e6"><div class="ttname"><a href="../../d1/d45/Log_8h.html#ae13c35427fcb5bd9f778edc31b68f6e6">logTraceInWith2Arguments</a></div><div class="ttdeci">#define logTraceInWith2Arguments(methodName, argument0, argument1)</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d45/Log_8h_source.html#l00371">Log.h:371</a></div></div>
<div class="ttc" id="aLog_8h_html_ae3782d6eb0450f7ba305896849b587ee"><div class="ttname"><a href="../../d1/d45/Log_8h.html#ae3782d6eb0450f7ba305896849b587ee">logInfo</a></div><div class="ttdeci">#define logInfo(methodName, logMacroMessageStream)</div><div class="ttdoc">Wrapper macro around tarch::tarch::logging::Log to improve logging.</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d45/Log_8h_source.html#l00411">Log.h:411</a></div></div>
<div class="ttc" id="aNode_8h_html"><div class="ttname"><a href="../../db/d92/Node_8h.html">Node.h</a></div></div>
<div class="ttc" id="aPeanoCurve_8h_html"><div class="ttname"><a href="../../d3/dd9/PeanoCurve_8h.html">PeanoCurve.h</a></div></div>
<div class="ttc" id="aRank_8h_html"><div class="ttname"><a href="../../df/df3/Rank_8h.html">Rank.h</a></div></div>
<div class="ttc" id="aServiceRepository_8h_html"><div class="ttname"><a href="../../d8/d4e/ServiceRepository_8h.html">ServiceRepository.h</a></div></div>
<div class="ttc" id="aSpacetreeSet_8h_html"><div class="ttname"><a href="../../d0/d08/SpacetreeSet_8h.html">SpacetreeSet.h</a></div></div>
<div class="ttc" id="aSpacetree_8h_html"><div class="ttname"><a href="../../d1/d2e/Spacetree_8h.html">Spacetree.h</a></div></div>
<div class="ttc" id="aTraversalObserver_8h_html"><div class="ttname"><a href="../../df/d0a/TraversalObserver_8h.html">TraversalObserver.h</a></div></div>
<div class="ttc" id="aWatch_8h_html"><div class="ttname"><a href="../../d9/d42/Watch_8h.html">Watch.h</a></div></div>
<div class="ttc" id="abenchmarks_2peano4_2grid_2main_8cpp_html_a57ebc38ae51b6d4b0e7e1dc43442f318"><div class="ttname"><a href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a57ebc38ae51b6d4b0e7e1dc43442f318">periodicBC</a></div><div class="ttdeci">std::bitset&lt; Dimensions &gt; periodicBC</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp_source.html#l00019">main.cpp:19</a></div></div>
<div class="ttc" id="aclasspeano4_1_1grid_1_1PeanoCurve_html_a1d6c56c753308d4bd4100d23fc164ac8"><div class="ttname"><a href="../../d5/d2c/classpeano4_1_1grid_1_1PeanoCurve.html#a1d6c56c753308d4bd4100d23fc164ac8">peano4::grid::PeanoCurve::getInputStackNumber</a></div><div class="ttdeci">static int getInputStackNumber(const AutomatonState &amp;state)</div><div class="ttdef"><b>Definition</b> <a href="../../d2/d19/PeanoCurve_8cpp_source.html#l00135">PeanoCurve.cpp:135</a></div></div>
<div class="ttc" id="aclasspeano4_1_1grid_1_1Spacetree_html"><div class="ttname"><a href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">peano4::grid::Spacetree</a></div><div class="ttdoc">Represents one tree.</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d2e/Spacetree_8h_source.html#l00040">Spacetree.h:40</a></div></div>
<div class="ttc" id="aclasspeano4_1_1grid_1_1Spacetree_html_a1a92ee6f9a9b343569d57077f921cb25"><div class="ttname"><a href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html#a1a92ee6f9a9b343569d57077f921cb25">peano4::grid::Spacetree::getGridStatistics</a></div><div class="ttdeci">GridStatistics getGridStatistics() const</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d23/Spacetree_8cpp_source.html#l01762">Spacetree.cpp:1762</a></div></div>
<div class="ttc" id="aclasspeano4_1_1grid_1_1Spacetree_html_a2994c142309786241aacae1df7737b19"><div class="ttname"><a href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html#a2994c142309786241aacae1df7737b19">peano4::grid::Spacetree::_vertexStack</a></div><div class="ttdeci">static GridVertexStackMap _vertexStack</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d2e/Spacetree_8h_source.html#l00152">Spacetree.h:152</a></div></div>
<div class="ttc" id="aclasspeano4_1_1grid_1_1Spacetree_html_a4fafcec806752872a89bd0cc93327056"><div class="ttname"><a href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html#a4fafcec806752872a89bd0cc93327056">peano4::grid::Spacetree::_statistics</a></div><div class="ttdeci">GridStatistics _statistics</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d2e/Spacetree_8h_source.html#l00099">Spacetree.h:99</a></div></div>
<div class="ttc" id="aclasspeano4_1_1grid_1_1Spacetree_html_a5c9686a0e4bdabd4e96f8264c410af42"><div class="ttname"><a href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html#a5c9686a0e4bdabd4e96f8264c410af42">peano4::grid::Spacetree::_childrenIds</a></div><div class="ttdeci">std::set&lt; int &gt; _childrenIds</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d2e/Spacetree_8h_source.html#l00110">Spacetree.h:110</a></div></div>
<div class="ttc" id="aclasspeano4_1_1grid_1_1TraversalObserver_html"><div class="ttname"><a href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html">peano4::grid::TraversalObserver</a></div><div class="ttdef"><b>Definition</b> <a href="../../df/d0a/TraversalObserver_8h_source.html#l00036">TraversalObserver.h:36</a></div></div>
<div class="ttc" id="aclasspeano4_1_1grid_1_1TraversalObserver_html_a856511702ac2d89d35efb761b1c3a7f6"><div class="ttname"><a href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html#a856511702ac2d89d35efb761b1c3a7f6">peano4::grid::TraversalObserver::clone</a></div><div class="ttdeci">virtual TraversalObserver * clone(int spacetreeId)=0</div></div>
<div class="ttc" id="aclasspeano4_1_1maps_1_1HierarchicalStackMap_html_a4dba5adf738e9c3c8081158eb949cfb6"><div class="ttname"><a href="../../de/d6d/classpeano4_1_1maps_1_1HierarchicalStackMap.html#a4dba5adf738e9c3c8081158eb949cfb6">peano4::maps::HierarchicalStackMap::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition</b> <a href="../../db/d67/HierarchicalStackMap_8h_source.html#l00251">HierarchicalStackMap.h:251</a></div></div>
<div class="ttc" id="aclasspeano4_1_1maps_1_1HierarchicalStackMap_html_a55d68bb6e0ec644c8419c81e92507feb"><div class="ttname"><a href="../../de/d6d/classpeano4_1_1maps_1_1HierarchicalStackMap.html#a55d68bb6e0ec644c8419c81e92507feb">peano4::maps::HierarchicalStackMap::getForPush</a></div><div class="ttdeci">T * getForPush(int treeId, int stackId)</div><div class="ttdoc">Get the stack belonging to a tree.</div><div class="ttdef"><b>Definition</b> <a href="../../db/d67/HierarchicalStackMap_8h_source.html#l00142">HierarchicalStackMap.h:142</a></div></div>
<div class="ttc" id="aclasspeano4_1_1maps_1_1HierarchicalStackMap_html_aa045c54eab4e52aec02116c588d54827"><div class="ttname"><a href="../../de/d6d/classpeano4_1_1maps_1_1HierarchicalStackMap.html#aa045c54eab4e52aec02116c588d54827">peano4::maps::HierarchicalStackMap::empty</a></div><div class="ttdeci">bool empty(int treeId, int stackId) const</div><div class="ttdef"><b>Definition</b> <a href="../../db/d67/HierarchicalStackMap_8h_source.html#l00132">HierarchicalStackMap.h:132</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1Node_html_a26bce930fdbe8b6f48779973f80bb6b9"><div class="ttname"><a href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a26bce930fdbe8b6f48779973f80bb6b9">peano4::parallel::Node::MaxSpacetreesPerRank</a></div><div class="ttdeci">static constexpr int MaxSpacetreesPerRank</div><div class="ttdef"><b>Definition</b> <a href="../../db/d92/Node_8h_source.html#l00040">Node.h:40</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1Node_html_a32f14062e953a7eae2006343a18b755a"><div class="ttname"><a href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a32f14062e953a7eae2006343a18b755a">peano4::parallel::Node::deregisterId</a></div><div class="ttdeci">void deregisterId(int id)</div><div class="ttdoc">Only the SpacetreeSet should call this operation.</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d73/Node_8cpp_source.html#l00159">Node.cpp:159</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1Node_html_a426860ede252fd2c044bdfda9f973d79"><div class="ttname"><a href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a426860ede252fd2c044bdfda9f973d79">peano4::parallel::Node::getLocalTreeId</a></div><div class="ttdeci">int getLocalTreeId(int treeId) const</div><div class="ttdef"><b>Definition</b> <a href="../../db/d92/Node_8h_source.html#l00059">Node.h:59</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1Node_html_a47bc7f10fa1fa287bf94138032e9716b"><div class="ttname"><a href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a47bc7f10fa1fa287bf94138032e9716b">peano4::parallel::Node::getRank</a></div><div class="ttdeci">int getRank(int treeId) const</div><div class="ttdoc">You hand in a tree number and the node tells you on which rank such a tree is hosted.</div><div class="ttdef"><b>Definition</b> <a href="../../db/d92/Node_8h_source.html#l00101">Node.h:101</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1Node_html_a59bed030f4816c88a02ff326e7a0811c"><div class="ttname"><a href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a59bed030f4816c88a02ff326e7a0811c">peano4::parallel::Node::reserveId</a></div><div class="ttdeci">int reserveId(int rank, int forTreeId)</div><div class="ttdoc">This operation is not const as it does some internal bookkeeping.</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d73/Node_8cpp_source.html#l00079">Node.cpp:79</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1Node_html_a7bc31c5e9f0f24785ae7e19d7add30c0"><div class="ttname"><a href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0">peano4::parallel::Node::getInstance</a></div><div class="ttdeci">static Node &amp; getInstance()</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d73/Node_8cpp_source.html#l00077">Node.cpp:77</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1Node_html_a8184e84956133244ca1f9ef348516956"><div class="ttname"><a href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a8184e84956133244ca1f9ef348516956">peano4::parallel::Node::createPendingCommunicators</a></div><div class="ttdeci">void createPendingCommunicators()</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d73/Node_8cpp_source.html#l00138">Node.cpp:138</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1Node_html_a8a93c14d54c30233541e6a10da2c0bde"><div class="ttname"><a href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a8a93c14d54c30233541e6a10da2c0bde">peano4::parallel::Node::continueToRun</a></div><div class="ttdeci">bool continueToRun()</div><div class="ttdoc">You should call this operation only on the ranks &gt;0 to find out whether you should do more iteration/...</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d73/Node_8cpp_source.html#l00393">Node.cpp:393</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1Node_html_a8e3b4ea37d72a26fc5a3a07ec565ba12"><div class="ttname"><a href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a8e3b4ea37d72a26fc5a3a07ec565ba12">peano4::parallel::Node::getOutputStackNumberForVerticalDataExchange</a></div><div class="ttdeci">static int getOutputStackNumberForVerticalDataExchange(int id)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d73/Node_8cpp_source.html#l00188">Node.cpp:188</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_1_1TraverseTask_html"><div class="ttname"><a href="../../dc/dc7/classpeano4_1_1parallel_1_1SpacetreeSet_1_1TraverseTask.html">peano4::parallel::SpacetreeSet::TraverseTask</a></div><div class="ttdoc">Each task triggers the traversal of one specific spacetree.</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d08/SpacetreeSet_8h_source.html#l00055">SpacetreeSet.h:55</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_1_1TraverseTask_html_a42be8882f5503d1607ecb282814a8b4b"><div class="ttname"><a href="../../dc/dc7/classpeano4_1_1parallel_1_1SpacetreeSet_1_1TraverseTask.html#a42be8882f5503d1607ecb282814a8b4b">peano4::parallel::SpacetreeSet::TraverseTask::run</a></div><div class="ttdeci">virtual bool run() override</div><div class="ttdoc">I create the copy of the observer, run the traversal on my local tree _spacetree and finally destroy ...</div><div class="ttdef"><b>Definition</b> <a href="#l00258">SpacetreeSet.cpp:258</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_1_1TraverseTask_html_ae966a43fd10b50e3c3cf24c8545ec2d6"><div class="ttname"><a href="../../dc/dc7/classpeano4_1_1parallel_1_1SpacetreeSet_1_1TraverseTask.html#ae966a43fd10b50e3c3cf24c8545ec2d6">peano4::parallel::SpacetreeSet::TraverseTask::TraverseTask</a></div><div class="ttdeci">TraverseTask(peano4::grid::Spacetree &amp;tree, SpacetreeSet &amp;set, peano4::grid::TraversalObserver &amp;observer, bool invertTreeTraversalDirectionBeforeWeStart)</div><div class="ttdef"><b>Definition</b> <a href="#l00246">SpacetreeSet.cpp:246</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_html"><div class="ttname"><a href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html">peano4::parallel::SpacetreeSet</a></div><div class="ttdoc">The spacetree set has to be a singleton, as it is reponsible to accept requests for new trees from re...</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d08/SpacetreeSet_8h_source.html#l00041">SpacetreeSet.h:41</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_html_a0fa99ca041b01b58cf60f5b738305913"><div class="ttname"><a href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a0fa99ca041b01b58cf60f5b738305913">peano4::parallel::SpacetreeSet::exchangeVerticalDataBetweenTrees</a></div><div class="ttdeci">void exchangeVerticalDataBetweenTrees(peano4::grid::TraversalObserver &amp;observer)</div><div class="ttdef"><b>Definition</b> <a href="#l00338">SpacetreeSet.cpp:338</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_html_a1327050fed46cb19cf89d3d0f7f7cbe9"><div class="ttname"><a href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a1327050fed46cb19cf89d3d0f7f7cbe9">peano4::parallel::SpacetreeSet::addSpacetree</a></div><div class="ttdeci">void addSpacetree(int masterId, int newTreeId)</div><div class="ttdoc">Adds a new spacetree to the set.</div><div class="ttdef"><b>Definition</b> <a href="#l00208">SpacetreeSet.cpp:208</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_html_a14dae8c91a482bf3cd7e433f3975f0c0"><div class="ttname"><a href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a14dae8c91a482bf3cd7e433f3975f0c0">peano4::parallel::SpacetreeSet::SpacetreeSetState</a></div><div class="ttdeci">SpacetreeSetState</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d08/SpacetreeSet_8h_source.html#l00302">SpacetreeSet.h:302</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_html_a14dae8c91a482bf3cd7e433f3975f0c0a3da0a28b3e6866d48d179ae9717d739b"><div class="ttname"><a href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a14dae8c91a482bf3cd7e433f3975f0c0a3da0a28b3e6866d48d179ae9717d739b">peano4::parallel::SpacetreeSet::SpacetreeSetState::TraverseTreesAndExchangeData</a></div><div class="ttdeci">@ TraverseTreesAndExchangeData</div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_html_a14dae8c91a482bf3cd7e433f3975f0c0a5706de961fb376d701be6e7762d8b09c"><div class="ttname"><a href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a14dae8c91a482bf3cd7e433f3975f0c0a5706de961fb376d701be6e7762d8b09c">peano4::parallel::SpacetreeSet::SpacetreeSetState::Waiting</a></div><div class="ttdeci">@ Waiting</div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_html_a18d9a6ada9314cb6a982fc1b5b2b82c6"><div class="ttname"><a href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a18d9a6ada9314cb6a982fc1b5b2b82c6">peano4::parallel::SpacetreeSet::createNewTrees</a></div><div class="ttdeci">void createNewTrees()</div><div class="ttdoc">This operation should be called pretty close towards the end of a traversal.</div><div class="ttdef"><b>Definition</b> <a href="#l00442">SpacetreeSet.cpp:442</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_html_a1aa1106b0a08e18237de78ced6694778"><div class="ttname"><a href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a1aa1106b0a08e18237de78ced6694778">peano4::parallel::SpacetreeSet::_clonedObserver</a></div><div class="ttdeci">std::map&lt; int, peano4::grid::TraversalObserver * &gt; _clonedObserver</div><div class="ttdoc">I create/clone one observer per local tree.</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d08/SpacetreeSet_8h_source.html#l00347">SpacetreeSet.h:347</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_html_a1ef581ef75460202f1af9fa5c2ad7bfc"><div class="ttname"><a href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a1ef581ef75460202f1af9fa5c2ad7bfc">peano4::parallel::SpacetreeSet::streamDataFromSplittingTreeToNewTree</a></div><div class="ttdeci">static void streamDataFromSplittingTreeToNewTree(Container &amp;stackContainer, int master, int worker)</div><div class="ttdoc">Copies (streams) data from the master to the worker.</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d1e/SpacetreeSet_8cpph_source.html#l00022">SpacetreeSet.cpph:22</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_html_a2383ec5b69147b9b5dd5547689aca3f7"><div class="ttname"><a href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a2383ec5b69147b9b5dd5547689aca3f7">peano4::parallel::SpacetreeSet::exchangeAllPeriodicBoundaryDataStacks</a></div><div class="ttdeci">static void exchangeAllPeriodicBoundaryDataStacks(Container &amp;stackContainer, int spacetreeId)</div><div class="ttdoc">Exchange periodic BC data.</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d1e/SpacetreeSet_8cpph_source.html#l00160">SpacetreeSet.cpph:160</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_html_a255dea5ec5043a45b96c5bd8b4979551"><div class="ttname"><a href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a255dea5ec5043a45b96c5bd8b4979551">peano4::parallel::SpacetreeSet::getSpacetree</a></div><div class="ttdeci">peano4::grid::Spacetree &amp; getSpacetree(int id)</div><div class="ttdef"><b>Definition</b> <a href="#l00761">SpacetreeSet.cpp:761</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_html_a2b44dbeda9845c18d2d97b834ce0cc71"><div class="ttname"><a href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a2b44dbeda9845c18d2d97b834ce0cc71">peano4::parallel::SpacetreeSet::deleteAllStacks</a></div><div class="ttdeci">static void deleteAllStacks(Container &amp;stackContainer, int spacetreeId)</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d1e/SpacetreeSet_8cpph_source.html#l00015">SpacetreeSet.cpph:15</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_html_a378c585e77b2456ca8a6324605c7d8d5"><div class="ttname"><a href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a378c585e77b2456ca8a6324605c7d8d5">peano4::parallel::SpacetreeSet::streamLocalVertexInformationToMasterThroughVerticalStacks</a></div><div class="ttdeci">void streamLocalVertexInformationToMasterThroughVerticalStacks(int spacetreeId, int parentId, const std::set&lt; int &gt; &amp;joiningIds)</div><div class="ttdoc">Whenever we join two partitions, we have to stream data from the worker to the master.</div><div class="ttdef"><b>Definition</b> <a href="#l00278">SpacetreeSet.cpp:278</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_html_a40ae48bda0092f87c765a1aaa8f03755"><div class="ttname"><a href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a40ae48bda0092f87c765a1aaa8f03755">peano4::parallel::SpacetreeSet::getLocalTreesMergingWithWorkers</a></div><div class="ttdeci">std::set&lt; int &gt; getLocalTreesMergingWithWorkers() const</div><div class="ttdoc">I need this routine for technical reasons: Prior to the sweep of trees, I have to identify all of tho...</div><div class="ttdef"><b>Definition</b> <a href="#l00431">SpacetreeSet.cpp:431</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_html_a411f6e237f217538056cbee47cc2859e"><div class="ttname"><a href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a411f6e237f217538056cbee47cc2859e">peano4::parallel::SpacetreeSet::_state</a></div><div class="ttdeci">SpacetreeSetState _state</div><div class="ttdoc">The state identifies what the set is doing right now.</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d08/SpacetreeSet_8h_source.html#l00335">SpacetreeSet.h:335</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_html_a49e92b919a5d722323f191e6328af9fc"><div class="ttname"><a href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a49e92b919a5d722323f191e6328af9fc">peano4::parallel::SpacetreeSet::getAnswerTag</a></div><div class="ttdeci">int getAnswerTag(int targetSpacetreeId) const</div><div class="ttdef"><b>Definition</b> <a href="#l00063">SpacetreeSet.cpp:63</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_html_a4c99275a5fd270dce1999818063bd802"><div class="ttname"><a href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a4c99275a5fd270dce1999818063bd802">peano4::parallel::SpacetreeSet::split</a></div><div class="ttdeci">bool split(int treeId, const peano4::SplitInstruction &amp;instruction, int targetRank)</div><div class="ttdoc">Split a local tree.</div><div class="ttdef"><b>Definition</b> <a href="#l00713">SpacetreeSet.cpp:713</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_html_a4d0bd6e4ba47d5f2cee9b282b88278a0"><div class="ttname"><a href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a4d0bd6e4ba47d5f2cee9b282b88278a0">peano4::parallel::SpacetreeSet::_requestMessageTag</a></div><div class="ttdeci">int _requestMessageTag</div><div class="ttdoc">I use this tag to identify messages send from one tree to another rank.</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d08/SpacetreeSet_8h_source.html#l00316">SpacetreeSet.h:316</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_html_a52d375caeb0aebcc234424b2392dfc97"><div class="ttname"><a href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a52d375caeb0aebcc234424b2392dfc97">peano4::parallel::SpacetreeSet::toString</a></div><div class="ttdeci">static std::string toString(SpacetreeSetState state)</div><div class="ttdef"><b>Definition</b> <a href="#l00067">SpacetreeSet.cpp:67</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_html_a6cbbb95e899ec85ae0473cf42c00f176"><div class="ttname"><a href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a6cbbb95e899ec85ae0473cf42c00f176">peano4::parallel::SpacetreeSet::deleteClonedObservers</a></div><div class="ttdeci">void deleteClonedObservers()</div><div class="ttdef"><b>Definition</b> <a href="#l00451">SpacetreeSet.cpp:451</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_html_a724bef1107e37df70598bd2a927b4905"><div class="ttname"><a href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a724bef1107e37df70598bd2a927b4905">peano4::parallel::SpacetreeSet::createObserverCloneIfRequired</a></div><div class="ttdeci">void createObserverCloneIfRequired(peano4::grid::TraversalObserver &amp;observer, int treeId)</div><div class="ttdoc">Quick lookup whether an observer clone for this tree id does already exist.</div><div class="ttdef"><b>Definition</b> <a href="#l00267">SpacetreeSet.cpp:267</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_html_a804983160d3a6236ada166574dee659a"><div class="ttname"><a href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a804983160d3a6236ada166574dee659a">peano4::parallel::SpacetreeSet::receiveDanglingMessages</a></div><div class="ttdeci">virtual void receiveDanglingMessages() override</div><div class="ttdoc">We poll the tree management messages.</div><div class="ttdef"><b>Definition</b> <a href="#l00185">SpacetreeSet.cpp:185</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_html_a8103e3890b4eda9a1313e77158edd662"><div class="ttname"><a href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a8103e3890b4eda9a1313e77158edd662">peano4::parallel::SpacetreeSet::answerQuestions</a></div><div class="ttdeci">void answerQuestions()</div><div class="ttdoc">Run through the set of unanswered questions and, well, answer them.</div><div class="ttdef"><b>Definition</b> <a href="#l00077">SpacetreeSet.cpp:77</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_html_a85eb3c28124a032792ec6451adf2bad3"><div class="ttname"><a href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a85eb3c28124a032792ec6451adf2bad3">peano4::parallel::SpacetreeSet::getGridStatistics</a></div><div class="ttdeci">peano4::grid::GridStatistics getGridStatistics() const</div><div class="ttdoc">Return statistics object for primary spacetree.</div><div class="ttdef"><b>Definition</b> <a href="#l00665">SpacetreeSet.cpp:665</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_html_a8a77b7ea7b1c8c7a69bcbb4b458db6db"><div class="ttname"><a href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a8a77b7ea7b1c8c7a69bcbb4b458db6db">peano4::parallel::SpacetreeSet::_spacetrees</a></div><div class="ttdeci">std::list&lt; peano4::grid::Spacetree &gt; _spacetrees</div><div class="ttdoc">These are the local spacetrees.</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d08/SpacetreeSet_8h_source.html#l00328">SpacetreeSet.h:328</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_html_a902d7f8f8b084ed1fb6029c9c4ec09fc"><div class="ttname"><a href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a902d7f8f8b084ed1fb6029c9c4ec09fc">peano4::parallel::SpacetreeSet::init</a></div><div class="ttdeci">void init(const tarch::la::Vector&lt; Dimensions, double &gt; &amp;offset, const tarch::la::Vector&lt; Dimensions, double &gt; &amp;width, const std::bitset&lt; Dimensions &gt; &amp;periodicBC=0)</div><div class="ttdef"><b>Definition</b> <a href="#l00031">SpacetreeSet.cpp:31</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_html_a994c91ffe58385d3c06f4d921bf43e81"><div class="ttname"><a href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a994c91ffe58385d3c06f4d921bf43e81">peano4::parallel::SpacetreeSet::exchangeHorizontalDataBetweenTrees</a></div><div class="ttdeci">void exchangeHorizontalDataBetweenTrees(peano4::grid::TraversalObserver &amp;observer)</div><div class="ttdef"><b>Definition</b> <a href="#l00400">SpacetreeSet.cpp:400</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_html_aa07efe0ea318000757b2acd065b0a8ba"><div class="ttname"><a href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#aa07efe0ea318000757b2acd065b0a8ba">peano4::parallel::SpacetreeSet::cleanUpTrees</a></div><div class="ttdeci">void cleanUpTrees(peano4::grid::TraversalObserver &amp;observer)</div><div class="ttdef"><b>Definition</b> <a href="#l00564">SpacetreeSet.cpp:564</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_html_aaf5202ec306988b5b7a2226ef01908cc"><div class="ttname"><a href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#aaf5202ec306988b5b7a2226ef01908cc">peano4::parallel::SpacetreeSet::getInstance</a></div><div class="ttdeci">static SpacetreeSet &amp; getInstance()</div><div class="ttdef"><b>Definition</b> <a href="#l00029">SpacetreeSet.cpp:29</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_html_abd1643da8908cfca6368aae3bba9ab02"><div class="ttname"><a href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#abd1643da8908cfca6368aae3bba9ab02">peano4::parallel::SpacetreeSet::getLocalSpacetrees</a></div><div class="ttdeci">std::set&lt; int &gt; getLocalSpacetrees() const</div><div class="ttdef"><b>Definition</b> <a href="#l00702">SpacetreeSet.cpp:702</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_html_ac2c8432d5210cb1f3851d83818992d3f"><div class="ttname"><a href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#ac2c8432d5210cb1f3851d83818992d3f">peano4::parallel::SpacetreeSet::exchangeAllVerticalDataExchangeStacks</a></div><div class="ttdeci">static void exchangeAllVerticalDataExchangeStacks(Container &amp;stackContainer, int spacetreeId, int parentId)</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d1e/SpacetreeSet_8cpph_source.html#l00067">SpacetreeSet.cpph:67</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_html_ac41c29cdc5f5ee02ef7ca748ce35cfb3"><div class="ttname"><a href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#ac41c29cdc5f5ee02ef7ca748ce35cfb3">peano4::parallel::SpacetreeSet::_log</a></div><div class="ttdeci">static tarch::logging::Log _log</div><div class="ttdoc">Logging device.</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d08/SpacetreeSet_8h_source.html#l00295">SpacetreeSet.h:295</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_html_ac7383614be7ae6babc6441894be5e1aa"><div class="ttname"><a href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#ac7383614be7ae6babc6441894be5e1aa">peano4::parallel::SpacetreeSet::shutdown</a></div><div class="ttdeci">virtual void shutdown() override</div><div class="ttdef"><b>Definition</b> <a href="#l00058">SpacetreeSet.cpp:58</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_html_acd4852f97402d9ec43f70c29e98f80d0"><div class="ttname"><a href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#acd4852f97402d9ec43f70c29e98f80d0">peano4::parallel::SpacetreeSet::_singleton</a></div><div class="ttdeci">static SpacetreeSet _singleton</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d08/SpacetreeSet_8h_source.html#l00045">SpacetreeSet.h:45</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_html_acf3a3df78d8d68b8d7763a0ce25a2544"><div class="ttname"><a href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#acf3a3df78d8d68b8d7763a0ce25a2544">peano4::parallel::SpacetreeSet::finishAllOutstandingSendsAndReceives</a></div><div class="ttdeci">static void finishAllOutstandingSendsAndReceives(Container &amp;stackContainer, int spacetreeId)</div><div class="ttdoc">This routine finishes all the sends and receives that are still active, i.e.</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d1e/SpacetreeSet_8cpph_source.html#l00130">SpacetreeSet.cpph:130</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_html_ae1a9a93a69811a8875431c76be1897f7"><div class="ttname"><a href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#ae1a9a93a69811a8875431c76be1897f7">peano4::parallel::SpacetreeSet::_semaphore</a></div><div class="ttdeci">static tarch::multicore::BooleanSemaphore _semaphore</div><div class="ttdoc">Semaphore to protect container holding all the local trees.</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d08/SpacetreeSet_8h_source.html#l00300">SpacetreeSet.h:300</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_html_ae28cbf8f697bc66a1380da56df81b98e"><div class="ttname"><a href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#ae28cbf8f697bc66a1380da56df81b98e">peano4::parallel::SpacetreeSet::exchangeAllHorizontalDataExchangeStacks</a></div><div class="ttdeci">static void exchangeAllHorizontalDataExchangeStacks(Container &amp;stackContainer, int spacetreeId, bool symmetricDataCardinality)</div><div class="ttdoc">Realise domain boundary exchange (over multiple scales)</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d1e/SpacetreeSet_8cpph_source.html#l00073">SpacetreeSet.cpph:73</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_html_aeab015f02f3d415aa058c855e794e9c6"><div class="ttname"><a href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#aeab015f02f3d415aa058c855e794e9c6">peano4::parallel::SpacetreeSet::isLocalSpacetree</a></div><div class="ttdeci">bool isLocalSpacetree(int treeId) const</div><div class="ttdoc">Codes hold one spacetree set per rank.</div><div class="ttdef"><b>Definition</b> <a href="#l00693">SpacetreeSet.cpp:693</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_html_af2db839ebe2f009b8a85bfe328eb6fa0"><div class="ttname"><a href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#af2db839ebe2f009b8a85bfe328eb6fa0">peano4::parallel::SpacetreeSet::streamDataFromSplittingTreesToNewTrees</a></div><div class="ttdeci">void streamDataFromSplittingTreesToNewTrees(peano4::grid::TraversalObserver &amp;observer)</div><div class="ttdoc">Copy the data from a splitting tree onto its new workers.</div><div class="ttdef"><b>Definition</b> <a href="#l00367">SpacetreeSet.cpp:367</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_html_af3302644e7f7848b653167f1502f3554"><div class="ttname"><a href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#af3302644e7f7848b653167f1502f3554">peano4::parallel::SpacetreeSet::traverse</a></div><div class="ttdeci">void traverse(peano4::grid::TraversalObserver &amp;observer)</div><div class="ttdoc">Invoke traverse on all spacetrees in parallel.</div><div class="ttdef"><b>Definition</b> <a href="#l00461">SpacetreeSet.cpp:461</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1SpacetreeSet_html_af8787d7d27e84cf23e71e1a7464ef997"><div class="ttname"><a href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#af8787d7d27e84cf23e71e1a7464ef997">peano4::parallel::SpacetreeSet::SpacetreeSet</a></div><div class="ttdeci">SpacetreeSet()</div><div class="ttdef"><b>Definition</b> <a href="#l00026">SpacetreeSet.cpp:26</a></div></div>
<div class="ttc" id="aclasstarch_1_1logging_1_1Log_html"><div class="ttname"><a href="../../da/d79/classtarch_1_1logging_1_1Log.html">tarch::logging::Log</a></div><div class="ttdoc">Log Device.</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d45/Log_8h_source.html#l00516">Log.h:516</a></div></div>
<div class="ttc" id="aclasstarch_1_1mpi_1_1Rank_html_a61a8765012b4b650f0c35a8ece0927bd"><div class="ttname"><a href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd">tarch::mpi::Rank::getInstance</a></div><div class="ttdeci">static Rank &amp; getInstance()</div><div class="ttdoc">This operation returns the singleton instance.</div><div class="ttdef"><b>Definition</b> <a href="../../d5/dcd/Rank_8cpp_source.html#l00525">Rank.cpp:525</a></div></div>
<div class="ttc" id="aclasstarch_1_1mpi_1_1Rank_html_a82f75ffb3e66104757a5a335751bdc29"><div class="ttname"><a href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a82f75ffb3e66104757a5a335751bdc29">tarch::mpi::Rank::getRank</a></div><div class="ttdeci">int getRank() const</div><div class="ttdoc">Return rank of this node.</div><div class="ttdef"><b>Definition</b> <a href="../../d5/dcd/Rank_8cpp_source.html#l00519">Rank.cpp:519</a></div></div>
<div class="ttc" id="aclasstarch_1_1mpi_1_1Rank_html_aa374695492af7dcea21449149001db89"><div class="ttname"><a href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#aa374695492af7dcea21449149001db89">tarch::mpi::Rank::barrier</a></div><div class="ttdeci">void barrier(std::function&lt; void()&gt; waitor=[]() -&gt; void {})</div><div class="ttdef"><b>Definition</b> <a href="../../d5/dcd/Rank_8cpp_source.html#l00351">Rank.cpp:351</a></div></div>
<div class="ttc" id="aclasstarch_1_1mpi_1_1Rank_html_ab501a52fc09ea23bb061edbbfbcc89aa"><div class="ttname"><a href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#ab501a52fc09ea23bb061edbbfbcc89aa">tarch::mpi::Rank::reserveFreeTag</a></div><div class="ttdeci">static int reserveFreeTag(const std::string &amp;fullQualifiedMessageName, int numberOfTags=1)</div><div class="ttdoc">Return a Free Tag.</div><div class="ttdef"><b>Definition</b> <a href="../../d5/dcd/Rank_8cpp_source.html#l00038">Rank.cpp:38</a></div></div>
<div class="ttc" id="aclasstarch_1_1mpi_1_1Rank_html_af6c8bbf40ce79043f17b4707ccadd73b"><div class="ttname"><a href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#af6c8bbf40ce79043f17b4707ccadd73b">tarch::mpi::Rank::getCommunicator</a></div><div class="ttdeci">MPI_Comm getCommunicator() const</div><div class="ttdef"><b>Definition</b> <a href="../../d5/dcd/Rank_8cpp_source.html#l00531">Rank.cpp:531</a></div></div>
<div class="ttc" id="aclasstarch_1_1multicore_1_1BooleanSemaphore_html"><div class="ttname"><a href="../../da/d3f/classtarch_1_1multicore_1_1BooleanSemaphore.html">tarch::multicore::BooleanSemaphore</a></div><div class="ttdef"><b>Definition</b> <a href="../../da/d95/multicore_2tbb_2BooleanSemaphore_8h_source.html#l00021">BooleanSemaphore.h:21</a></div></div>
<div class="ttc" id="aclasstarch_1_1multicore_1_1Lock_html"><div class="ttname"><a href="../../d2/df3/classtarch_1_1multicore_1_1Lock.html">tarch::multicore::Lock</a></div><div class="ttdoc">Create a lock around a boolean semaphore region.</div><div class="ttdef"><b>Definition</b> <a href="../../de/d9c/multicore_2Lock_8h_source.html#l00019">Lock.h:19</a></div></div>
<div class="ttc" id="aclasstarch_1_1services_1_1ServiceRepository_html_a4218d43659ffc951ee3b1c6eab7532bc"><div class="ttname"><a href="../../d6/d75/classtarch_1_1services_1_1ServiceRepository.html#a4218d43659ffc951ee3b1c6eab7532bc">tarch::services::ServiceRepository::receiveDanglingMessages</a></div><div class="ttdeci">virtual void receiveDanglingMessages() override</div><div class="ttdoc">Answer to MPI Messages.</div><div class="ttdef"><b>Definition</b> <a href="../../de/d77/ServiceRepository_8cpp_source.html#l00079">ServiceRepository.cpp:79</a></div></div>
<div class="ttc" id="aclasstarch_1_1services_1_1ServiceRepository_html_a6a3a85cf6082b5f2711cf046176cd42c"><div class="ttname"><a href="../../d6/d75/classtarch_1_1services_1_1ServiceRepository.html#a6a3a85cf6082b5f2711cf046176cd42c">tarch::services::ServiceRepository::getInstance</a></div><div class="ttdeci">static ServiceRepository &amp; getInstance()</div><div class="ttdef"><b>Definition</b> <a href="../../de/d77/ServiceRepository_8cpp_source.html#l00032">ServiceRepository.cpp:32</a></div></div>
<div class="ttc" id="aclasstarch_1_1services_1_1ServiceRepository_html_a79917b860a7735704675e9bce35801d6"><div class="ttname"><a href="../../d6/d75/classtarch_1_1services_1_1ServiceRepository.html#a79917b860a7735704675e9bce35801d6">tarch::services::ServiceRepository::removeService</a></div><div class="ttdeci">void removeService(Service *const service)</div><div class="ttdoc">This routine is thread-safe, i.e.</div><div class="ttdef"><b>Definition</b> <a href="../../de/d77/ServiceRepository_8cpp_source.html#l00054">ServiceRepository.cpp:54</a></div></div>
<div class="ttc" id="aclasstarch_1_1services_1_1ServiceRepository_html_ab8aee085ce5d8e5f1f7822d7daa5a445"><div class="ttname"><a href="../../d6/d75/classtarch_1_1services_1_1ServiceRepository.html#ab8aee085ce5d8e5f1f7822d7daa5a445">tarch::services::ServiceRepository::addService</a></div><div class="ttdeci">void addService(Service *const service, const std::string &amp;name)</div><div class="ttdoc">Add a new service.</div><div class="ttdef"><b>Definition</b> <a href="../../de/d77/ServiceRepository_8cpp_source.html#l00037">ServiceRepository.cpp:37</a></div></div>
<div class="ttc" id="amulticore_2Lock_8h_html"><div class="ttname"><a href="../../de/d9c/multicore_2Lock_8h.html">Lock.h</a></div></div>
<div class="ttc" id="amulticore_8h_html"><div class="ttname"><a href="../../d5/d52/multicore_8h.html">multicore.h</a></div></div>
<div class="ttc" id="anamespacepeano4_1_1grid_html_a133e937a14fa2b8b6d077e9ce346ec69"><div class="ttname"><a href="../../d7/d7c/namespacepeano4_1_1grid.html#a133e937a14fa2b8b6d077e9ce346ec69">peano4::grid::toString</a></div><div class="ttdeci">std::string toString(VertexType type)</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d70/grid_8cpp_source.html#l00276">grid.cpp:276</a></div></div>
<div class="ttc" id="anamespacepeano4_1_1grid_html_a5a2c45857b1ba757f65788c079c6a37ca09bce956ecf16a726820c33dc8fe3cc6"><div class="ttname"><a href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37ca09bce956ecf16a726820c33dc8fe3cc6">peano4::grid::SpacetreeState::NewFromSplit</a></div><div class="ttdeci">@ NewFromSplit</div><div class="ttdoc">Set if this tree results from a split and if this is the first grid sweep when the former owner actua...</div></div>
<div class="ttc" id="anamespacepeano4_1_1grid_html_a5a2c45857b1ba757f65788c079c6a37ca42d4b80664fa5cf4266ffb09f3f4ca6c"><div class="ttname"><a href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37ca42d4b80664fa5cf4266ffb09f3f4ca6c">peano4::grid::SpacetreeState::NewRoot</a></div><div class="ttdeci">@ NewRoot</div></div>
<div class="ttc" id="anamespacepeano4_1_1grid_html_a5a2c45857b1ba757f65788c079c6a37ca5bda814c4aedb126839228f1a3d92f09"><div class="ttname"><a href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37ca5bda814c4aedb126839228f1a3d92f09">peano4::grid::SpacetreeState::Running</a></div><div class="ttdeci">@ Running</div></div>
<div class="ttc" id="anamespacepeano4_1_1grid_html_a5a2c45857b1ba757f65788c079c6a37ca7d50c09f1ad7d098e0a847bcdcab7efb"><div class="ttname"><a href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37ca7d50c09f1ad7d098e0a847bcdcab7efb">peano4::grid::SpacetreeState::Joined</a></div><div class="ttdeci">@ Joined</div></div>
<div class="ttc" id="anamespacepeano4_1_1grid_html_a5a2c45857b1ba757f65788c079c6a37cad0ffc089d13c7947ef0ab4fda4ad1dd3"><div class="ttname"><a href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37cad0ffc089d13c7947ef0ab4fda4ad1dd3">peano4::grid::SpacetreeState::JoinTriggered</a></div><div class="ttdeci">@ JoinTriggered</div><div class="ttdoc">Join has been triggered for this tree.</div></div>
<div class="ttc" id="anamespacepeano4_1_1grid_html_a5a2c45857b1ba757f65788c079c6a37cae2e6f897d049a5a191850fa42b37cf2a"><div class="ttname"><a href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37cae2e6f897d049a5a191850fa42b37cf2a">peano4::grid::SpacetreeState::EmptyRun</a></div><div class="ttdeci">@ EmptyRun</div><div class="ttdoc">Not yet a new root.</div></div>
<div class="ttc" id="anamespacepeano4_1_1grid_html_a5a2c45857b1ba757f65788c079c6a37caf6807db4ae3a5c82b99bced82a0ca92b"><div class="ttname"><a href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37caf6807db4ae3a5c82b99bced82a0ca92b">peano4::grid::SpacetreeState::Joining</a></div><div class="ttdeci">@ Joining</div></div>
<div class="ttc" id="anamespacetarch_1_1multicore_html_a5f99102c05b0c83033c0e3a7b9e4e104"><div class="ttname"><a href="../../d6/d43/namespacetarch_1_1multicore.html#a5f99102c05b0c83033c0e3a7b9e4e104">tarch::multicore::spawnTasks</a></div><div class="ttdeci">void spawnTasks(const std::vector&lt; Task * &gt; &amp;tasks)</div><div class="ttdef"><b>Definition</b> <a href="../../d2/daa/multicore_8cpp_source.html#l00034">multicore.cpp:34</a></div></div>
<div class="ttc" id="asrc_2peano4_2grid_2grid_8h_html"><div class="ttname"><a href="../../da/df1/src_2peano4_2grid_2grid_8h.html">grid.h</a></div></div>
<div class="ttc" id="astructpeano4_1_1SplitInstruction_html"><div class="ttname"><a href="../../dd/d3a/structpeano4_1_1SplitInstruction.html">peano4::SplitInstruction</a></div><div class="ttdoc">Instruction to split.</div><div class="ttdef"><b>Definition</b> <a href="../../da/df1/src_2peano4_2grid_2grid_8h_source.html#l00034">grid.h:34</a></div></div>
<div class="ttc" id="astructpeano4_1_1grid_1_1AutomatonState_html"><div class="ttname"><a href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html">peano4::grid::AutomatonState</a></div><div class="ttdef"><b>Definition</b> <a href="../../d4/df5/AutomatonState_8h_source.html#l00025">AutomatonState.h:25</a></div></div>
<div class="ttc" id="astructpeano4_1_1grid_1_1AutomatonState_html_a3f26906486bb96487afc2bedc5515431"><div class="ttname"><a href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#a3f26906486bb96487afc2bedc5515431">peano4::grid::AutomatonState::send</a></div><div class="ttdeci">static void send(const peano4::grid::AutomatonState &amp;buffer, int destination, int tag, MPI_Comm communicator)</div><div class="ttdoc">In DaStGen (the first version), I had a non-static version of the send as well as the receive.</div><div class="ttdef"><b>Definition</b> <a href="../../d9/db4/AutomatonState_8cpp_source.html#l00212">AutomatonState.cpp:213</a></div></div>
<div class="ttc" id="astructpeano4_1_1grid_1_1AutomatonState_html_af987ccce2206d77462a6a652be654335"><div class="ttname"><a href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#af987ccce2206d77462a6a652be654335">peano4::grid::AutomatonState::receive</a></div><div class="ttdeci">static void receive(peano4::grid::AutomatonState &amp;buffer, int source, int tag, MPI_Comm communicator)</div><div class="ttdef"><b>Definition</b> <a href="../../d9/db4/AutomatonState_8cpp_source.html#l00217">AutomatonState.cpp:218</a></div></div>
<div class="ttc" id="astructpeano4_1_1grid_1_1GridStatistics_html"><div class="ttname"><a href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html">peano4::grid::GridStatistics</a></div><div class="ttdef"><b>Definition</b> <a href="../../d5/d77/GridStatistics_8h_source.html#l00033">GridStatistics.h:33</a></div></div>
<div class="ttc" id="astructpeano4_1_1grid_1_1GridStatistics_html_a330c69208e5ce8528313b3ac6828e8af"><div class="ttname"><a href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html#a330c69208e5ce8528313b3ac6828e8af">peano4::grid::GridStatistics::toString</a></div><div class="ttdeci">std::string toString() const</div><div class="ttdef"><b>Definition</b> <a href="../../d2/d00/GridStatistics_8cpp_source.html#l00017">GridStatistics.cpp:17</a></div></div>
<div class="ttc" id="astructpeano4_1_1grid_1_1GridStatistics_html_ada7c6605e8c2ee65cae97acac03b1048"><div class="ttname"><a href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html#ada7c6605e8c2ee65cae97acac03b1048">peano4::grid::GridStatistics::getCoarseningHasBeenVetoed</a></div><div class="ttdeci">bool getCoarseningHasBeenVetoed() const</div><div class="ttdef"><b>Definition</b> <a href="../../d2/d00/GridStatistics_8cpp_source.html#l00079">GridStatistics.cpp:79</a></div></div>
<div class="ttc" id="astructpeano4_1_1grid_1_1GridStatistics_html_af7c05762262cb60344edb50f23fe00c7"><div class="ttname"><a href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html#af7c05762262cb60344edb50f23fe00c7">peano4::grid::GridStatistics::setRemovedEmptySubtree</a></div><div class="ttdeci">void setRemovedEmptySubtree(bool value)</div><div class="ttdef"><b>Definition</b> <a href="../../d2/d00/GridStatistics_8cpp_source.html#l00091">GridStatistics.cpp:91</a></div></div>
<div class="ttc" id="astructpeano4_1_1parallel_1_1TreeManagementMessage_html"><div class="ttname"><a href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html">peano4::parallel::TreeManagementMessage</a></div><div class="ttdef"><b>Definition</b> <a href="../../d0/df4/TreeManagementMessage_8h_source.html#l00027">TreeManagementMessage.h:27</a></div></div>
<div class="ttc" id="astructpeano4_1_1parallel_1_1TreeManagementMessage_html_a254a9bee212d754ee5d8c976fcf5afb3"><div class="ttname"><a href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a254a9bee212d754ee5d8c976fcf5afb3">peano4::parallel::TreeManagementMessage::getAction</a></div><div class="ttdeci">peano4::parallel::TreeManagementMessage::Action getAction() const</div><div class="ttdef"><b>Definition</b> <a href="../../de/d65/TreeManagementMessage_8cpp_source.html#l00054">TreeManagementMessage.cpp:54</a></div></div>
<div class="ttc" id="astructpeano4_1_1parallel_1_1TreeManagementMessage_html_a335aba25eb0153590659ae48d7f6eb71"><div class="ttname"><a href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a335aba25eb0153590659ae48d7f6eb71">peano4::parallel::TreeManagementMessage::send</a></div><div class="ttdeci">static void send(const peano4::parallel::TreeManagementMessage &amp;buffer, int destination, int tag, MPI_Comm communicator)</div><div class="ttdoc">In DaStGen (the first version), I had a non-static version of the send as well as the receive.</div><div class="ttdef"><b>Definition</b> <a href="../../de/d65/TreeManagementMessage_8cpp_source.html#l00235">TreeManagementMessage.cpp:235</a></div></div>
<div class="ttc" id="astructpeano4_1_1parallel_1_1TreeManagementMessage_html_a39dcc85e917582e601772f414d892432"><div class="ttname"><a href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a39dcc85e917582e601772f414d892432">peano4::parallel::TreeManagementMessage::setMasterSpacetreeId</a></div><div class="ttdeci">void setMasterSpacetreeId(int value)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d65/TreeManagementMessage_8cpp_source.html#l00039">TreeManagementMessage.cpp:39</a></div></div>
<div class="ttc" id="astructpeano4_1_1parallel_1_1TreeManagementMessage_html_a458b1e97bbb08a62840c1f494633aa9e"><div class="ttname"><a href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a458b1e97bbb08a62840c1f494633aa9e">peano4::parallel::TreeManagementMessage::getWorkerSpacetreeId</a></div><div class="ttdeci">int getWorkerSpacetreeId() const</div><div class="ttdef"><b>Definition</b> <a href="../../de/d65/TreeManagementMessage_8cpp_source.html#l00044">TreeManagementMessage.cpp:44</a></div></div>
<div class="ttc" id="astructpeano4_1_1parallel_1_1TreeManagementMessage_html_a6de11550a424b8f79da95ecf81596246"><div class="ttname"><a href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a6de11550a424b8f79da95ecf81596246">peano4::parallel::TreeManagementMessage::toString</a></div><div class="ttdeci">std::string toString() const</div><div class="ttdef"><b>Definition</b> <a href="../../de/d65/TreeManagementMessage_8cpp_source.html#l00018">TreeManagementMessage.cpp:18</a></div></div>
<div class="ttc" id="astructpeano4_1_1parallel_1_1TreeManagementMessage_html_a751e49c699fded29e8ea2bbb27ec085c"><div class="ttname"><a href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a751e49c699fded29e8ea2bbb27ec085c">peano4::parallel::TreeManagementMessage::setWorkerSpacetreeId</a></div><div class="ttdeci">void setWorkerSpacetreeId(int value)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d65/TreeManagementMessage_8cpp_source.html#l00049">TreeManagementMessage.cpp:49</a></div></div>
<div class="ttc" id="astructpeano4_1_1parallel_1_1TreeManagementMessage_html_a7cfae5baa7c161d85705f2f8cf1e0703"><div class="ttname"><a href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a7cfae5baa7c161d85705f2f8cf1e0703">peano4::parallel::TreeManagementMessage::sendAndPollDanglingMessages</a></div><div class="ttdeci">static void sendAndPollDanglingMessages(const peano4::parallel::TreeManagementMessage &amp;message, int destination, int tag, MPI_Comm communicator=tarch::mpi::Rank::getInstance().getCommunicator())</div><div class="ttdef"><b>Definition</b> <a href="../../de/d65/TreeManagementMessage_8cpp_source.html#l00290">TreeManagementMessage.cpp:290</a></div></div>
<div class="ttc" id="astructpeano4_1_1parallel_1_1TreeManagementMessage_html_a8234a885ab8329a3d554bef233909545"><div class="ttname"><a href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a8234a885ab8329a3d554bef233909545">peano4::parallel::TreeManagementMessage::setAction</a></div><div class="ttdeci">void setAction(Action value)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d65/TreeManagementMessage_8cpp_source.html#l00059">TreeManagementMessage.cpp:59</a></div></div>
<div class="ttc" id="astructpeano4_1_1parallel_1_1TreeManagementMessage_html_aa3d7e177ce6bc07bd01a8b308891e421a527b5dd477abf95e8fe19aac201df396"><div class="ttname"><a href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#aa3d7e177ce6bc07bd01a8b308891e421a527b5dd477abf95e8fe19aac201df396">peano4::parallel::TreeManagementMessage::Action::Acknowledgement</a></div><div class="ttdeci">@ Acknowledgement</div></div>
<div class="ttc" id="astructpeano4_1_1parallel_1_1TreeManagementMessage_html_aa3d7e177ce6bc07bd01a8b308891e421a5d2933f9a52961da81a30c9080e93263"><div class="ttname"><a href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#aa3d7e177ce6bc07bd01a8b308891e421a5d2933f9a52961da81a30c9080e93263">peano4::parallel::TreeManagementMessage::Action::RequestNewRemoteTree</a></div><div class="ttdeci">@ RequestNewRemoteTree</div></div>
<div class="ttc" id="astructpeano4_1_1parallel_1_1TreeManagementMessage_html_aa3d7e177ce6bc07bd01a8b308891e421ab103b93d58b7913ca05b54c2335bdbbd"><div class="ttname"><a href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#aa3d7e177ce6bc07bd01a8b308891e421ab103b93d58b7913ca05b54c2335bdbbd">peano4::parallel::TreeManagementMessage::Action::CreateNewRemoteTree</a></div><div class="ttdeci">@ CreateNewRemoteTree</div></div>
<div class="ttc" id="astructpeano4_1_1parallel_1_1TreeManagementMessage_html_aa3d7e177ce6bc07bd01a8b308891e421ab5acbaf6328a214f18919ab3f79e3ddf"><div class="ttname"><a href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#aa3d7e177ce6bc07bd01a8b308891e421ab5acbaf6328a214f18919ab3f79e3ddf">peano4::parallel::TreeManagementMessage::Action::JoinWithWorker</a></div><div class="ttdeci">@ JoinWithWorker</div></div>
<div class="ttc" id="astructpeano4_1_1parallel_1_1TreeManagementMessage_html_aa3d7e177ce6bc07bd01a8b308891e421af210621f58faf7bf43b0c5a4690fb458"><div class="ttname"><a href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#aa3d7e177ce6bc07bd01a8b308891e421af210621f58faf7bf43b0c5a4690fb458">peano4::parallel::TreeManagementMessage::Action::RemoveChildTreeFromBooksAsChildBecameEmpty</a></div><div class="ttdeci">@ RemoveChildTreeFromBooksAsChildBecameEmpty</div></div>
<div class="ttc" id="astructpeano4_1_1parallel_1_1TreeManagementMessage_html_aa491a74d2227e95a538b3d5f4076390c"><div class="ttname"><a href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#aa491a74d2227e95a538b3d5f4076390c">peano4::parallel::TreeManagementMessage::receiveAndPollDanglingMessages</a></div><div class="ttdeci">static void receiveAndPollDanglingMessages(peano4::parallel::TreeManagementMessage &amp;message, int source, int tag, MPI_Comm communicator=tarch::mpi::Rank::getInstance().getCommunicator())</div><div class="ttdef"><b>Definition</b> <a href="../../de/d65/TreeManagementMessage_8cpp_source.html#l00307">TreeManagementMessage.cpp:307</a></div></div>
<div class="ttc" id="astructpeano4_1_1parallel_1_1TreeManagementMessage_html_acc5c542271504672569e175debab8ac3"><div class="ttname"><a href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#acc5c542271504672569e175debab8ac3">peano4::parallel::TreeManagementMessage::receive</a></div><div class="ttdeci">static void receive(peano4::parallel::TreeManagementMessage &amp;buffer, int source, int tag, MPI_Comm communicator)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d65/TreeManagementMessage_8cpp_source.html#l00240">TreeManagementMessage.cpp:240</a></div></div>
<div class="ttc" id="astructtarch_1_1la_1_1Vector_html"><div class="ttname"><a href="../../d7/d26/structtarch_1_1la_1_1Vector.html">tarch::la::Vector</a></div><div class="ttdoc">Simple vector class.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/dbe/Vector_8h_source.html#l00084">Vector.h:84</a></div></div>
<div class="ttc" id="atarch_2logging_2Statistics_8h_html"><div class="ttname"><a href="../../d5/d95/tarch_2logging_2Statistics_8h.html">Statistics.h</a></div></div>
<div class="ttc" id="atarch_8h_html"><div class="ttname"><a href="../../d0/d9a/tarch_8h.html">tarch.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_87e640b167fa083904edd5652fd19e67.html">peano4</a></li><li class="navelem"><a class="el" href="../../dir_7648ffdeeb34486c11f383b74ae351d4.html">parallel</a></li><li class="navelem"><a class="el" href="../../d2/df0/SpacetreeSet_8cpp.html">SpacetreeSet.cpp</a></li>
    <li class="footer">Generated on Tue Jul 1 2025 11:24:28 for Peano by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
