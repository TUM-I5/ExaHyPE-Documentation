<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="icon" href="../../Peano-icon.png" type="image/x-icon" />
<title>Peano</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-tabs.js"></script>
<script type="text/javascript" src="../../toggle-alternative-theme.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeTabs.init()
</script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../custom.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="../../custom-alternative.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- https://tholman.com/github-corners/ -->
<!-- https://bryce.io/gitlab-corners/ -->
<style>.gitlab-corner-wrapper{overflow:hidden;width:100px;height:100px;position:absolute;top:0;right:0}.gitlab-corner{position:absolute;top:-16px;right:-50px;transform:rotate(45deg);background:#333;border:44px solid #333;border-bottom:none;border-top:#333 solid 16px}.gitlab-corner svg{width:60px;height:60px;margin-bottom:-4px}.cls-1{fill:#fc6d26}.cls-2{fill:#e24329}.cls-3{fill:#fca326}.gitlab-corner:hover .cls-1{animation:cycle .6s}.gitlab-corner:hover .cls-2{animation:cycleMid .6s}.gitlab-corner:hover .cls-3{animation:cycleEnd .6s}@keyframes cycle{100%,15%,60%{fill:#fc6d26}30%,75%{fill:#e24329}45%,90%{fill:#fca326}}@keyframes cycleMid{100%,15%,60%{fill:#e24329}30%,75%{fill:#fca326}45%,90%{fill:#fc6d26}}@keyframes cycleEnd{100%,15%,60%{fill:#fca326}30%,75%{fill:#fc6d26}45%,90%{fill:#e24329}}@media (max-width:500px){.gitlab-corner:hover .cls-1,.gitlab-corner:hover .cls-2,.gitlab-corner:hover .cls-3{animation:none}.gitlab-corner .cls-1{animation:cycle .6s}.gitlab-corner .cls-2{animation:cycleMid .6s}.gitlab-corner .cls-3{animation:cycleEnd .6s}}</style><div class="gitlab-corner-wrapper"><a href="https://gitlab.lrz.de/hpcsoftware/Peano" class="gitlab-corner" aria-label="View source on GitLab"><svg id="logo_art" data-name="logo art" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 586 559"><g id="g44"><path id="path46" class="cls-1" d="M461.17,301.83l-18.91-58.12L404.84,128.43a6.47,6.47,0,0,0-12.27,0L355.15,243.64H230.82L193.4,128.43a6.46,6.46,0,0,0-12.26,0L143.78,243.64l-18.91,58.19a12.88,12.88,0,0,0,4.66,14.39L293,435,456.44,316.22a12.9,12.9,0,0,0,4.73-14.39"/></g><g id="g48"><path id="path50" class="cls-2" d="M293,434.91h0l62.16-191.28H230.87L293,434.91Z"/></g><g id="g56"><path id="path58" class="cls-1" d="M293,434.91,230.82,243.63h-87L293,434.91Z"/></g><g id="g64"><path id="path66" class="cls-3" d="M143.75,243.69h0l-18.91,58.12a12.88,12.88,0,0,0,4.66,14.39L293,435,143.75,243.69Z"/></g><g id="g72"><path id="path74" class="cls-2" d="M143.78,243.69h87.11L193.4,128.49a6.47,6.47,0,0,0-12.27,0l-37.35,115.2Z"/></g><g id="g76"><path id="path78" class="cls-1" d="M293,434.91l62.16-191.28H442.3L293,434.91Z"/></g><g id="g80"><path id="path82" class="cls-3" d="M442.24,243.69h0l18.91,58.12a12.85,12.85,0,0,1-4.66,14.39L293,434.91l149.2-191.22Z"/></g><g id="g84"><path id="path86" class="cls-2" d="M442.28,243.69h-87.1l37.42-115.2a6.46,6.46,0,0,1,12.26,0l37.42,115.2Z"/></g></svg></a></div>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../Peano-icon.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Peano
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="#friends">Friends</a>  </div>
  <div class="headertitle"><div class="title">peano4::parallel::SpacetreeSet Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>The spacetree set has to be a singleton, as it is reponsible to accept requests for new trees from remote ranks.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html">SpacetreeSet.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for peano4::parallel::SpacetreeSet:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d04/classpeano4_1_1parallel_1_1SpacetreeSet__inherit__graph.png" border="0" usemap="#apeano4_1_1parallel_1_1SpacetreeSet_inherit__map" alt="Inheritance graph"/></div>
<map name="apeano4_1_1parallel_1_1SpacetreeSet_inherit__map" id="apeano4_1_1parallel_1_1SpacetreeSet_inherit__map">
<area shape="rect" title="The spacetree set has to be a singleton, as it is reponsible to accept requests for new trees from re..." alt="" coords="5,79,227,104"/>
<area shape="rect" href="../../d2/d00/classtarch_1_1services_1_1Service.html" title="Service Interface." alt="" coords="29,5,203,31"/>
<area shape="poly" title=" " alt="" coords="119,44,119,79,113,79,113,44"/>
</map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for peano4::parallel::SpacetreeSet:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/da6/classpeano4_1_1parallel_1_1SpacetreeSet__coll__graph.png" border="0" usemap="#apeano4_1_1parallel_1_1SpacetreeSet_coll__map" alt="Collaboration graph"/></div>
<map name="apeano4_1_1parallel_1_1SpacetreeSet_coll__map" id="apeano4_1_1parallel_1_1SpacetreeSet_coll__map">
<area shape="rect" title="The spacetree set has to be a singleton, as it is reponsible to accept requests for new trees from re..." alt="" coords="2664,170,2885,195"/>
<area shape="poly" title=" " alt="" coords="2734,156,2745,147,2775,143,2798,146,2813,152,2817,162,2809,172,2805,168,2811,161,2809,155,2797,151,2775,149,2747,152,2737,160"/>
<area shape="rect" href="../../d2/d00/classtarch_1_1services_1_1Service.html" title="Service Interface." alt="" coords="2270,22,2443,47"/>
<area shape="poly" title=" " alt="" coords="2458,45,2548,65,2641,95,2708,131,2759,168,2756,172,2706,136,2639,100,2547,70,2456,51"/>
<area shape="rect" href="../../d7/d99/classtarch_1_1multicore_1_1RecursiveSemaphore.html" title="Recursive Semaphore." alt="" coords="1800,15,1997,55"/>
<area shape="poly" title=" " alt="" coords="2011,32,2270,32,2270,37,2011,37"/>
<area shape="rect" title=" " alt="" coords="1334,22,1493,47"/>
<area shape="poly" title=" " alt="" coords="1506,32,1800,32,1800,37,1506,37"/>
<area shape="rect" title=" " alt="" coords="2257,71,2457,126"/>
<area shape="poly" title=" " alt="" coords="2471,112,2641,143,2733,167,2731,172,2639,148,2470,117"/>
<area shape="rect" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html" title=" " alt="" coords="1775,79,2023,119"/>
<area shape="poly" title=" " alt="" coords="2037,96,2257,96,2257,101,2037,101"/>
<area shape="rect" href="../../da/d79/classtarch_1_1logging_1_1Log.html" title="Log Device." alt="" coords="871,203,1014,229"/>
<area shape="poly" title=" " alt="" coords="1023,198,1074,191,1243,169,1317,163,1412,161,2358,161,2518,165,2664,172,2664,178,2518,170,2358,167,1412,167,1317,169,1243,174,1075,196,1024,204"/>
<area shape="rect" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html" title="Represents one tree." alt="" coords="1811,415,1987,441"/>
<area shape="poly" title=" " alt="" coords="1028,211,1199,208,1410,212,1515,218,1610,228,1692,243,1752,263,1778,278,1801,297,1842,339,1873,382,1893,414,1888,417,1869,385,1838,343,1798,301,1775,282,1750,268,1690,248,1610,234,1514,224,1410,217,1199,213,1028,216"/>
<area shape="rect" href="../../d1/d8e/classpeano4_1_1grid_1_1GridTraversalEventGenerator.html" title="Translate grid traversal automaton&#39;s transitions into user events." alt="" coords="1315,264,1512,304"/>
<area shape="poly" title=" " alt="" coords="1001,230,1075,247,1200,264,1315,275,1314,280,1199,270,1074,252,1000,235"/>
<area shape="rect" title=" " alt="" coords="559,203,646,229"/>
<area shape="poly" title=" " alt="" coords="660,213,871,213,871,219,660,219"/>
<area shape="rect" title=" " alt="" coords="165,196,303,236"/>
<area shape="poly" title=" " alt="" coords="317,213,559,213,559,219,317,219"/>
<area shape="rect" href="../../da/d3f/classtarch_1_1multicore_1_1BooleanSemaphore.html" title=" " alt="" coords="2263,265,2450,305"/>
<area shape="poly" title=" " alt="" coords="2463,267,2550,251,2639,229,2742,193,2744,198,2641,235,2551,256,2464,272"/>
<area shape="rect" title=" " alt="" coords="2286,201,2427,241"/>
<area shape="poly" title=" " alt="" coords="2441,212,2640,195,2664,192,2664,198,2640,200,2441,217"/>
<area shape="poly" title=" " alt="" coords="1933,406,2071,334,2160,291,2252,251,2285,239,2287,244,2254,256,2162,296,2073,339,1936,411"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html" title=" " alt="" coords="1305,575,1522,601"/>
<area shape="poly" title=" " alt="" coords="1536,598,1600,602,1662,601,1715,594,1735,588,1749,579,1760,566,1765,551,1761,519,1757,485,1761,468,1773,451,1790,439,1809,430,1811,435,1792,443,1777,455,1766,470,1763,486,1767,518,1770,552,1765,568,1752,583,1737,593,1716,599,1663,606,1600,607,1536,604"/>
<area shape="rect" href="../../d7/d26/structtarch_1_1la_1_1Vector.html" title=" " alt="" coords="517,397,688,437"/>
<area shape="poly" title=" " alt="" coords="631,446,667,485,715,528,772,569,836,600,873,609,923,614,1047,615,1182,608,1304,597,1305,602,1183,613,1047,620,923,619,873,614,834,605,770,574,712,532,664,488,627,450"/>
<area shape="rect" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html" title=" " alt="" coords="1075,330,1273,355"/>
<area shape="poly" title=" " alt="" coords="661,390,726,369,818,354,910,345,1074,338,1075,344,911,350,818,359,727,375,663,395"/>
<area shape="rect" href="../../dd/de7/structpeano4_1_1grid_1_1GridControlEvent.html" title=" " alt="" coords="850,391,1035,431"/>
<area shape="poly" title=" " alt="" coords="702,415,811,413,850,412,850,417,811,419,702,420"/>
<area shape="rect" title=" " alt="" coords="845,457,1040,482"/>
<area shape="poly" title=" " alt="" coords="1054,466,1274,463,1529,455,1810,434,1811,439,1529,460,1274,469,1054,472"/>
<area shape="poly" title=" " alt="" coords="1016,483,1051,492,1075,500,1132,507,1178,506,1222,510,1247,517,1275,531,1283,539,1288,547,1292,555,1299,562,1322,573,1320,578,1296,566,1287,558,1283,550,1279,542,1272,536,1245,522,1221,515,1178,512,1131,513,1074,505,1050,497,1014,488"/>
<area shape="rect" href="../../d7/d26/structtarch_1_1la_1_1Vector.html" title=" " alt="" coords="857,506,1029,561"/>
<area shape="poly" title=" " alt="" coords="1043,542,1305,573,1304,578,1042,547"/>
<area shape="poly" title=" " alt="" coords="1287,346,1503,363,1627,377,1751,393,1847,413,1846,418,1750,399,1627,382,1502,369,1287,352"/>
<area shape="rect" title=" " alt="" coords="1355,526,1472,551"/>
<area shape="poly" title=" " alt="" coords="1486,547,1558,555,1635,559,1704,556,1730,550,1749,541,1758,531,1761,522,1761,499,1760,475,1764,463,1773,451,1790,439,1809,431,1811,436,1793,444,1777,455,1769,465,1766,476,1766,499,1767,523,1762,534,1752,545,1732,555,1705,561,1635,564,1557,560,1485,552"/>
<area shape="rect" title=" " alt="" coords="1297,625,1529,650"/>
<area shape="poly" title=" " alt="" coords="1543,646,1606,648,1666,645,1716,637,1735,631,1749,622,1763,603,1768,583,1767,563,1762,541,1756,519,1754,496,1758,474,1773,452,1790,438,1809,430,1812,434,1793,443,1777,455,1763,476,1759,496,1762,518,1767,540,1772,562,1774,584,1768,605,1752,626,1738,635,1718,642,1667,651,1606,653,1543,651"/>
<area shape="rect" href="../../dd/d3a/structpeano4_1_1SplitInstruction.html" title="Instruction to split." alt="" coords="855,663,1031,689"/>
<area shape="poly" title=" " alt="" coords="1044,665,1297,644,1297,649,1045,670"/>
<area shape="poly" title=" " alt="" coords="1526,281,1637,292,1695,304,1752,322,1793,342,1831,367,1886,413,1882,417,1828,371,1790,346,1750,326,1694,309,1636,297,1526,286"/>
<area shape="rect" href="../../de/d6d/classpeano4_1_1maps_1_1HierarchicalStackMap.html" title=" " alt="" coords="1313,724,1513,764"/>
<area shape="poly" title=" " alt="" coords="1510,764,1571,769,1635,766,1667,760,1697,750,1724,735,1749,716,1760,695,1764,665,1761,586,1758,507,1762,475,1773,452,1789,438,1809,429,1811,434,1792,442,1777,455,1767,476,1763,507,1766,586,1769,665,1765,697,1753,719,1727,740,1699,755,1668,765,1636,772,1571,775,1510,769"/>
<area shape="rect" title=" " alt="" coords="835,717,1051,771"/>
<area shape="poly" title=" " alt="" coords="1064,741,1313,741,1313,747,1064,747"/>
<area shape="rect" href="../../d5/d26/structpeano4_1_1maps_1_1HierarchicalStackMap_1_1TreeData.html" title="Data of one tree." alt="" coords="503,724,703,764"/>
<area shape="poly" title=" " alt="" coords="717,741,834,741,834,747,717,747"/>
<area shape="rect" title=" " alt="" coords="157,731,311,757"/>
<area shape="poly" title=" " alt="" coords="324,741,502,741,502,747,324,747"/>
<area shape="rect" title=" " alt="" coords="5,731,44,757"/>
<area shape="poly" title=" " alt="" coords="58,741,157,741,157,747,58,747"/>
<area shape="rect" title=" " alt="" coords="1319,391,1508,431"/>
<area shape="poly" title=" " alt="" coords="1522,412,1811,422,1810,428,1522,417"/>
<area shape="poly" title=" " alt="" coords="1049,408,1318,408,1318,413,1049,413"/>
<area shape="rect" title=" " alt="" coords="1344,674,1483,699"/>
<area shape="poly" title=" " alt="" coords="1497,691,1568,695,1643,694,1708,685,1732,678,1749,667,1758,651,1762,626,1761,562,1759,497,1763,471,1773,452,1790,438,1809,429,1811,434,1792,443,1777,455,1768,472,1765,498,1766,562,1767,627,1763,653,1753,671,1734,683,1709,691,1643,699,1568,700,1496,697"/>
<area shape="rect" title=" " alt="" coords="2253,380,2460,420"/>
<area shape="poly" title=" " alt="" coords="2434,373,2534,335,2639,284,2707,237,2758,194,2761,198,2710,241,2641,289,2536,340,2436,378"/>
<area shape="rect" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html" title=" " alt="" coords="1784,465,2013,490"/>
<area shape="poly" title=" " alt="" coords="1988,460,2252,415,2253,420,1988,465"/>
</map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dc7/classpeano4_1_1parallel_1_1SpacetreeSet_1_1TraverseTask.html">TraverseTask</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Each task triggers the traversal of one specific spacetree.  <a href="../../dc/dc7/classpeano4_1_1parallel_1_1SpacetreeSet_1_1TraverseTask.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aac89e0346ffefb8858742928ff8c700b" id="r_aac89e0346ffefb8858742928ff8c700b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aac89e0346ffefb8858742928ff8c700b">~SpacetreeSet</a> ()=default</td></tr>
<tr class="separator:aac89e0346ffefb8858742928ff8c700b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8103e3890b4eda9a1313e77158edd662" id="r_a8103e3890b4eda9a1313e77158edd662"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8103e3890b4eda9a1313e77158edd662">answerQuestions</a> ()</td></tr>
<tr class="memdesc:a8103e3890b4eda9a1313e77158edd662"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run through the set of unanswered questions and, well, answer them.  <br /></td></tr>
<tr class="separator:a8103e3890b4eda9a1313e77158edd662"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a804983160d3a6236ada166574dee659a" id="r_a804983160d3a6236ada166574dee659a"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a804983160d3a6236ada166574dee659a">receiveDanglingMessages</a> () override</td></tr>
<tr class="memdesc:a804983160d3a6236ada166574dee659a"><td class="mdescLeft">&#160;</td><td class="mdescRight">We poll the tree management messages.  <br /></td></tr>
<tr class="separator:a804983160d3a6236ada166574dee659a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a902d7f8f8b084ed1fb6029c9c4ec09fc" id="r_a902d7f8f8b084ed1fb6029c9c4ec09fc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a902d7f8f8b084ed1fb6029c9c4ec09fc">init</a> (<a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../d7/d26/structtarch_1_1la_1_1Vector.html">tarch::la::Vector</a>&lt; Dimensions, <a class="el" href="../../db/d20/DiscontinuousGalerkinDiscretisation_8Abstract_8template_8cpp.html#a962c06c0fea2c76dd28c454654a79417">double</a> &gt; &amp;offset, <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../d7/d26/structtarch_1_1la_1_1Vector.html">tarch::la::Vector</a>&lt; Dimensions, <a class="el" href="../../db/d20/DiscontinuousGalerkinDiscretisation_8Abstract_8template_8cpp.html#a962c06c0fea2c76dd28c454654a79417">double</a> &gt; &amp;width, <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> std::bitset&lt; Dimensions &gt; &amp;<a class="el" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a57ebc38ae51b6d4b0e7e1dc43442f318">periodicBC</a>=0)</td></tr>
<tr class="separator:a902d7f8f8b084ed1fb6029c9c4ec09fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7383614be7ae6babc6441894be5e1aa" id="r_ac7383614be7ae6babc6441894be5e1aa"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac7383614be7ae6babc6441894be5e1aa">shutdown</a> () override</td></tr>
<tr class="separator:ac7383614be7ae6babc6441894be5e1aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3302644e7f7848b653167f1502f3554" id="r_af3302644e7f7848b653167f1502f3554"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af3302644e7f7848b653167f1502f3554">traverse</a> (<a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html">peano4::grid::TraversalObserver</a> &amp;observer)</td></tr>
<tr class="memdesc:af3302644e7f7848b653167f1502f3554"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invoke traverse on all spacetrees in parallel.  <br /></td></tr>
<tr class="separator:af3302644e7f7848b653167f1502f3554"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85eb3c28124a032792ec6451adf2bad3" id="r_a85eb3c28124a032792ec6451adf2bad3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html">peano4::grid::GridStatistics</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a85eb3c28124a032792ec6451adf2bad3">getGridStatistics</a> () <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a></td></tr>
<tr class="memdesc:a85eb3c28124a032792ec6451adf2bad3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return statistics object for primary spacetree.  <br /></td></tr>
<tr class="separator:a85eb3c28124a032792ec6451adf2bad3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa05a1cea439ce5f863fd66b31e8fcc51" id="r_aa05a1cea439ce5f863fd66b31e8fcc51"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html">peano4::grid::GridStatistics</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa05a1cea439ce5f863fd66b31e8fcc51">getGridStatistics</a> (<a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> treeId) <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a></td></tr>
<tr class="separator:aa05a1cea439ce5f863fd66b31e8fcc51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c99275a5fd270dce1999818063bd802" id="r_a4c99275a5fd270dce1999818063bd802"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4c99275a5fd270dce1999818063bd802">split</a> (<a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> treeId, <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../dd/d3a/structpeano4_1_1SplitInstruction.html">peano4::SplitInstruction</a> &amp;instruction, <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> targetRank)</td></tr>
<tr class="memdesc:a4c99275a5fd270dce1999818063bd802"><td class="mdescLeft">&#160;</td><td class="mdescRight">Split a local tree.  <br /></td></tr>
<tr class="separator:a4c99275a5fd270dce1999818063bd802"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeab015f02f3d415aa058c855e794e9c6" id="r_aeab015f02f3d415aa058c855e794e9c6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeab015f02f3d415aa058c855e794e9c6">isLocalSpacetree</a> (<a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> treeId) <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a></td></tr>
<tr class="memdesc:aeab015f02f3d415aa058c855e794e9c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Codes hold one spacetree set per rank.  <br /></td></tr>
<tr class="separator:aeab015f02f3d415aa058c855e794e9c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd1643da8908cfca6368aae3bba9ab02" id="r_abd1643da8908cfca6368aae3bba9ab02"><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abd1643da8908cfca6368aae3bba9ab02">getLocalSpacetrees</a> () <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a></td></tr>
<tr class="separator:abd1643da8908cfca6368aae3bba9ab02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classtarch_1_1services_1_1Service"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_classtarch_1_1services_1_1Service')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../d2/d00/classtarch_1_1services_1_1Service.html">tarch::services::Service</a></td></tr>
<tr class="memitem:ad5d43d40e8c9cd5d80ad66a4d19f4e3d inherit pub_methods_classtarch_1_1services_1_1Service" id="r_ad5d43d40e8c9cd5d80ad66a4d19f4e3d"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d00/classtarch_1_1services_1_1Service.html#ad5d43d40e8c9cd5d80ad66a4d19f4e3d">~Service</a> ()</td></tr>
<tr class="separator:ad5d43d40e8c9cd5d80ad66a4d19f4e3d inherit pub_methods_classtarch_1_1services_1_1Service"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ae28cbf8f697bc66a1380da56df81b98e" id="r_ae28cbf8f697bc66a1380da56df81b98e"><td class="memTemplParams" colspan="2">template&lt;class Container &gt; </td></tr>
<tr class="memitem:ae28cbf8f697bc66a1380da56df81b98e"><td class="memTemplItemLeft" align="right" valign="top">static <a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#ae28cbf8f697bc66a1380da56df81b98e">exchangeAllHorizontalDataExchangeStacks</a> (Container &amp;stackContainer, <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> spacetreeId, <a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a> symmetricDataCardinality)</td></tr>
<tr class="memdesc:ae28cbf8f697bc66a1380da56df81b98e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Realise domain boundary exchange (over multiple scales)  <br /></td></tr>
<tr class="separator:ae28cbf8f697bc66a1380da56df81b98e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2383ec5b69147b9b5dd5547689aca3f7" id="r_a2383ec5b69147b9b5dd5547689aca3f7"><td class="memTemplParams" colspan="2">template&lt;class Container &gt; </td></tr>
<tr class="memitem:a2383ec5b69147b9b5dd5547689aca3f7"><td class="memTemplItemLeft" align="right" valign="top">static <a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a2383ec5b69147b9b5dd5547689aca3f7">exchangeAllPeriodicBoundaryDataStacks</a> (Container &amp;stackContainer, <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> spacetreeId)</td></tr>
<tr class="memdesc:a2383ec5b69147b9b5dd5547689aca3f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Exchange periodic BC data.  <br /></td></tr>
<tr class="separator:a2383ec5b69147b9b5dd5547689aca3f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2c8432d5210cb1f3851d83818992d3f" id="r_ac2c8432d5210cb1f3851d83818992d3f"><td class="memTemplParams" colspan="2">template&lt;class Container &gt; </td></tr>
<tr class="memitem:ac2c8432d5210cb1f3851d83818992d3f"><td class="memTemplItemLeft" align="right" valign="top">static <a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#ac2c8432d5210cb1f3851d83818992d3f">exchangeAllVerticalDataExchangeStacks</a> (Container &amp;stackContainer, <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> spacetreeId, <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> parentId)</td></tr>
<tr class="separator:ac2c8432d5210cb1f3851d83818992d3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b44dbeda9845c18d2d97b834ce0cc71" id="r_a2b44dbeda9845c18d2d97b834ce0cc71"><td class="memTemplParams" colspan="2">template&lt;class Container &gt; </td></tr>
<tr class="memitem:a2b44dbeda9845c18d2d97b834ce0cc71"><td class="memTemplItemLeft" align="right" valign="top">static <a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a2b44dbeda9845c18d2d97b834ce0cc71">deleteAllStacks</a> (Container &amp;stackContainer, <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> spacetreeId)</td></tr>
<tr class="separator:a2b44dbeda9845c18d2d97b834ce0cc71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf3a3df78d8d68b8d7763a0ce25a2544" id="r_acf3a3df78d8d68b8d7763a0ce25a2544"><td class="memTemplParams" colspan="2">template&lt;class Container &gt; </td></tr>
<tr class="memitem:acf3a3df78d8d68b8d7763a0ce25a2544"><td class="memTemplItemLeft" align="right" valign="top">static <a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#acf3a3df78d8d68b8d7763a0ce25a2544">finishAllOutstandingSendsAndReceives</a> (Container &amp;stackContainer, <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> spacetreeId)</td></tr>
<tr class="memdesc:acf3a3df78d8d68b8d7763a0ce25a2544"><td class="mdescLeft">&#160;</td><td class="mdescRight">This routine finishes all the sends and receives that are still active, i.e.  <br /></td></tr>
<tr class="separator:acf3a3df78d8d68b8d7763a0ce25a2544"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ef581ef75460202f1af9fa5c2ad7bfc" id="r_a1ef581ef75460202f1af9fa5c2ad7bfc"><td class="memTemplParams" colspan="2">template&lt;class Container &gt; </td></tr>
<tr class="memitem:a1ef581ef75460202f1af9fa5c2ad7bfc"><td class="memTemplItemLeft" align="right" valign="top">static <a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a1ef581ef75460202f1af9fa5c2ad7bfc">streamDataFromSplittingTreeToNewTree</a> (Container &amp;stackContainer, <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> master, <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> worker)</td></tr>
<tr class="memdesc:a1ef581ef75460202f1af9fa5c2ad7bfc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies (streams) data from the master to the worker.  <br /></td></tr>
<tr class="separator:a1ef581ef75460202f1af9fa5c2ad7bfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd4e97d37b0898c277cf60b0c104ba82" id="r_afd4e97d37b0898c277cf60b0c104ba82"><td class="memTemplParams" colspan="2">template&lt;class Container &gt; </td></tr>
<tr class="memitem:afd4e97d37b0898c277cf60b0c104ba82"><td class="memTemplItemLeft" align="right" valign="top">static <a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#afd4e97d37b0898c277cf60b0c104ba82">streamDataFromJoiningTreeToMasterTree</a> (Container &amp;stackContainer, <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> master, <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> worker)</td></tr>
<tr class="separator:afd4e97d37b0898c277cf60b0c104ba82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf5202ec306988b5b7a2226ef01908cc" id="r_aaf5202ec306988b5b7a2226ef01908cc"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html">SpacetreeSet</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaf5202ec306988b5b7a2226ef01908cc">getInstance</a> ()</td></tr>
<tr class="separator:aaf5202ec306988b5b7a2226ef01908cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-types" name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a14dae8c91a482bf3cd7e433f3975f0c0" id="r_a14dae8c91a482bf3cd7e433f3975f0c0"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a14dae8c91a482bf3cd7e433f3975f0c0">SpacetreeSetState</a> { <a class="el" href="#a14dae8c91a482bf3cd7e433f3975f0c0a5706de961fb376d701be6e7762d8b09c">Waiting</a>
, <a class="el" href="#a14dae8c91a482bf3cd7e433f3975f0c0a3da0a28b3e6866d48d179ae9717d739b">TraverseTreesAndExchangeData</a>
 }</td></tr>
<tr class="separator:a14dae8c91a482bf3cd7e433f3975f0c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a255dea5ec5043a45b96c5bd8b4979551" id="r_a255dea5ec5043a45b96c5bd8b4979551"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">peano4::grid::Spacetree</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a255dea5ec5043a45b96c5bd8b4979551">getSpacetree</a> (<a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> id)</td></tr>
<tr class="separator:a255dea5ec5043a45b96c5bd8b4979551"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a044c77e89b2c4763f069146a075fd812" id="r_a044c77e89b2c4763f069146a075fd812"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">peano4::grid::Spacetree</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a044c77e89b2c4763f069146a075fd812">getSpacetree</a> (<a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> id) <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a></td></tr>
<tr class="separator:a044c77e89b2c4763f069146a075fd812"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49e92b919a5d722323f191e6328af9fc" id="r_a49e92b919a5d722323f191e6328af9fc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a49e92b919a5d722323f191e6328af9fc">getAnswerTag</a> (<a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> targetSpacetreeId) <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a></td></tr>
<tr class="separator:a49e92b919a5d722323f191e6328af9fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a994c91ffe58385d3c06f4d921bf43e81" id="r_a994c91ffe58385d3c06f4d921bf43e81"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a994c91ffe58385d3c06f4d921bf43e81">exchangeHorizontalDataBetweenTrees</a> (<a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html">peano4::grid::TraversalObserver</a> &amp;observer)</td></tr>
<tr class="separator:a994c91ffe58385d3c06f4d921bf43e81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fa99ca041b01b58cf60f5b738305913" id="r_a0fa99ca041b01b58cf60f5b738305913"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0fa99ca041b01b58cf60f5b738305913">exchangeVerticalDataBetweenTrees</a> (<a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html">peano4::grid::TraversalObserver</a> &amp;observer)</td></tr>
<tr class="separator:a0fa99ca041b01b58cf60f5b738305913"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3f8c5422a3f29e51de260b34958cb7c" id="r_aa3f8c5422a3f29e51de260b34958cb7c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa3f8c5422a3f29e51de260b34958cb7c">deleteAllStacks</a> (<a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html">peano4::grid::TraversalObserver</a> &amp;observer, <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> spacetreeId)</td></tr>
<tr class="memdesc:aa3f8c5422a3f29e51de260b34958cb7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">I do this after a join/after I've removed an empty tree.  <br /></td></tr>
<tr class="separator:aa3f8c5422a3f29e51de260b34958cb7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2db839ebe2f009b8a85bfe328eb6fa0" id="r_af2db839ebe2f009b8a85bfe328eb6fa0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af2db839ebe2f009b8a85bfe328eb6fa0">streamDataFromSplittingTreesToNewTrees</a> (<a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html">peano4::grid::TraversalObserver</a> &amp;observer)</td></tr>
<tr class="memdesc:af2db839ebe2f009b8a85bfe328eb6fa0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy the data from a splitting tree onto its new workers.  <br /></td></tr>
<tr class="separator:af2db839ebe2f009b8a85bfe328eb6fa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18d9a6ada9314cb6a982fc1b5b2b82c6" id="r_a18d9a6ada9314cb6a982fc1b5b2b82c6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a18d9a6ada9314cb6a982fc1b5b2b82c6">createNewTrees</a> ()</td></tr>
<tr class="memdesc:a18d9a6ada9314cb6a982fc1b5b2b82c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">This operation should be called pretty close towards the end of a traversal.  <br /></td></tr>
<tr class="separator:a18d9a6ada9314cb6a982fc1b5b2b82c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cbbb95e899ec85ae0473cf42c00f176" id="r_a6cbbb95e899ec85ae0473cf42c00f176"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6cbbb95e899ec85ae0473cf42c00f176">deleteClonedObservers</a> ()</td></tr>
<tr class="separator:a6cbbb95e899ec85ae0473cf42c00f176"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1327050fed46cb19cf89d3d0f7f7cbe9" id="r_a1327050fed46cb19cf89d3d0f7f7cbe9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1327050fed46cb19cf89d3d0f7f7cbe9">addSpacetree</a> (<a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> masterId, <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> newTreeId)</td></tr>
<tr class="memdesc:a1327050fed46cb19cf89d3d0f7f7cbe9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a new spacetree to the set.  <br /></td></tr>
<tr class="separator:a1327050fed46cb19cf89d3d0f7f7cbe9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a378c585e77b2456ca8a6324605c7d8d5" id="r_a378c585e77b2456ca8a6324605c7d8d5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a378c585e77b2456ca8a6324605c7d8d5">streamLocalVertexInformationToMasterThroughVerticalStacks</a> (<a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> spacetreeId, <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> parentId, <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> std::set&lt; <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> &gt; &amp;joiningIds)</td></tr>
<tr class="memdesc:a378c585e77b2456ca8a6324605c7d8d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whenever we join two partitions, we have to stream data from the worker to the master.  <br /></td></tr>
<tr class="separator:a378c585e77b2456ca8a6324605c7d8d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa07efe0ea318000757b2acd065b0a8ba" id="r_aa07efe0ea318000757b2acd065b0a8ba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa07efe0ea318000757b2acd065b0a8ba">cleanUpTrees</a> (<a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html">peano4::grid::TraversalObserver</a> &amp;observer)</td></tr>
<tr class="separator:aa07efe0ea318000757b2acd065b0a8ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40ae48bda0092f87c765a1aaa8f03755" id="r_a40ae48bda0092f87c765a1aaa8f03755"><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a40ae48bda0092f87c765a1aaa8f03755">getLocalTreesMergingWithWorkers</a> () <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a></td></tr>
<tr class="memdesc:a40ae48bda0092f87c765a1aaa8f03755"><td class="mdescLeft">&#160;</td><td class="mdescRight">I need this routine for technical reasons: Prior to the sweep of trees, I have to identify all of those trees which wanna merge with their workers.  <br /></td></tr>
<tr class="separator:a40ae48bda0092f87c765a1aaa8f03755"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a724bef1107e37df70598bd2a927b4905" id="r_a724bef1107e37df70598bd2a927b4905"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a724bef1107e37df70598bd2a927b4905">createObserverCloneIfRequired</a> (<a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html">peano4::grid::TraversalObserver</a> &amp;observer, <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> treeId)</td></tr>
<tr class="memdesc:a724bef1107e37df70598bd2a927b4905"><td class="mdescLeft">&#160;</td><td class="mdescRight">Quick lookup whether an observer clone for this tree id does already exist.  <br /></td></tr>
<tr class="separator:a724bef1107e37df70598bd2a927b4905"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8787d7d27e84cf23e71e1a7464ef997" id="r_af8787d7d27e84cf23e71e1a7464ef997"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af8787d7d27e84cf23e71e1a7464ef997">SpacetreeSet</a> ()</td></tr>
<tr class="separator:af8787d7d27e84cf23e71e1a7464ef997"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a332d79986f1db5d003ca811dcbb8ad51" id="r_a332d79986f1db5d003ca811dcbb8ad51"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a332d79986f1db5d003ca811dcbb8ad51">SpacetreeSet</a> (<a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html">SpacetreeSet</a> &amp;)=delete</td></tr>
<tr class="separator:a332d79986f1db5d003ca811dcbb8ad51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a252f274a69d563bf26ba89b43ec420b1" id="r_a252f274a69d563bf26ba89b43ec420b1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html">SpacetreeSet</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a252f274a69d563bf26ba89b43ec420b1">operator=</a> (<a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html">SpacetreeSet</a> &amp;)=delete</td></tr>
<tr class="separator:a252f274a69d563bf26ba89b43ec420b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-static-methods" name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a52d375caeb0aebcc234424b2392dfc97" id="r_a52d375caeb0aebcc234424b2392dfc97"><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a52d375caeb0aebcc234424b2392dfc97">toString</a> (<a class="el" href="#a14dae8c91a482bf3cd7e433f3975f0c0">SpacetreeSetState</a> <a class="el" href="../../d0/d31/GridTraversalEventGeneratorTest_8cpp.html#a3b6f08cc1aee02c7b40b0a2d503beeb8">state</a>)</td></tr>
<tr class="separator:a52d375caeb0aebcc234424b2392dfc97"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:affe069668a5d5efbf19ee0ebd8481b61" id="r_affe069668a5d5efbf19ee0ebd8481b61"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html">peano4::parallel::TreeManagementMessage</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#affe069668a5d5efbf19ee0ebd8481b61">_unansweredMessages</a></td></tr>
<tr class="separator:affe069668a5d5efbf19ee0ebd8481b61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d0bd6e4ba47d5f2cee9b282b88278a0" id="r_a4d0bd6e4ba47d5f2cee9b282b88278a0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4d0bd6e4ba47d5f2cee9b282b88278a0">_requestMessageTag</a></td></tr>
<tr class="memdesc:a4d0bd6e4ba47d5f2cee9b282b88278a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">I use this tag to identify messages send from one tree to another rank.  <br /></td></tr>
<tr class="separator:a4d0bd6e4ba47d5f2cee9b282b88278a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b4b652a524fc12653cebe7b984c3f08" id="r_a7b4b652a524fc12653cebe7b984c3f08"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7b4b652a524fc12653cebe7b984c3f08">_answerMessageTag</a></td></tr>
<tr class="memdesc:a7b4b652a524fc12653cebe7b984c3f08"><td class="mdescLeft">&#160;</td><td class="mdescRight">Never use this tag directly.  <br /></td></tr>
<tr class="separator:a7b4b652a524fc12653cebe7b984c3f08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a77b7ea7b1c8c7a69bcbb4b458db6db" id="r_a8a77b7ea7b1c8c7a69bcbb4b458db6db"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">peano4::grid::Spacetree</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8a77b7ea7b1c8c7a69bcbb4b458db6db">_spacetrees</a></td></tr>
<tr class="memdesc:a8a77b7ea7b1c8c7a69bcbb4b458db6db"><td class="mdescLeft">&#160;</td><td class="mdescRight">These are the local spacetrees.  <br /></td></tr>
<tr class="separator:a8a77b7ea7b1c8c7a69bcbb4b458db6db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a411f6e237f217538056cbee47cc2859e" id="r_a411f6e237f217538056cbee47cc2859e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a14dae8c91a482bf3cd7e433f3975f0c0">SpacetreeSetState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a411f6e237f217538056cbee47cc2859e">_state</a></td></tr>
<tr class="memdesc:a411f6e237f217538056cbee47cc2859e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The state identifies what the set is doing right now.  <br /></td></tr>
<tr class="separator:a411f6e237f217538056cbee47cc2859e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1aa1106b0a08e18237de78ced6694778" id="r_a1aa1106b0a08e18237de78ced6694778"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a>, <a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html">peano4::grid::TraversalObserver</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1aa1106b0a08e18237de78ced6694778">_clonedObserver</a></td></tr>
<tr class="memdesc:a1aa1106b0a08e18237de78ced6694778"><td class="mdescLeft">&#160;</td><td class="mdescRight">I create/clone one observer per local tree.  <br /></td></tr>
<tr class="separator:a1aa1106b0a08e18237de78ced6694778"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-static-attribs" name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:acd4852f97402d9ec43f70c29e98f80d0" id="r_acd4852f97402d9ec43f70c29e98f80d0"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html">SpacetreeSet</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acd4852f97402d9ec43f70c29e98f80d0">_singleton</a></td></tr>
<tr class="separator:acd4852f97402d9ec43f70c29e98f80d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac41c29cdc5f5ee02ef7ca748ce35cfb3" id="r_ac41c29cdc5f5ee02ef7ca748ce35cfb3"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../da/d79/classtarch_1_1logging_1_1Log.html">tarch::logging::Log</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac41c29cdc5f5ee02ef7ca748ce35cfb3">_log</a></td></tr>
<tr class="memdesc:ac41c29cdc5f5ee02ef7ca748ce35cfb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logging device.  <br /></td></tr>
<tr class="separator:ac41c29cdc5f5ee02ef7ca748ce35cfb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1a9a93a69811a8875431c76be1897f7" id="r_ae1a9a93a69811a8875431c76be1897f7"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../da/d3f/classtarch_1_1multicore_1_1BooleanSemaphore.html">tarch::multicore::BooleanSemaphore</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae1a9a93a69811a8875431c76be1897f7">_semaphore</a></td></tr>
<tr class="memdesc:ae1a9a93a69811a8875431c76be1897f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Semaphore to protect container holding all the local trees.  <br /></td></tr>
<tr class="separator:ae1a9a93a69811a8875431c76be1897f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="friends" name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a024487096d7f06010b56b30480299385" id="r_a024487096d7f06010b56b30480299385"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a024487096d7f06010b56b30480299385">peano4::grid::Spacetree</a></td></tr>
<tr class="separator:a024487096d7f06010b56b30480299385"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_attribs_classtarch_1_1services_1_1Service"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pro_attribs_classtarch_1_1services_1_1Service')"><img src="../../closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="../../d2/d00/classtarch_1_1services_1_1Service.html">tarch::services::Service</a></td></tr>
<tr class="memitem:a5851dadd19960ab869f27ea8eb4aa8a3 inherit pro_attribs_classtarch_1_1services_1_1Service" id="r_a5851dadd19960ab869f27ea8eb4aa8a3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d99/classtarch_1_1multicore_1_1RecursiveSemaphore.html">tarch::multicore::RecursiveSemaphore</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d00/classtarch_1_1services_1_1Service.html#a5851dadd19960ab869f27ea8eb4aa8a3">_receiveDanglingMessagesSemaphore</a></td></tr>
<tr class="memdesc:a5851dadd19960ab869f27ea8eb4aa8a3 inherit pro_attribs_classtarch_1_1services_1_1Service"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recursive semaphores.  <br /></td></tr>
<tr class="separator:a5851dadd19960ab869f27ea8eb4aa8a3 inherit pro_attribs_classtarch_1_1services_1_1Service"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The spacetree set has to be a singleton, as it is reponsible to accept requests for new trees from remote ranks. </p>
<p>So there is only one set.</p>
<dl class="section author"><dt>Author</dt><dd>Tobias Weinzierl </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html#l00041">41</a> of file <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html">SpacetreeSet.h</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a14dae8c91a482bf3cd7e433f3975f0c0" name="a14dae8c91a482bf3cd7e433f3975f0c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14dae8c91a482bf3cd7e433f3975f0c0">&#9670;&#160;</a></span>SpacetreeSetState</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="#a14dae8c91a482bf3cd7e433f3975f0c0">peano4::parallel::SpacetreeSet::SpacetreeSetState</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a14dae8c91a482bf3cd7e433f3975f0c0a5706de961fb376d701be6e7762d8b09c" name="a14dae8c91a482bf3cd7e433f3975f0c0a5706de961fb376d701be6e7762d8b09c"></a>Waiting&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a14dae8c91a482bf3cd7e433f3975f0c0a3da0a28b3e6866d48d179ae9717d739b" name="a14dae8c91a482bf3cd7e433f3975f0c0a3da0a28b3e6866d48d179ae9717d739b"></a>TraverseTreesAndExchangeData&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html#l00302">302</a> of file <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html">SpacetreeSet.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="af8787d7d27e84cf23e71e1a7464ef997" name="af8787d7d27e84cf23e71e1a7464ef997"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8787d7d27e84cf23e71e1a7464ef997">&#9670;&#160;</a></span>SpacetreeSet() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">peano4::parallel::SpacetreeSet::SpacetreeSet </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00026">26</a> of file <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html">SpacetreeSet.cpp</a>.</p>

</div>
</div>
<a id="a332d79986f1db5d003ca811dcbb8ad51" name="a332d79986f1db5d003ca811dcbb8ad51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a332d79986f1db5d003ca811dcbb8ad51">&#9670;&#160;</a></span>SpacetreeSet() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">peano4::parallel::SpacetreeSet::SpacetreeSet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html">SpacetreeSet</a> &amp;</td>          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aac89e0346ffefb8858742928ff8c700b" name="aac89e0346ffefb8858742928ff8c700b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac89e0346ffefb8858742928ff8c700b">&#9670;&#160;</a></span>~SpacetreeSet()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">peano4::parallel::SpacetreeSet::~SpacetreeSet </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a1327050fed46cb19cf89d3d0f7f7cbe9" name="a1327050fed46cb19cf89d3d0f7f7cbe9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1327050fed46cb19cf89d3d0f7f7cbe9">&#9670;&#160;</a></span>addSpacetree()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> peano4::parallel::SpacetreeSet::addSpacetree </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a></td>          <td class="paramname"><span class="paramname"><em>masterId</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a></td>          <td class="paramname"><span class="paramname"><em>newTreeId</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds a new spacetree to the set. </p>
<p>The responsibility goes over to the set. The operation clones the original spacetree handed in into a new spacetree with the id newTreeId.</p>
<h2>Local node </h2>
<p>If the new tree will be a local tree, we simply add a new tree object. The <a class="el" href="../../da/d67/structSpacetree.html">Spacetree</a>'s constructor takes care of all the "cloning". Clone here means a setup. We traverse this tree afterwards separately to stream all data in.</p>
<h2>Distributed memory  In a distributed memory environment, we have to break up the creation into a set of sends forth and back through TreeManagementMessages. This routine is the one that sends out the requests.  Multithreading </h2>
<p>I may not globally lock this routine, as I otherwise would block the <a class="el" href="#a724bef1107e37df70598bd2a927b4905" title="Quick lookup whether an observer clone for this tree id does already exist.">createObserverCloneIfRequired()</a>. So I literally "only" protect the actual push back in the vector.</p>
<h2>Call sequence </h2>
<p>The operation is used by <a class="el" href="#a18d9a6ada9314cb6a982fc1b5b2b82c6" title="This operation should be called pretty close towards the end of a traversal.">createNewTrees()</a> . </p>

<p class="definition">Definition at line <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00208">208</a> of file <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html">SpacetreeSet.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#aa3d7e177ce6bc07bd01a8b308891e421a527b5dd477abf95e8fe19aac201df396">peano4::parallel::TreeManagementMessage::Acknowledgement</a>, <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01018">assertion1</a>, <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01076">assertionMsg</a>, <a class="el" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#aa3d7e177ce6bc07bd01a8b308891e421ab103b93d58b7913ca05b54c2335bdbbd">peano4::parallel::TreeManagementMessage::CreateNewRemoteTree</a>, <a class="el" href="../../de/d65/TreeManagementMessage_8cpp_source.html#l00054">peano4::parallel::TreeManagementMessage::getAction()</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00077">peano4::parallel::Node::getInstance()</a>, <a class="el" href="../../d5/dcd/Rank_8cpp_source.html#l00525">tarch::mpi::Rank::getInstance()</a>, <a class="el" href="../../db/d92/Node_8h_source.html#l00101">peano4::parallel::Node::getRank()</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00050">logDebug</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00371">logTraceInWith2Arguments</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00379">logTraceOut</a>, <a class="el" href="../../de/d65/TreeManagementMessage_8cpp_source.html#l00240">peano4::parallel::TreeManagementMessage::receive()</a>, <a class="el" href="../../d9/db4/AutomatonState_8cpp_source.html#l00213">peano4::grid::AutomatonState::send()</a>, <a class="el" href="../../de/d65/TreeManagementMessage_8cpp_source.html#l00290">peano4::parallel::TreeManagementMessage::sendAndPollDanglingMessages()</a>, <a class="el" href="../../de/d65/TreeManagementMessage_8cpp_source.html#l00059">peano4::parallel::TreeManagementMessage::setAction()</a>, <a class="el" href="../../de/d65/TreeManagementMessage_8cpp_source.html#l00039">peano4::parallel::TreeManagementMessage::setMasterSpacetreeId()</a>, <a class="el" href="../../de/d65/TreeManagementMessage_8cpp_source.html#l00049">peano4::parallel::TreeManagementMessage::setWorkerSpacetreeId()</a>, <a class="el" href="../../d0/d31/GridTraversalEventGeneratorTest_8cpp_source.html#l00146">state</a>, and <a class="el" href="../../de/d65/TreeManagementMessage_8cpp_source.html#l00018">peano4::parallel::TreeManagementMessage::toString()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00442">createNewTrees()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a1327050fed46cb19cf89d3d0f7f7cbe9_cgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a1327050fed46cb19cf89d3d0f7f7cbe9_cgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a1327050fed46cb19cf89d3d0f7f7cbe9_cgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a1327050fed46cb19cf89d3d0f7f7cbe9_cgraph">
<area shape="rect" title="Adds a new spacetree to the set." alt="" coords="5,312,205,352"/>
<area shape="rect" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a254a9bee212d754ee5d8c976fcf5afb3" title=" " alt="" coords="275,5,523,45"/>
<area shape="poly" title=" " alt="" coords="109,311,124,259,151,190,171,153,193,117,220,84,252,55,261,49,264,53,255,59,224,87,198,120,175,155,156,192,129,261,114,313"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0" title=" " alt="" coords="314,69,483,109"/>
<area shape="poly" title=" " alt="" coords="112,310,131,269,161,217,201,164,225,140,252,119,275,107,300,98,301,103,277,112,255,124,229,144,205,167,166,220,136,272,117,313"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd" title="This operation returns the singleton instance." alt="" coords="621,198,834,223"/>
<area shape="poly" title=" " alt="" coords="127,310,182,269,216,249,252,233,343,211,437,199,527,196,607,198,607,203,527,201,437,205,344,216,254,239,218,254,185,273,131,314"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a47bc7f10fa1fa287bf94138032e9716b" title="You hand in a tree number and the node tells you on which rank such a tree is hosted." alt="" coords="314,133,483,173"/>
<area shape="poly" title=" " alt="" coords="120,310,174,250,211,218,252,190,300,170,302,175,255,194,214,222,178,254,124,313"/>
<area shape="rect" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#acc5c542271504672569e175debab8ac3" title=" " alt="" coords="275,248,523,288"/>
<area shape="poly" title=" " alt="" coords="197,309,293,288,294,294,198,315"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#a3f26906486bb96487afc2bedc5515431" title="In DaStGen (the first version), I had a non&#45;static version of the send as well as the receive." alt="" coords="290,312,507,352"/>
<area shape="poly" title=" " alt="" coords="205,329,276,329,276,335,205,335"/>
<area shape="rect" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a7cfae5baa7c161d85705f2f8cf1e0703" title=" " alt="" coords="253,376,544,416"/>
<area shape="poly" title=" " alt="" coords="198,349,294,370,293,376,197,355"/>
<area shape="rect" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a8234a885ab8329a3d554bef233909545" title=" " alt="" coords="275,440,523,480"/>
<area shape="poly" title=" " alt="" coords="133,350,187,389,254,426,275,433,273,438,252,430,184,393,130,355"/>
<area shape="rect" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a39dcc85e917582e601772f414d892432" title=" " alt="" coords="275,504,523,544"/>
<area shape="poly" title=" " alt="" coords="121,351,174,420,211,458,255,490,267,496,265,501,252,494,208,462,170,424,117,354"/>
<area shape="rect" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a751e49c699fded29e8ea2bbb27ec085c" title=" " alt="" coords="275,568,523,608"/>
<area shape="poly" title=" " alt="" coords="116,351,134,394,164,450,204,506,228,532,255,554,264,559,261,564,252,558,224,536,200,510,159,452,130,397,111,353"/>
<area shape="rect" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a6de11550a424b8f79da95ecf81596246" title=" " alt="" coords="275,632,523,672"/>
<area shape="poly" title=" " alt="" coords="113,351,128,406,155,478,173,517,196,554,223,588,255,618,264,624,261,628,252,622,219,592,192,557,169,519,150,480,123,407,108,353"/>
<area shape="poly" title=" " alt="" coords="484,165,641,193,640,198,483,171"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a2edb0017914edf9df4b6a0bfbf3a2890" title=" " alt="" coords="622,133,833,173"/>
<area shape="poly" title=" " alt="" coords="484,151,608,151,608,156,484,156"/>
<area shape="poly" title=" " alt="" coords="525,374,542,362,555,347,562,332,565,299,569,266,576,250,590,234,607,223,610,227,594,238,581,253,574,268,570,300,567,333,560,350,546,366,529,378"/>
<area shape="rect" href="../../d6/d75/classtarch_1_1services_1_1ServiceRepository.html#a6a3a85cf6082b5f2711cf046176cd42c" title=" " alt="" coords="640,376,815,416"/>
<area shape="poly" title=" " alt="" coords="544,393,626,393,626,399,544,399"/>
<area shape="rect" href="../../d6/d75/classtarch_1_1services_1_1ServiceRepository.html#a4218d43659ffc951ee3b1c6eab7532bc" title="Answer to MPI Messages." alt="" coords="592,440,863,480"/>
<area shape="poly" title=" " alt="" coords="503,413,611,435,610,440,502,419"/>
<area shape="rect" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a335aba25eb0153590659ae48d7f6eb71" title="In DaStGen (the first version), I had a non&#45;static version of the send as well as the receive." alt="" coords="603,504,851,544"/>
<area shape="poly" title=" " alt="" coords="523,414,546,426,562,442,570,459,578,475,594,490,604,496,601,500,590,494,574,478,566,461,558,445,542,430,520,418"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a4785132af638891e2c7aed3fb7dede8b" title=" " alt="" coords="618,568,837,608"/>
<area shape="poly" title=" " alt="" coords="529,414,546,426,560,442,567,458,571,492,574,524,581,539,594,554,607,564,604,568,590,558,576,542,569,525,565,492,562,460,555,445,542,430,525,418"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a34d9ac947c0789391d0dd0a255db6f65" title="Memorise global timeout." alt="" coords="618,632,837,672"/>
<area shape="poly" title=" " alt="" coords="531,414,546,426,564,450,572,475,573,499,571,524,569,548,570,572,577,595,594,618,608,629,605,633,590,622,572,598,564,573,563,548,566,524,568,499,567,476,559,453,542,430,527,418"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a30be6a36ef6718b50d7dec30a3192a06" title="Triggers a time out and shuts down the cluster if a timeout is violated." alt="" coords="637,248,817,288"/>
<area shape="poly" title=" " alt="" coords="520,374,542,362,558,347,566,331,574,314,590,298,623,282,625,287,594,302,578,317,570,333,562,350,546,366,523,378"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a3ce812fcc9b65faa8fe4c0101d43039b" title="Writes a warning if relevant." alt="" coords="626,312,829,352"/>
<area shape="poly" title=" " alt="" coords="502,373,612,352,613,357,503,379"/>
<area shape="rect" href="../../d4/df5/classtarch_1_1multicore_1_1RecursiveLock.html#aed01fe13fe4c18031154be6ad8f96c70" title=" " alt="" coords="911,440,1108,480"/>
<area shape="poly" title=" " alt="" coords="863,457,897,457,897,463,863,463"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a1327050fed46cb19cf89d3d0f7f7cbe9_icgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a1327050fed46cb19cf89d3d0f7f7cbe9_icgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a1327050fed46cb19cf89d3d0f7f7cbe9_icgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a1327050fed46cb19cf89d3d0f7f7cbe9_icgraph">
<area shape="rect" title="Adds a new spacetree to the set." alt="" coords="743,47,943,87"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a18d9a6ada9314cb6a982fc1b5b2b82c6" title="This operation should be called pretty close towards the end of a traversal." alt="" coords="495,47,695,87"/>
<area shape="poly" title=" " alt="" coords="729,70,695,70,695,65,729,65"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#af3302644e7f7848b653167f1502f3554" title="Invoke traverse on all spacetrees in parallel." alt="" coords="247,47,447,87"/>
<area shape="poly" title=" " alt="" coords="481,70,447,70,447,65,481,65"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a63ad06a0041cb535df105cf2f445a73c" title=" " alt="" coords="108,5,199,31"/>
<area shape="poly" title=" " alt="" coords="254,46,198,32,199,27,255,41"/>
<area shape="rect" href="../../d6/d10/benchmarks_2peano4_2regulargridupscaling_2main_8cpp.html#a716631ca95d6176da3ed3886635e801e" title=" " alt="" coords="108,55,199,80"/>
<area shape="poly" title=" " alt="" coords="233,70,199,70,199,65,233,65"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#ac6bf1a12c5c98ddec5b65e07fe74cabe" title=" " alt="" coords="128,104,179,129"/>
<area shape="poly" title=" " alt="" coords="255,93,179,113,178,108,254,88"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,104,60,129"/>
<area shape="poly" title=" " alt="" coords="114,119,60,119,60,114,114,114"/>
</map>
</div>

</div>
</div>
<a id="a8103e3890b4eda9a1313e77158edd662" name="a8103e3890b4eda9a1313e77158edd662"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8103e3890b4eda9a1313e77158edd662">&#9670;&#160;</a></span>answerQuestions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> peano4::parallel::SpacetreeSet::answerQuestions </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run through the set of unanswered questions and, well, answer them. </p>
<p>The following messages are received/handled:</p>
<ul>
<li>Action::RequestNewRemoteTree (invoked by <a class="el" href="#a4c99275a5fd270dce1999818063bd802" title="Split a local tree.">split()</a>)</li>
<li>Action::CreateNewRemoteTree (invoked by <a class="el" href="#a1327050fed46cb19cf89d3d0f7f7cbe9" title="Adds a new spacetree to the set.">addSpacetree(int,int)</a>)</li>
<li>Action::RemoveChildTreeFromBooksAsChildBecameEmpty (invoked by <a class="el" href="#aa07efe0ea318000757b2acd065b0a8ba">cleanUpTrees()</a>)</li>
</ul>
<p><a class="el" href="#a4c99275a5fd270dce1999818063bd802" title="Split a local tree.">split()</a> is something any rank can trigger at any time. Most default load balancers call it throughout the end of the grid sweep. <a class="el" href="#a1327050fed46cb19cf89d3d0f7f7cbe9" title="Adds a new spacetree to the set.">addSpacetree()</a> is called by the set through <a class="el" href="#a18d9a6ada9314cb6a982fc1b5b2b82c6" title="This operation should be called pretty close towards the end of a traversal.">createNewTrees()</a> just before all observers are deleted and the traversal terminates. <a class="el" href="#aa07efe0ea318000757b2acd065b0a8ba">cleanUpTrees()</a> just arises before that one.</p>
<p>No all of these messages can be answered at any point of the local grid sweeps. That is, we may never add a tree to the local tree collection while we are right in the middle of traversals on this rank, e.g. We may not insert or remove trees from the global data structure while we are still traversing some local trees or run some data exchange. I originally tried to protect the whole code by a _state==<a class="el" href="#a14dae8c91a482bf3cd7e433f3975f0c0a5706de961fb376d701be6e7762d8b09c">SpacetreeSetState::Waiting</a> check, i.e. to make the set react if and only if we are not doing anything anyway. That did not work properly, as tree requests for example are to be handled immediately. So what I do now is that I pipe all requests into a vector. Then, I run through the vector and, depending on the set state, do answer messages or leave them in the queue for the time being.</p>
<p>This approach leads to errors whenever a message send-out is followed by a second message that provides further details. The first message might be buffered locally, and, as we can't answer the first one immediately, the second message (of another datatype) will be interpreted as yet another request. So that means that every single message exchange with the set always has to be follow a send-acknowledge pattern.</p>
<h2>Action::RequestNewRemoteTree </h2>
<p>Can be answered any time, as it literally just books a new number but nothing more happens at this point. The acknowledgement message carries the new tree's number.</p>
<h2>Action::CreateNewRemoteTree </h2>
<p>This message triggers the insertation of a new tree into the local set of spacetrees. We thus may handle it if and only if we are the end of a traversal. The message logically consists of two parts: The master of a new tree (which has previously used Action::RequestNewRemoteTree to get a new tree's number) sends out the create message, waits for the acknowledgement and then sends out the tree state, to the rank hosting the new tree can actually create the data structure. This last step is followed by an acknowledge message which carries no particular information. That is, this message exchange belongs to the one-way information flow, but we have one acknowledgement message to say "go ahead", and one message to say "ok, we got it".</p>
<h2>Action::RemoveChildTreeFromBooksAsChildBecameEmpty </h2>
<p>This is a simple one though we have again to ensure that it is handled if and only if we have finishes the local traversals and thus can safely manipulate the local spacetree.</p>
<h2>Data consistency </h2>
<p>In this routine, we have to be very careful with the data consistency. While we are running through the set of unanswered messages, new ones might drop in. However, C++ is not very happy if a vector is added further elements while we are traversing it (in theory, it might happen that it is expanded and thus copied). So what I do is something different: I first run through the vector and take those out that I know that I can handle. Then I handle these guys and return - well-aware that meanwhile further messages might have dropped in. Which is something I don't care, as I rely on the calling code just to invoke answer again if it is important for the code's progress.</p>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000019">Todo</a></b></dt><dd>replyToUnansweredMessages() sollte der Name sein </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00077">77</a> of file <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html">SpacetreeSet.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d30/DiscontinuousGalerkinDiscretisationPointWiseRiemannSolver_8Abstract_8template_8h_source.html#l00066">_state</a>, <a class="el" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#aa3d7e177ce6bc07bd01a8b308891e421a527b5dd477abf95e8fe19aac201df396">peano4::parallel::TreeManagementMessage::Acknowledgement</a>, <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01017">assertion</a>, <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01076">assertionMsg</a>, <a class="el" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#aa3d7e177ce6bc07bd01a8b308891e421ab103b93d58b7913ca05b54c2335bdbbd">peano4::parallel::TreeManagementMessage::CreateNewRemoteTree</a>, <a class="el" href="../../d5/dcd/Rank_8cpp_source.html#l00531">tarch::mpi::Rank::getCommunicator()</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00077">peano4::parallel::Node::getInstance()</a>, <a class="el" href="../../d5/dcd/Rank_8cpp_source.html#l00525">tarch::mpi::Rank::getInstance()</a>, <a class="el" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#aa3d7e177ce6bc07bd01a8b308891e421ab5acbaf6328a214f18919ab3f79e3ddf">peano4::parallel::TreeManagementMessage::JoinWithWorker</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00050">logDebug</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00411">logInfo</a>, <a class="el" href="../../d9/db4/AutomatonState_8cpp_source.html#l00218">peano4::grid::AutomatonState::receive()</a>, <a class="el" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#aa3d7e177ce6bc07bd01a8b308891e421af210621f58faf7bf43b0c5a4690fb458">peano4::parallel::TreeManagementMessage::RemoveChildTreeFromBooksAsChildBecameEmpty</a>, <a class="el" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#aa3d7e177ce6bc07bd01a8b308891e421a5d2933f9a52961da81a30c9080e93263">peano4::parallel::TreeManagementMessage::RequestNewRemoteTree</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00079">peano4::parallel::Node::reserveId()</a>, <a class="el" href="../../de/d65/TreeManagementMessage_8cpp_source.html#l00235">peano4::parallel::TreeManagementMessage::send()</a>, <a class="el" href="../../de/d65/TreeManagementMessage_8cpp_source.html#l00059">peano4::parallel::TreeManagementMessage::setAction()</a>, <a class="el" href="../../de/d65/TreeManagementMessage_8cpp_source.html#l00049">peano4::parallel::TreeManagementMessage::setWorkerSpacetreeId()</a>, and <a class="el" href="../../d0/d31/GridTraversalEventGeneratorTest_8cpp_source.html#l00146">state</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00461">traverse()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a8103e3890b4eda9a1313e77158edd662_cgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a8103e3890b4eda9a1313e77158edd662_cgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a8103e3890b4eda9a1313e77158edd662_cgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a8103e3890b4eda9a1313e77158edd662_cgraph">
<area shape="rect" title="Run through the set of unanswered questions and, well, answer them." alt="" coords="5,202,205,242"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#af6c8bbf40ce79043f17b4707ccadd73b" title=" " alt="" coords="253,5,508,31"/>
<area shape="poly" title=" " alt="" coords="115,200,136,165,166,121,205,78,252,41,267,33,270,38,255,46,209,81,170,125,140,168,119,203"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0" title=" " alt="" coords="296,55,465,95"/>
<area shape="poly" title=" " alt="" coords="125,200,179,152,215,127,252,105,282,93,284,98,255,110,217,131,183,156,128,204"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd" title="This operation returns the singleton instance." alt="" coords="274,120,487,145"/>
<area shape="poly" title=" " alt="" coords="145,200,196,177,253,155,289,146,290,151,254,161,198,182,147,204"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#af987ccce2206d77462a6a652be654335" title=" " alt="" coords="272,170,489,210"/>
<area shape="poly" title=" " alt="" coords="205,208,258,202,259,207,206,213"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a59bed030f4816c88a02ff326e7a0811c" title="This operation is not const as it does some internal bookkeeping." alt="" coords="296,234,465,274"/>
<area shape="poly" title=" " alt="" coords="206,231,283,240,282,245,205,236"/>
<area shape="rect" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a335aba25eb0153590659ae48d7f6eb71" title="In DaStGen (the first version), I had a non&#45;static version of the send as well as the receive." alt="" coords="257,298,505,338"/>
<area shape="poly" title=" " alt="" coords="149,240,254,283,280,292,279,297,252,289,147,245"/>
<area shape="rect" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a8234a885ab8329a3d554bef233909545" title=" " alt="" coords="257,362,505,402"/>
<area shape="poly" title=" " alt="" coords="126,240,180,294,216,323,255,348,269,354,267,359,252,352,213,327,176,298,122,244"/>
<area shape="rect" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a751e49c699fded29e8ea2bbb27ec085c" title=" " alt="" coords="257,426,505,466"/>
<area shape="poly" title=" " alt="" coords="119,241,139,278,169,325,208,372,255,412,265,418,262,422,252,416,204,376,165,328,134,281,114,244"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a8103e3890b4eda9a1313e77158edd662_icgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a8103e3890b4eda9a1313e77158edd662_icgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a8103e3890b4eda9a1313e77158edd662_icgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a8103e3890b4eda9a1313e77158edd662_icgraph">
<area shape="rect" title="Run through the set of unanswered questions and, well, answer them." alt="" coords="495,47,695,87"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#af3302644e7f7848b653167f1502f3554" title="Invoke traverse on all spacetrees in parallel." alt="" coords="247,47,447,87"/>
<area shape="poly" title=" " alt="" coords="481,70,447,70,447,65,481,65"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a63ad06a0041cb535df105cf2f445a73c" title=" " alt="" coords="108,5,199,31"/>
<area shape="poly" title=" " alt="" coords="254,46,198,32,199,27,255,41"/>
<area shape="rect" href="../../d6/d10/benchmarks_2peano4_2regulargridupscaling_2main_8cpp.html#a716631ca95d6176da3ed3886635e801e" title=" " alt="" coords="108,55,199,80"/>
<area shape="poly" title=" " alt="" coords="233,70,199,70,199,65,233,65"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#ac6bf1a12c5c98ddec5b65e07fe74cabe" title=" " alt="" coords="128,104,179,129"/>
<area shape="poly" title=" " alt="" coords="255,93,179,113,178,108,254,88"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,104,60,129"/>
<area shape="poly" title=" " alt="" coords="114,119,60,119,60,114,114,114"/>
</map>
</div>

</div>
</div>
<a id="aa07efe0ea318000757b2acd065b0a8ba" name="aa07efe0ea318000757b2acd065b0a8ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa07efe0ea318000757b2acd065b0a8ba">&#9670;&#160;</a></span>cleanUpTrees()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> peano4::parallel::SpacetreeSet::cleanUpTrees </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html">peano4::grid::TraversalObserver</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>observer</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<h2>Merge process </h2>
<p>We make the worker first of all decide whether to merge or not. A worker has the control/knowledge whether to join or not. When a rank wants to join, we first of all run the workers. Then, all data is the join buffers. After that, we sweep through the masters to take up the data. So we may not merge both the worker and the master into their workers at the same time. If we did so, we'd not be able to run all the merging trees in parallel. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00564">564</a> of file <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html">SpacetreeSet.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d2e/Spacetree_8h_source.html#l00110">peano4::grid::Spacetree::_childrenIds</a>, <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html#l00316">_requestMessageTag</a>, <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html#l00328">_spacetrees</a>, <a class="el" href="../../d1/d2e/Spacetree_8h_source.html#l00099">peano4::grid::Spacetree::_statistics</a>, <a class="el" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#aa3d7e177ce6bc07bd01a8b308891e421a527b5dd477abf95e8fe19aac201df396">peano4::parallel::TreeManagementMessage::Acknowledgement</a>, <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01018">assertion1</a>, <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01076">assertionMsg</a>, <a class="el" href="../../d7/d1e/SpacetreeSet_8cpph_source.html#l00015">deleteAllStacks()</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00159">peano4::parallel::Node::deregisterId()</a>, <a class="el" href="../../de/d65/TreeManagementMessage_8cpp_source.html#l00054">peano4::parallel::TreeManagementMessage::getAction()</a>, <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00063">getAnswerTag()</a>, <a class="el" href="../../d2/d00/GridStatistics_8cpp_source.html#l00079">peano4::grid::GridStatistics::getCoarseningHasBeenVetoed()</a>, <a class="el" href="../../d5/dcd/Rank_8cpp_source.html#l00531">tarch::mpi::Rank::getCommunicator()</a>, <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l01762">peano4::grid::Spacetree::getGridStatistics()</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00077">peano4::parallel::Node::getInstance()</a>, <a class="el" href="../../d5/dcd/Rank_8cpp_source.html#l00525">tarch::mpi::Rank::getInstance()</a>, <a class="el" href="../../d5/dcd/Rank_8cpp_source.html#l00519">tarch::mpi::Rank::getRank()</a>, <a class="el" href="../../db/d92/Node_8h_source.html#l00101">peano4::parallel::Node::getRank()</a>, <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00761">getSpacetree()</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37ca7d50c09f1ad7d098e0a847bcdcab7efb">peano4::grid::Joined</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00050">logDebug</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00464">logError</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00411">logInfo</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00369">logTraceIn</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00379">logTraceOut</a>, <a class="el" href="../../de/d65/TreeManagementMessage_8cpp_source.html#l00240">peano4::parallel::TreeManagementMessage::receive()</a>, <a class="el" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#aa3d7e177ce6bc07bd01a8b308891e421af210621f58faf7bf43b0c5a4690fb458">peano4::parallel::TreeManagementMessage::RemoveChildTreeFromBooksAsChildBecameEmpty</a>, <a class="el" href="../../de/d65/TreeManagementMessage_8cpp_source.html#l00235">peano4::parallel::TreeManagementMessage::send()</a>, <a class="el" href="../../d2/d00/GridStatistics_8cpp_source.html#l00091">peano4::grid::GridStatistics::setRemovedEmptySubtree()</a>, and <a class="el" href="../../de/d65/TreeManagementMessage_8cpp_source.html#l00018">peano4::parallel::TreeManagementMessage::toString()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00461">traverse()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_aa07efe0ea318000757b2acd065b0a8ba_cgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_aa07efe0ea318000757b2acd065b0a8ba_cgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_aa07efe0ea318000757b2acd065b0a8ba_cgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_aa07efe0ea318000757b2acd065b0a8ba_cgraph">
<area shape="rect" title=" " alt="" coords="5,432,205,472"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a2b44dbeda9845c18d2d97b834ce0cc71" title=" " alt="" coords="281,5,481,45"/>
<area shape="poly" title=" " alt="" coords="106,431,115,362,139,263,157,209,182,155,213,106,252,62,267,50,271,54,255,66,217,109,187,158,162,211,144,264,120,363,111,432"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0" title=" " alt="" coords="571,56,741,96"/>
<area shape="poly" title=" " alt="" coords="106,431,116,367,140,280,159,233,183,188,214,147,252,112,275,101,306,91,384,79,473,73,557,72,557,77,473,79,385,84,307,97,277,106,255,117,218,150,188,191,164,235,145,281,121,369,111,432"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd" title="This operation returns the singleton instance." alt="" coords="804,178,1017,203"/>
<area shape="poly" title=" " alt="" coords="107,431,120,376,146,302,166,263,189,226,218,193,252,166,297,147,356,137,425,133,499,134,644,144,756,156,848,172,847,177,756,161,644,150,498,139,425,139,356,142,298,153,255,170,221,197,193,229,170,266,151,304,125,377,113,433"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a32f14062e953a7eae2006343a18b755a" title="Only the SpacetreeSet should call this operation." alt="" coords="296,336,465,376"/>
<area shape="poly" title=" " alt="" coords="147,429,252,385,282,376,283,381,254,391,149,434"/>
<area shape="rect" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a254a9bee212d754ee5d8c976fcf5afb3" title=" " alt="" coords="257,400,505,440"/>
<area shape="poly" title=" " alt="" coords="205,438,243,433,244,439,206,443"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a49e92b919a5d722323f191e6328af9fc" title=" " alt="" coords="281,221,481,261"/>
<area shape="poly" title=" " alt="" coords="116,430,169,356,207,314,252,278,277,264,279,269,255,282,211,318,173,359,121,433"/>
<area shape="rect" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html#ada7c6605e8c2ee65cae97acac03b1048" title=" " alt="" coords="267,464,494,504"/>
<area shape="poly" title=" " alt="" coords="206,461,254,467,253,472,205,466"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#af6c8bbf40ce79043f17b4707ccadd73b" title=" " alt="" coords="253,529,508,554"/>
<area shape="poly" title=" " alt="" coords="147,470,198,492,254,513,290,523,289,528,253,519,196,497,145,474"/>
<area shape="rect" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html#a1a92ee6f9a9b343569d57077f921cb25" title=" " alt="" coords="293,579,469,619"/>
<area shape="poly" title=" " alt="" coords="128,470,183,518,217,543,255,564,280,575,278,580,252,569,215,547,179,522,125,474"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a82f75ffb3e66104757a5a335751bdc29" title="Return rank of this node." alt="" coords="285,643,476,669"/>
<area shape="poly" title=" " alt="" coords="119,471,140,506,170,549,209,593,255,628,273,638,271,642,252,633,205,596,166,553,136,509,115,474"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a47bc7f10fa1fa287bf94138032e9716b" title="You hand in a tree number and the node tells you on which rank such a tree is hosted." alt="" coords="571,299,741,339"/>
<area shape="poly" title=" " alt="" coords="120,430,173,373,210,344,252,322,291,309,330,301,411,292,489,293,558,299,557,304,489,298,411,297,331,306,292,314,254,326,213,348,177,377,124,433"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a255dea5ec5043a45b96c5bd8b4979551" title=" " alt="" coords="556,171,756,211"/>
<area shape="poly" title=" " alt="" coords="109,431,125,383,153,320,172,288,195,257,221,230,252,207,286,190,322,177,398,163,473,161,543,166,542,172,473,166,399,169,324,182,288,195,255,212,225,234,199,261,177,291,158,323,130,385,114,433"/>
<area shape="rect" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#acc5c542271504672569e175debab8ac3" title=" " alt="" coords="257,693,505,733"/>
<area shape="poly" title=" " alt="" coords="116,471,134,515,163,572,204,630,228,656,255,679,264,685,261,689,252,683,224,660,199,633,159,574,129,517,111,473"/>
<area shape="rect" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a335aba25eb0153590659ae48d7f6eb71" title="In DaStGen (the first version), I had a non&#45;static version of the send as well as the receive." alt="" coords="257,757,505,797"/>
<area shape="poly" title=" " alt="" coords="113,471,127,526,154,600,173,639,196,677,223,713,255,743,261,748,258,752,252,747,219,716,192,680,169,642,149,602,122,528,108,473"/>
<area shape="rect" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html#af7c05762262cb60344edb50f23fe00c7" title=" " alt="" coords="279,821,483,861"/>
<area shape="poly" title=" " alt="" coords="111,472,122,537,146,628,165,677,189,725,219,769,255,807,268,817,265,821,252,811,215,772,184,727,160,679,141,630,117,538,106,473"/>
<area shape="rect" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a6de11550a424b8f79da95ecf81596246" title=" " alt="" coords="257,885,505,925"/>
<area shape="poly" title=" " alt="" coords="110,472,117,547,125,599,138,655,157,714,182,771,214,825,255,871,260,876,257,880,251,875,210,828,177,774,152,716,133,657,120,600,112,548,105,473"/>
<area shape="poly" title=" " alt="" coords="481,41,558,55,557,61,480,46"/>
<area shape="poly" title=" " alt="" coords="481,9,544,6,615,9,688,20,757,42,801,67,840,100,872,135,895,165,891,168,867,138,836,104,798,72,755,46,686,25,615,14,544,12,481,15"/>
<area shape="poly" title=" " alt="" coords="414,219,608,101,611,106,417,223"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a426860ede252fd2c044bdfda9f973d79" title=" " alt="" coords="571,235,741,275"/>
<area shape="poly" title=" " alt="" coords="481,244,558,247,557,253,481,249"/>
<area shape="poly" title=" " alt="" coords="736,232,845,204,847,209,737,237"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a2edb0017914edf9df4b6a0bfbf3a2890" title=" " alt="" coords="805,267,1016,307"/>
<area shape="poly" title=" " alt="" coords="741,263,792,269,791,274,741,268"/>
<area shape="poly" title=" " alt="" coords="726,296,755,284,779,269,803,252,875,208,878,213,805,257,782,274,757,289,728,301"/>
<area shape="poly" title=" " alt="" coords="741,305,791,299,792,304,741,311"/>
<area shape="poly" title=" " alt="" coords="756,188,790,188,790,193,756,193"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_aa07efe0ea318000757b2acd065b0a8ba_icgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_aa07efe0ea318000757b2acd065b0a8ba_icgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_aa07efe0ea318000757b2acd065b0a8ba_icgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_aa07efe0ea318000757b2acd065b0a8ba_icgraph">
<area shape="rect" title=" " alt="" coords="495,47,695,87"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#af3302644e7f7848b653167f1502f3554" title="Invoke traverse on all spacetrees in parallel." alt="" coords="247,47,447,87"/>
<area shape="poly" title=" " alt="" coords="481,70,447,70,447,65,481,65"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a63ad06a0041cb535df105cf2f445a73c" title=" " alt="" coords="108,5,199,31"/>
<area shape="poly" title=" " alt="" coords="254,46,198,32,199,27,255,41"/>
<area shape="rect" href="../../d6/d10/benchmarks_2peano4_2regulargridupscaling_2main_8cpp.html#a716631ca95d6176da3ed3886635e801e" title=" " alt="" coords="108,55,199,80"/>
<area shape="poly" title=" " alt="" coords="233,70,199,70,199,65,233,65"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#ac6bf1a12c5c98ddec5b65e07fe74cabe" title=" " alt="" coords="128,104,179,129"/>
<area shape="poly" title=" " alt="" coords="255,93,179,113,178,108,254,88"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,104,60,129"/>
<area shape="poly" title=" " alt="" coords="114,119,60,119,60,114,114,114"/>
</map>
</div>

</div>
</div>
<a id="a18d9a6ada9314cb6a982fc1b5b2b82c6" name="a18d9a6ada9314cb6a982fc1b5b2b82c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18d9a6ada9314cb6a982fc1b5b2b82c6">&#9670;&#160;</a></span>createNewTrees()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> peano4::parallel::SpacetreeSet::createNewTrees </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This operation should be called pretty close towards the end of a traversal. </p>
<p>I recommend to invoke it after <a class="el" href="#aa07efe0ea318000757b2acd065b0a8ba">cleanUpTrees()</a>. It creates new trees and thus might invoke remote method calls on other ranks. It is thus important that all the data exchange locally is done - otherwise we might ask another rank to create a tree for us, while the other rank still waits for boundary data from our side.</p>
<dl class="section see"><dt>See also</dt><dd>exchangeDataBetweenTrees() <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a10aa502896b834c0d9eaeb3e8c8ab187">for</a> details. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00442">442</a> of file <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html">SpacetreeSet.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html#l00328">_spacetrees</a>, and <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00208">addSpacetree()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00461">traverse()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a18d9a6ada9314cb6a982fc1b5b2b82c6_cgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a18d9a6ada9314cb6a982fc1b5b2b82c6_cgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a18d9a6ada9314cb6a982fc1b5b2b82c6_cgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a18d9a6ada9314cb6a982fc1b5b2b82c6_cgraph">
<area shape="rect" title="This operation should be called pretty close towards the end of a traversal." alt="" coords="5,312,205,352"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a1327050fed46cb19cf89d3d0f7f7cbe9" title="Adds a new spacetree to the set." alt="" coords="253,312,453,352"/>
<area shape="poly" title=" " alt="" coords="205,329,240,329,240,335,205,335"/>
<area shape="rect" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a254a9bee212d754ee5d8c976fcf5afb3" title=" " alt="" coords="523,5,771,45"/>
<area shape="poly" title=" " alt="" coords="357,311,372,259,399,190,419,153,441,117,468,84,500,55,509,49,512,53,503,59,472,87,446,120,423,155,404,192,377,261,362,313"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0" title=" " alt="" coords="562,69,731,109"/>
<area shape="poly" title=" " alt="" coords="360,310,379,269,409,217,449,164,473,140,500,119,523,107,548,98,549,103,525,112,503,124,477,144,453,167,414,220,384,272,365,313"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd" title="This operation returns the singleton instance." alt="" coords="869,198,1082,223"/>
<area shape="poly" title=" " alt="" coords="375,310,430,269,464,249,500,233,591,211,685,199,775,196,855,198,855,203,775,201,685,205,592,216,502,239,466,254,433,273,379,314"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a47bc7f10fa1fa287bf94138032e9716b" title="You hand in a tree number and the node tells you on which rank such a tree is hosted." alt="" coords="562,133,731,173"/>
<area shape="poly" title=" " alt="" coords="368,310,422,250,459,218,500,190,548,170,550,175,503,194,462,222,426,254,372,313"/>
<area shape="rect" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#acc5c542271504672569e175debab8ac3" title=" " alt="" coords="523,248,771,288"/>
<area shape="poly" title=" " alt="" coords="445,309,541,288,542,294,446,315"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#a3f26906486bb96487afc2bedc5515431" title="In DaStGen (the first version), I had a non&#45;static version of the send as well as the receive." alt="" coords="538,312,755,352"/>
<area shape="poly" title=" " alt="" coords="453,329,524,329,524,335,453,335"/>
<area shape="rect" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a7cfae5baa7c161d85705f2f8cf1e0703" title=" " alt="" coords="501,376,792,416"/>
<area shape="poly" title=" " alt="" coords="446,349,542,370,541,376,445,355"/>
<area shape="rect" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a8234a885ab8329a3d554bef233909545" title=" " alt="" coords="523,440,771,480"/>
<area shape="poly" title=" " alt="" coords="381,350,435,389,502,426,523,433,521,438,500,430,432,393,378,355"/>
<area shape="rect" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a39dcc85e917582e601772f414d892432" title=" " alt="" coords="523,504,771,544"/>
<area shape="poly" title=" " alt="" coords="369,351,422,420,459,458,503,490,515,496,513,501,500,494,456,462,418,424,365,354"/>
<area shape="rect" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a751e49c699fded29e8ea2bbb27ec085c" title=" " alt="" coords="523,568,771,608"/>
<area shape="poly" title=" " alt="" coords="364,351,382,394,412,450,452,506,476,532,503,554,512,559,509,564,500,558,472,536,448,510,407,452,378,397,359,353"/>
<area shape="rect" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a6de11550a424b8f79da95ecf81596246" title=" " alt="" coords="523,632,771,672"/>
<area shape="poly" title=" " alt="" coords="361,351,376,406,403,478,421,517,444,554,471,588,503,618,512,624,509,628,500,622,467,592,440,557,417,519,398,480,371,407,356,353"/>
<area shape="poly" title=" " alt="" coords="732,165,889,193,888,198,731,171"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a2edb0017914edf9df4b6a0bfbf3a2890" title=" " alt="" coords="870,133,1081,173"/>
<area shape="poly" title=" " alt="" coords="732,151,856,151,856,156,732,156"/>
<area shape="poly" title=" " alt="" coords="773,374,790,362,803,347,810,332,813,299,817,266,824,250,838,234,855,223,858,227,842,238,829,253,822,268,818,300,815,333,808,350,794,366,777,378"/>
<area shape="rect" href="../../d6/d75/classtarch_1_1services_1_1ServiceRepository.html#a6a3a85cf6082b5f2711cf046176cd42c" title=" " alt="" coords="888,376,1063,416"/>
<area shape="poly" title=" " alt="" coords="792,393,874,393,874,399,792,399"/>
<area shape="rect" href="../../d6/d75/classtarch_1_1services_1_1ServiceRepository.html#a4218d43659ffc951ee3b1c6eab7532bc" title="Answer to MPI Messages." alt="" coords="840,440,1111,480"/>
<area shape="poly" title=" " alt="" coords="751,413,859,435,858,440,750,419"/>
<area shape="rect" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a335aba25eb0153590659ae48d7f6eb71" title="In DaStGen (the first version), I had a non&#45;static version of the send as well as the receive." alt="" coords="851,504,1099,544"/>
<area shape="poly" title=" " alt="" coords="771,414,794,426,810,442,818,459,826,475,842,490,852,496,849,500,838,494,822,478,814,461,806,445,790,430,768,418"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a4785132af638891e2c7aed3fb7dede8b" title=" " alt="" coords="866,568,1085,608"/>
<area shape="poly" title=" " alt="" coords="777,414,794,426,808,442,815,458,819,492,822,524,829,539,842,554,855,564,852,568,838,558,824,542,817,525,813,492,810,460,803,445,790,430,773,418"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a34d9ac947c0789391d0dd0a255db6f65" title="Memorise global timeout." alt="" coords="866,632,1085,672"/>
<area shape="poly" title=" " alt="" coords="779,414,794,426,812,450,820,475,821,499,819,524,817,548,818,572,825,595,842,618,856,629,853,633,838,622,820,598,812,573,811,548,814,524,816,499,815,476,807,453,790,430,775,418"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a30be6a36ef6718b50d7dec30a3192a06" title="Triggers a time out and shuts down the cluster if a timeout is violated." alt="" coords="885,248,1065,288"/>
<area shape="poly" title=" " alt="" coords="768,374,790,362,806,347,814,331,822,314,838,298,871,282,873,287,842,302,826,317,818,333,810,350,794,366,771,378"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a3ce812fcc9b65faa8fe4c0101d43039b" title="Writes a warning if relevant." alt="" coords="874,312,1077,352"/>
<area shape="poly" title=" " alt="" coords="750,373,860,352,861,357,751,379"/>
<area shape="rect" href="../../d4/df5/classtarch_1_1multicore_1_1RecursiveLock.html#aed01fe13fe4c18031154be6ad8f96c70" title=" " alt="" coords="1159,440,1356,480"/>
<area shape="poly" title=" " alt="" coords="1111,457,1145,457,1145,463,1111,463"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a18d9a6ada9314cb6a982fc1b5b2b82c6_icgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a18d9a6ada9314cb6a982fc1b5b2b82c6_icgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a18d9a6ada9314cb6a982fc1b5b2b82c6_icgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a18d9a6ada9314cb6a982fc1b5b2b82c6_icgraph">
<area shape="rect" title="This operation should be called pretty close towards the end of a traversal." alt="" coords="495,47,695,87"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#af3302644e7f7848b653167f1502f3554" title="Invoke traverse on all spacetrees in parallel." alt="" coords="247,47,447,87"/>
<area shape="poly" title=" " alt="" coords="481,70,447,70,447,65,481,65"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a63ad06a0041cb535df105cf2f445a73c" title=" " alt="" coords="108,5,199,31"/>
<area shape="poly" title=" " alt="" coords="254,46,198,32,199,27,255,41"/>
<area shape="rect" href="../../d6/d10/benchmarks_2peano4_2regulargridupscaling_2main_8cpp.html#a716631ca95d6176da3ed3886635e801e" title=" " alt="" coords="108,55,199,80"/>
<area shape="poly" title=" " alt="" coords="233,70,199,70,199,65,233,65"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#ac6bf1a12c5c98ddec5b65e07fe74cabe" title=" " alt="" coords="128,104,179,129"/>
<area shape="poly" title=" " alt="" coords="255,93,179,113,178,108,254,88"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,104,60,129"/>
<area shape="poly" title=" " alt="" coords="114,119,60,119,60,114,114,114"/>
</map>
</div>

</div>
</div>
<a id="a724bef1107e37df70598bd2a927b4905" name="a724bef1107e37df70598bd2a927b4905"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a724bef1107e37df70598bd2a927b4905">&#9670;&#160;</a></span>createObserverCloneIfRequired()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> peano4::parallel::SpacetreeSet::createObserverCloneIfRequired </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html">peano4::grid::TraversalObserver</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>observer</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a></td>          <td class="paramname"><span class="paramname"><em>treeId</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Quick lookup whether an observer clone for this tree id does already exist. </p>
<p>If not, we create one quickly.</p>
<h1><a class="anchor" id="Multithreading"></a>
Multithreading</h1>
<p>This operation uses a lock on the semaphore to ensure that no two threads insert an observer into the global table at the same time. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00267">267</a> of file <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html">SpacetreeSet.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html#l00347">_clonedObserver</a>, <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html#l00300">_semaphore</a>, <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01019">assertion2</a>, and <a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html#a856511702ac2d89d35efb761b1c3a7f6">peano4::grid::TraversalObserver::clone()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00329">deleteAllStacks()</a>, <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00400">exchangeHorizontalDataBetweenTrees()</a>, <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00338">exchangeVerticalDataBetweenTrees()</a>, and <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00367">streamDataFromSplittingTreesToNewTrees()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a724bef1107e37df70598bd2a927b4905_cgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a724bef1107e37df70598bd2a927b4905_cgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a724bef1107e37df70598bd2a927b4905_cgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a724bef1107e37df70598bd2a927b4905_cgraph">
<area shape="rect" title="Quick lookup whether an observer clone for this tree id does already exist." alt="" coords="5,5,260,45"/>
<area shape="rect" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html#a856511702ac2d89d35efb761b1c3a7f6" title=" " alt="" coords="308,5,537,45"/>
<area shape="poly" title=" " alt="" coords="260,23,294,23,294,28,260,28"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a724bef1107e37df70598bd2a927b4905_icgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a724bef1107e37df70598bd2a927b4905_icgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a724bef1107e37df70598bd2a927b4905_icgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a724bef1107e37df70598bd2a927b4905_icgraph">
<area shape="rect" title="Quick lookup whether an observer clone for this tree id does already exist." alt="" coords="845,101,1100,141"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#aa3f8c5422a3f29e51de260b34958cb7c" title="I do this after a join/after I&#39;ve removed an empty tree." alt="" coords="546,5,746,45"/>
<area shape="poly" title=" " alt="" coords="909,99,797,60,746,47,747,42,798,55,911,94"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a994c91ffe58385d3c06f4d921bf43e81" title=" " alt="" coords="495,69,797,109"/>
<area shape="poly" title=" " alt="" coords="832,110,797,107,798,102,832,105"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a0fa99ca041b01b58cf60f5b738305913" title=" " alt="" coords="503,133,789,173"/>
<area shape="poly" title=" " alt="" coords="832,138,789,142,789,137,831,132"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#af2db839ebe2f009b8a85bfe328eb6fa0" title="Copy the data from a splitting tree onto its new workers." alt="" coords="521,198,771,253"/>
<area shape="poly" title=" " alt="" coords="909,149,798,188,756,200,754,195,797,183,907,144"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#af3302644e7f7848b653167f1502f3554" title="Invoke traverse on all spacetrees in parallel." alt="" coords="247,133,447,173"/>
<area shape="poly" title=" " alt="" coords="538,115,495,124,440,136,439,131,494,119,537,110"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a63ad06a0041cb535df105cf2f445a73c" title=" " alt="" coords="108,91,199,117"/>
<area shape="poly" title=" " alt="" coords="254,132,198,118,199,113,255,127"/>
<area shape="rect" href="../../d6/d10/benchmarks_2peano4_2regulargridupscaling_2main_8cpp.html#a716631ca95d6176da3ed3886635e801e" title=" " alt="" coords="108,141,199,166"/>
<area shape="poly" title=" " alt="" coords="233,156,199,156,199,151,233,151"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#ac6bf1a12c5c98ddec5b65e07fe74cabe" title=" " alt="" coords="128,190,179,215"/>
<area shape="poly" title=" " alt="" coords="255,179,179,199,178,194,254,174"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,91,60,117"/>
<area shape="poly" title=" " alt="" coords="94,107,60,107,60,101,94,101"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,190,60,215"/>
<area shape="poly" title=" " alt="" coords="114,205,60,205,60,200,114,200"/>
<area shape="poly" title=" " alt="" coords="490,156,447,156,447,151,490,151"/>
<area shape="poly" title=" " alt="" coords="518,197,430,176,431,171,519,192"/>
</map>
</div>

</div>
</div>
<a id="a2b44dbeda9845c18d2d97b834ce0cc71" name="a2b44dbeda9845c18d2d97b834ce0cc71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b44dbeda9845c18d2d97b834ce0cc71">&#9670;&#160;</a></span>deleteAllStacks() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Container &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> peano4::parallel::SpacetreeSet::deleteAllStacks </td>
          <td>(</td>
          <td class="paramtype">Container &amp;</td>          <td class="paramname"><span class="paramname"><em>stackContainer</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a></td>          <td class="paramname"><span class="paramname"><em>spacetreeId</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d1e/SpacetreeSet_8cpph_source.html#l00015">15</a> of file <a class="el" href="../../d7/d1e/SpacetreeSet_8cpph_source.html">SpacetreeSet.cpph</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01017">assertion</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00077">peano4::parallel::Node::getInstance()</a>, <a class="el" href="../../d5/dcd/Rank_8cpp_source.html#l00525">tarch::mpi::Rank::getInstance()</a>, and <a class="el" href="../../d1/d45/Log_8h_source.html#l00050">logDebug</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00564">cleanUpTrees()</a>, and <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00329">deleteAllStacks()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a2b44dbeda9845c18d2d97b834ce0cc71_cgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a2b44dbeda9845c18d2d97b834ce0cc71_cgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a2b44dbeda9845c18d2d97b834ce0cc71_cgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a2b44dbeda9845c18d2d97b834ce0cc71_cgraph">
<area shape="rect" title=" " alt="" coords="5,35,205,75"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0" title=" " alt="" coords="275,5,445,45"/>
<area shape="poly" title=" " alt="" coords="205,41,262,34,262,39,206,46"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd" title="This operation returns the singleton instance." alt="" coords="253,70,467,95"/>
<area shape="poly" title=" " alt="" coords="206,63,240,67,239,72,205,68"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a2b44dbeda9845c18d2d97b834ce0cc71_icgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a2b44dbeda9845c18d2d97b834ce0cc71_icgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a2b44dbeda9845c18d2d97b834ce0cc71_icgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a2b44dbeda9845c18d2d97b834ce0cc71_icgraph">
<area shape="rect" title=" " alt="" coords="743,79,943,119"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#aa07efe0ea318000757b2acd065b0a8ba" title=" " alt="" coords="495,47,695,87"/>
<area shape="poly" title=" " alt="" coords="729,87,695,83,695,78,730,82"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#aa3f8c5422a3f29e51de260b34958cb7c" title="I do this after a join/after I&#39;ve removed an empty tree." alt="" coords="495,111,695,151"/>
<area shape="poly" title=" " alt="" coords="730,117,695,121,695,116,729,111"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#af3302644e7f7848b653167f1502f3554" title="Invoke traverse on all spacetrees in parallel." alt="" coords="247,47,447,87"/>
<area shape="poly" title=" " alt="" coords="481,70,447,70,447,65,481,65"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a63ad06a0041cb535df105cf2f445a73c" title=" " alt="" coords="108,5,199,31"/>
<area shape="poly" title=" " alt="" coords="254,46,198,32,199,27,255,41"/>
<area shape="rect" href="../../d6/d10/benchmarks_2peano4_2regulargridupscaling_2main_8cpp.html#a716631ca95d6176da3ed3886635e801e" title=" " alt="" coords="108,55,199,80"/>
<area shape="poly" title=" " alt="" coords="233,70,199,70,199,65,233,65"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#ac6bf1a12c5c98ddec5b65e07fe74cabe" title=" " alt="" coords="128,104,179,129"/>
<area shape="poly" title=" " alt="" coords="255,93,179,113,178,108,254,88"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,104,60,129"/>
<area shape="poly" title=" " alt="" coords="114,119,60,119,60,114,114,114"/>
</map>
</div>

</div>
</div>
<a id="aa3f8c5422a3f29e51de260b34958cb7c" name="aa3f8c5422a3f29e51de260b34958cb7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3f8c5422a3f29e51de260b34958cb7c">&#9670;&#160;</a></span>deleteAllStacks() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> peano4::parallel::SpacetreeSet::deleteAllStacks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html">peano4::grid::TraversalObserver</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>observer</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a></td>          <td class="paramname"><span class="paramname"><em>spacetreeId</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>I do this after a join/after I've removed an empty tree. </p>
<p>Have to call it explicitly, as a join does not delete/throw away the data. It simply hands on data ownership. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00329">329</a> of file <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html">SpacetreeSet.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html#l00347">_clonedObserver</a>, <a class="el" href="../../d1/d2e/Spacetree_8h_source.html#l00152">peano4::grid::Spacetree::_vertexStack</a>, <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00267">createObserverCloneIfRequired()</a>, <a class="el" href="../../d7/d1e/SpacetreeSet_8cpph_source.html#l00015">deleteAllStacks()</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00370">logTraceInWith1Argument</a>, and <a class="el" href="../../d1/d45/Log_8h_source.html#l00379">logTraceOut</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_aa3f8c5422a3f29e51de260b34958cb7c_cgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_aa3f8c5422a3f29e51de260b34958cb7c_cgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_aa3f8c5422a3f29e51de260b34958cb7c_cgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_aa3f8c5422a3f29e51de260b34958cb7c_cgraph">
<area shape="rect" title="I do this after a join/after I&#39;ve removed an empty tree." alt="" coords="5,37,205,77"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a724bef1107e37df70598bd2a927b4905" title="Quick lookup whether an observer clone for this tree id does already exist." alt="" coords="253,5,508,45"/>
<area shape="poly" title=" " alt="" coords="205,43,239,39,240,44,206,48"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a2b44dbeda9845c18d2d97b834ce0cc71" title=" " alt="" coords="281,69,481,109"/>
<area shape="poly" title=" " alt="" coords="206,66,267,74,267,79,205,72"/>
<area shape="rect" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html#a856511702ac2d89d35efb761b1c3a7f6" title=" " alt="" coords="556,5,785,45"/>
<area shape="poly" title=" " alt="" coords="508,23,542,23,542,28,508,28"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0" title=" " alt="" coords="586,69,755,109"/>
<area shape="poly" title=" " alt="" coords="481,87,572,87,572,92,481,92"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd" title="This operation returns the singleton instance." alt="" coords="564,134,777,159"/>
<area shape="poly" title=" " alt="" coords="481,106,593,129,592,134,480,112"/>
</map>
</div>

</div>
</div>
<a id="a6cbbb95e899ec85ae0473cf42c00f176" name="a6cbbb95e899ec85ae0473cf42c00f176"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cbbb95e899ec85ae0473cf42c00f176">&#9670;&#160;</a></span>deleteClonedObservers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> peano4::parallel::SpacetreeSet::deleteClonedObservers </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a1aa1106b0a08e18237de78ced6694778" title="I create/clone one observer per local tree.">_clonedObserver</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00451">451</a> of file <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html">SpacetreeSet.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html#l00347">_clonedObserver</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00461">traverse()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a6cbbb95e899ec85ae0473cf42c00f176_icgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a6cbbb95e899ec85ae0473cf42c00f176_icgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a6cbbb95e899ec85ae0473cf42c00f176_icgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a6cbbb95e899ec85ae0473cf42c00f176_icgraph">
<area shape="rect" title=" " alt="" coords="495,47,697,87"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#af3302644e7f7848b653167f1502f3554" title="Invoke traverse on all spacetrees in parallel." alt="" coords="247,47,447,87"/>
<area shape="poly" title=" " alt="" coords="481,70,447,70,447,65,481,65"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a63ad06a0041cb535df105cf2f445a73c" title=" " alt="" coords="108,5,199,31"/>
<area shape="poly" title=" " alt="" coords="254,46,198,32,199,27,255,41"/>
<area shape="rect" href="../../d6/d10/benchmarks_2peano4_2regulargridupscaling_2main_8cpp.html#a716631ca95d6176da3ed3886635e801e" title=" " alt="" coords="108,55,199,80"/>
<area shape="poly" title=" " alt="" coords="233,70,199,70,199,65,233,65"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#ac6bf1a12c5c98ddec5b65e07fe74cabe" title=" " alt="" coords="128,104,179,129"/>
<area shape="poly" title=" " alt="" coords="255,93,179,113,178,108,254,88"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,104,60,129"/>
<area shape="poly" title=" " alt="" coords="114,119,60,119,60,114,114,114"/>
</map>
</div>

</div>
</div>
<a id="ae28cbf8f697bc66a1380da56df81b98e" name="ae28cbf8f697bc66a1380da56df81b98e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae28cbf8f697bc66a1380da56df81b98e">&#9670;&#160;</a></span>exchangeAllHorizontalDataExchangeStacks()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Container &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> peano4::parallel::SpacetreeSet::exchangeAllHorizontalDataExchangeStacks </td>
          <td>(</td>
          <td class="paramtype">Container &amp;</td>          <td class="paramname"><span class="paramname"><em>stackContainer</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a></td>          <td class="paramname"><span class="paramname"><em>spacetreeId</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a></td>          <td class="paramname"><span class="paramname"><em>symmetricDataCardinality</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Realise domain boundary exchange (over multiple scales) </p>
<p>This routine realises the boundary data exchange, i.e. it send outs in iteration n and receives (see counterpart routine), but the received data is used only in traversal n+1. The whole exchange thus asynchronous (logically).</p>
<p>Typically, this routine is called by user observers to for their user-defined data. We however also use it within the grid to trigger the actual vertex data exchange. As these routines all are invoked via tasks, this routine is typically invoked by multiple threads concurrently.</p>
<h2><a class="anchor" id="autotoc_md145"></a>
Deep copy semantics for shared memory</h2>
<p>Whenever we copy a container over to another thread, we use the clone(). When we study the memory ownership, it is important to memorise that the boundary exchange containers are copies of "real" containers of the code. That is, the mesh looks at a face or vertex and stores its content persistently within the tree. Once it has done this, it analyses if this face or vertex is adjacent to a domain boundary. If so, it copies the data of interest into the boundary container. After the traversal, this copy is either sent out to another rank, or we clone() it into the container of another tree on the same rank (shared memory data exchange). After that, the original boundary container is cleared.</p>
<p>If you work with containers over pointers, the clone() should create a deep copy, whereas otherwise any push and pull only moves pointers around. That is, a container holding boundary data basically holds pointers to data that is also held by containers administering interior data. After the traversal, it is the clone() which ensures that we actually create copies, i.e. work with real halo data which is replicated if data belongs to another tree - even if that tree resides on the same rank. Therefore, we can clear() the output stack. All data there had been pointers to data which are still held by the local tree.</p>
<p>It is the responsibility of the actual merge to ensure that data on the input containers are probably merged into the local data. If these data are pointers, it is the responsibility of the merge to ensure that they are properly deleted. The input stack will be empty after the traversal, as the grid management will pull all data and pipe it into merges, but if they hold pointers, you have to take special care.</p>
<dl class="section see"><dt>See also</dt><dd>python4/peano4/toolbox/particles/ParticleSet.template.h and the merge() implementation therein <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a10aa502896b834c0d9eaeb3e8c8ab187">for</a> an example of <a class="el" href="../../d0/de2/hydro__iact_8h.html#a8cbb00f59bca2c48d4560b23f07a4de2">a</a> merge of <a class="el" href="../../d0/de2/hydro__iact_8h.html#a8cbb00f59bca2c48d4560b23f07a4de2">a</a> set of pointers.</dd></dl>
<h2><a class="anchor" id="autotoc_md146"></a>
Copy semantics for distributed memory</h2>
<p>If you launch a distributed memory exchange, it is the responsibility of the container to create a real copy on the incoming rank. If your container managed pointers, this is obviously a deep copy. It is also the container's responsibility to ensure that all data are freed when we call clear() after the send is complete.</p>
<p>If your container holds pointers, it holds pointers which are also held by some containers that are responsible for the interior. So the clear() is just fine, as it eliminates redundant pointers.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">symmetricDataCardinality</td><td>If two ranks A and B are adjacent to each other, and if A send n entries to B, then B received exactly n entries in turn.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#acf3a3df78d8d68b8d7763a0ce25a2544" title="This routine finishes all the sends and receives that are still active, i.e.">finishAllOutstandingSendsAndReceives()</a>; </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d1e/SpacetreeSet_8cpph_source.html#l00073">73</a> of file <a class="el" href="../../d7/d1e/SpacetreeSet_8cpph_source.html">SpacetreeSet.cpph</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01017">assertion</a>, <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01021">assertion4</a>, <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01025">assertion8</a>, <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01076">assertionMsg</a>, <a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html#a3504d372e0af2124da7c2309c63fab96aead618ceb8f010c2bd28be9447cc9173">peano4::grid::TraversalObserver::BoundaryExchange</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00447">peano4::parallel::Node::getGridDataExchangeMetaInformation()</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00184">peano4::parallel::Node::getInputStackNumberForHorizontalDataExchange()</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00077">peano4::parallel::Node::getInstance()</a>, <a class="el" href="../../d5/dcd/Rank_8cpp_source.html#l00525">tarch::mpi::Rank::getInstance()</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00180">peano4::parallel::Node::getOutputStackNumberForHorizontalDataExchange()</a>, <a class="el" href="../../d5/dcd/Rank_8cpp_source.html#l00519">tarch::mpi::Rank::getRank()</a>, <a class="el" href="../../db/d92/Node_8h_source.html#l00101">peano4::parallel::Node::getRank()</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00389">peano4::parallel::Node::getTreeNumberTiedToExchangeStackNumber()</a>, <a class="el" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a6bc5f34e5e6544e431fc2b7110403a6da9c88f55dbe90b4dd8211e138a8f6c8d7">peano4::parallel::Node::HorizontalData</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00365">peano4::parallel::Node::isHorizontalDataExchangeOutputStackNumber()</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00050">logDebug</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00371">logTraceInWith2Arguments</a>, and <a class="el" href="../../d1/d45/Log_8h_source.html#l00379">logTraceOut</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00400">exchangeHorizontalDataBetweenTrees()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_ae28cbf8f697bc66a1380da56df81b98e_cgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_ae28cbf8f697bc66a1380da56df81b98e_cgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_ae28cbf8f697bc66a1380da56df81b98e_cgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_ae28cbf8f697bc66a1380da56df81b98e_cgraph">
<area shape="rect" title="Realise domain boundary exchange (over multiple scales)" alt="" coords="5,265,297,319"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a2b2c1b7107d569367091d102a7f334e2" title="I use two tags per spacetree per rank: one for boundary data (horizontal) and one for up&#45;down and syn..." alt="" coords="345,5,627,45"/>
<area shape="poly" title=" " alt="" coords="165,263,192,217,232,161,283,103,313,77,344,55,355,49,358,53,347,60,316,82,287,107,237,164,197,220,169,266"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a8096813161850edf1708ac7e6fff93b3" title="Counterpart of getOutputStackNumberOfBoundaryExchange(int)" alt="" coords="357,70,615,125"/>
<area shape="poly" title=" " alt="" coords="178,263,249,199,295,165,344,135,360,127,362,132,347,140,298,169,253,203,181,267"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0" title=" " alt="" coords="401,149,571,189"/>
<area shape="poly" title=" " alt="" coords="209,262,273,233,344,205,391,191,393,196,346,211,275,238,211,267"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd" title="This operation returns the singleton instance." alt="" coords="675,278,888,303"/>
<area shape="poly" title=" " alt="" coords="265,262,345,249,486,239,548,241,627,249,680,259,729,272,727,277,679,264,626,255,548,246,486,244,346,255,266,267"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a523cc39893323868831d22bf1b22d938" title="Hand in a spacetree id and get back the number that we should use to send something to this tree." alt="" coords="351,265,621,319"/>
<area shape="poly" title=" " alt="" coords="298,289,337,289,337,295,298,295"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a82f75ffb3e66104757a5a335751bdc29" title="Return rank of this node." alt="" coords="391,343,581,369"/>
<area shape="poly" title=" " alt="" coords="288,317,346,328,400,338,399,343,345,333,287,322"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a47bc7f10fa1fa287bf94138032e9716b" title="You hand in a tree number and the node tells you on which rank such a tree is hosted." alt="" coords="401,393,571,433"/>
<area shape="poly" title=" " alt="" coords="205,317,272,349,346,379,389,391,387,396,344,384,269,354,203,322"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a72e48240f607683f6540e9a26e9c48a4" title="Gives you back the id of a communication partner, i.e." alt="" coords="369,458,603,513"/>
<area shape="poly" title=" " alt="" coords="182,318,253,381,298,414,347,443,362,450,360,455,344,448,295,419,250,385,178,322"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a4bee2f1bf2d6b34b69b2337eec01213d" title="See getOutputStackNumberOfBoundaryExchange()." alt="" coords="363,537,609,591"/>
<area shape="poly" title=" " alt="" coords="170,318,198,363,238,419,288,475,317,501,347,523,355,528,352,532,344,528,313,505,284,479,234,422,193,366,166,321"/>
<area shape="rect" href="../../d1/da7/RefinementControl_8cpp.html#a10fbfa607702e35cf41b838edab3f814" title=" " alt="" coords="745,13,818,38"/>
<area shape="poly" title=" " alt="" coords="627,23,731,23,731,28,627,28"/>
<area shape="poly" title=" " alt="" coords="570,396,626,379,694,345,750,309,753,314,696,349,628,384,572,401"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a2edb0017914edf9df4b6a0bfbf3a2890" title=" " alt="" coords="676,393,887,433"/>
<area shape="poly" title=" " alt="" coords="571,411,662,411,662,416,571,416"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_ae28cbf8f697bc66a1380da56df81b98e_icgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_ae28cbf8f697bc66a1380da56df81b98e_icgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_ae28cbf8f697bc66a1380da56df81b98e_icgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_ae28cbf8f697bc66a1380da56df81b98e_icgraph">
<area shape="rect" title="Realise domain boundary exchange (over multiple scales)" alt="" coords="845,40,1137,95"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a994c91ffe58385d3c06f4d921bf43e81" title=" " alt="" coords="495,47,797,87"/>
<area shape="poly" title=" " alt="" coords="831,70,798,70,798,65,831,65"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#af3302644e7f7848b653167f1502f3554" title="Invoke traverse on all spacetrees in parallel." alt="" coords="247,47,447,87"/>
<area shape="poly" title=" " alt="" coords="481,70,447,70,447,65,481,65"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a63ad06a0041cb535df105cf2f445a73c" title=" " alt="" coords="108,5,199,31"/>
<area shape="poly" title=" " alt="" coords="254,46,198,32,199,27,255,41"/>
<area shape="rect" href="../../d6/d10/benchmarks_2peano4_2regulargridupscaling_2main_8cpp.html#a716631ca95d6176da3ed3886635e801e" title=" " alt="" coords="108,55,199,80"/>
<area shape="poly" title=" " alt="" coords="233,70,199,70,199,65,233,65"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#ac6bf1a12c5c98ddec5b65e07fe74cabe" title=" " alt="" coords="128,104,179,129"/>
<area shape="poly" title=" " alt="" coords="255,93,179,113,178,108,254,88"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,104,60,129"/>
<area shape="poly" title=" " alt="" coords="114,119,60,119,60,114,114,114"/>
</map>
</div>

</div>
</div>
<a id="a2383ec5b69147b9b5dd5547689aca3f7" name="a2383ec5b69147b9b5dd5547689aca3f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2383ec5b69147b9b5dd5547689aca3f7">&#9670;&#160;</a></span>exchangeAllPeriodicBoundaryDataStacks()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Container &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> peano4::parallel::SpacetreeSet::exchangeAllPeriodicBoundaryDataStacks </td>
          <td>(</td>
          <td class="paramtype">Container &amp;</td>          <td class="paramname"><span class="paramname"><em>stackContainer</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a></td>          <td class="paramname"><span class="paramname"><em>spacetreeId</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Exchange periodic BC data. </p>
<p>Close to trivial routine, as it basically examines whether anything has been written to a stack that is associated with periodic BCs. If so, the corresponding stack is copied over onto the respective input stack for the subsequent iteration. This routine should degenerate to nop on all ranks besides rank 0. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d1e/SpacetreeSet_8cpph_source.html#l00160">160</a> of file <a class="el" href="../../d7/d1e/SpacetreeSet_8cpph_source.html">SpacetreeSet.cpph</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01021">assertion4</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00077">peano4::parallel::Node::getInstance()</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00357">peano4::parallel::Node::isPeriodicBoundaryExchangeOutputStackNumber()</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00050">logDebug</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00371">logTraceInWith2Arguments</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00379">logTraceOut</a>, and <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00172">peano4::parallel::Node::mapPeriodicBoundaryExchangeOutputStackOntoInputStack()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00400">exchangeHorizontalDataBetweenTrees()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a2383ec5b69147b9b5dd5547689aca3f7_cgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a2383ec5b69147b9b5dd5547689aca3f7_cgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a2383ec5b69147b9b5dd5547689aca3f7_cgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a2383ec5b69147b9b5dd5547689aca3f7_cgraph">
<area shape="rect" title="Exchange periodic BC data." alt="" coords="5,70,251,125"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0" title=" " alt="" coords="332,5,501,45"/>
<area shape="poly" title=" " alt="" coords="238,67,322,46,323,51,239,72"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a246e7a04881500413004bf77ec1e1938" title=" " alt="" coords="307,70,526,125"/>
<area shape="poly" title=" " alt="" coords="251,95,294,95,294,100,251,100"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a17adf2ba538a1c3c161e67e2babdb75c" title=" " alt="" coords="299,149,535,203"/>
<area shape="poly" title=" " alt="" coords="230,122,303,142,302,148,228,127"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a2383ec5b69147b9b5dd5547689aca3f7_icgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a2383ec5b69147b9b5dd5547689aca3f7_icgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a2383ec5b69147b9b5dd5547689aca3f7_icgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a2383ec5b69147b9b5dd5547689aca3f7_icgraph">
<area shape="rect" title="Exchange periodic BC data." alt="" coords="845,40,1091,95"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a994c91ffe58385d3c06f4d921bf43e81" title=" " alt="" coords="495,47,797,87"/>
<area shape="poly" title=" " alt="" coords="831,70,798,70,798,65,831,65"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#af3302644e7f7848b653167f1502f3554" title="Invoke traverse on all spacetrees in parallel." alt="" coords="247,47,447,87"/>
<area shape="poly" title=" " alt="" coords="481,70,447,70,447,65,481,65"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a63ad06a0041cb535df105cf2f445a73c" title=" " alt="" coords="108,5,199,31"/>
<area shape="poly" title=" " alt="" coords="254,46,198,32,199,27,255,41"/>
<area shape="rect" href="../../d6/d10/benchmarks_2peano4_2regulargridupscaling_2main_8cpp.html#a716631ca95d6176da3ed3886635e801e" title=" " alt="" coords="108,55,199,80"/>
<area shape="poly" title=" " alt="" coords="233,70,199,70,199,65,233,65"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#ac6bf1a12c5c98ddec5b65e07fe74cabe" title=" " alt="" coords="128,104,179,129"/>
<area shape="poly" title=" " alt="" coords="255,93,179,113,178,108,254,88"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,104,60,129"/>
<area shape="poly" title=" " alt="" coords="114,119,60,119,60,114,114,114"/>
</map>
</div>

</div>
</div>
<a id="ac2c8432d5210cb1f3851d83818992d3f" name="ac2c8432d5210cb1f3851d83818992d3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2c8432d5210cb1f3851d83818992d3f">&#9670;&#160;</a></span>exchangeAllVerticalDataExchangeStacks()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Container &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> peano4::parallel::SpacetreeSet::exchangeAllVerticalDataExchangeStacks </td>
          <td>(</td>
          <td class="paramtype">Container &amp;</td>          <td class="paramname"><span class="paramname"><em>stackContainer</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a></td>          <td class="paramname"><span class="paramname"><em>spacetreeId</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a></td>          <td class="paramname"><span class="paramname"><em>parentId</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<h2>Prepare new children after fork </h2>
<p>When we prepare new children, we have to map output stack on output stack, as both trees are not yet inverted at the time we invoke this routine. That is, the master's output stack is mapped on to the new child's outpu stack. The master is inverted automatically later on (that's the last thing we do throughout the traversal). For the new child, we have to invert manually however. This is done in exchangeDataBetweenExistingAndNewTreesAndRerunNewTrees().</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">childrenIds</td><td>Depending on the context, this is either the children or the new children that are just about to be kicked off </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d1e/SpacetreeSet_8cpph_source.html#l00067">67</a> of file <a class="el" href="../../d7/d1e/SpacetreeSet_8cpph_source.html">SpacetreeSet.cpph</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d45/Log_8h_source.html#l00371">logTraceInWith2Arguments</a>, and <a class="el" href="../../d1/d45/Log_8h_source.html#l00381">logTraceOutWith2Arguments</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00338">exchangeVerticalDataBetweenTrees()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_ac2c8432d5210cb1f3851d83818992d3f_icgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_ac2c8432d5210cb1f3851d83818992d3f_icgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_ac2c8432d5210cb1f3851d83818992d3f_icgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_ac2c8432d5210cb1f3851d83818992d3f_icgraph">
<area shape="rect" title=" " alt="" coords="828,40,1103,95"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a0fa99ca041b01b58cf60f5b738305913" title=" " alt="" coords="495,47,780,87"/>
<area shape="poly" title=" " alt="" coords="814,70,780,70,780,65,814,65"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#af3302644e7f7848b653167f1502f3554" title="Invoke traverse on all spacetrees in parallel." alt="" coords="247,47,447,87"/>
<area shape="poly" title=" " alt="" coords="481,70,447,70,447,65,481,65"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a63ad06a0041cb535df105cf2f445a73c" title=" " alt="" coords="108,5,199,31"/>
<area shape="poly" title=" " alt="" coords="254,46,198,32,199,27,255,41"/>
<area shape="rect" href="../../d6/d10/benchmarks_2peano4_2regulargridupscaling_2main_8cpp.html#a716631ca95d6176da3ed3886635e801e" title=" " alt="" coords="108,55,199,80"/>
<area shape="poly" title=" " alt="" coords="233,70,199,70,199,65,233,65"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#ac6bf1a12c5c98ddec5b65e07fe74cabe" title=" " alt="" coords="128,104,179,129"/>
<area shape="poly" title=" " alt="" coords="255,93,179,113,178,108,254,88"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,104,60,129"/>
<area shape="poly" title=" " alt="" coords="114,119,60,119,60,114,114,114"/>
</map>
</div>

</div>
</div>
<a id="a994c91ffe58385d3c06f4d921bf43e81" name="a994c91ffe58385d3c06f4d921bf43e81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a994c91ffe58385d3c06f4d921bf43e81">&#9670;&#160;</a></span>exchangeHorizontalDataBetweenTrees()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> peano4::parallel::SpacetreeSet::exchangeHorizontalDataBetweenTrees </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html">peano4::grid::TraversalObserver</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>observer</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<h2>Multithreading </h2>
<p>I originally intended to make this routine use tasks. However, the data transfer routines do modify the underlying map/stack structures of Peano, as new containers are created, data is moved around, and so forth. So the data exchange per se is not thread-safe. As we do not/can not use threads, we have to be careful with the order. I originally had a loop over the trees that triggered per tree the data exchange and then waited for MPI. Obviously, this does not work with rendezvous protocol. We need two loops. The first one triggers all the MPI sends/receives and it also realises the local data exchange. The second one waits for all MPI operations to terminate. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00400">400</a> of file <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html">SpacetreeSet.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html#l00347">_clonedObserver</a>, <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html#l00328">_spacetrees</a>, <a class="el" href="../../d1/d2e/Spacetree_8h_source.html#l00152">peano4::grid::Spacetree::_vertexStack</a>, <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00267">createObserverCloneIfRequired()</a>, <a class="el" href="../../d7/d1e/SpacetreeSet_8cpph_source.html#l00073">exchangeAllHorizontalDataExchangeStacks()</a>, <a class="el" href="../../d7/d1e/SpacetreeSet_8cpph_source.html#l00160">exchangeAllPeriodicBoundaryDataStacks()</a>, <a class="el" href="../../d7/d1e/SpacetreeSet_8cpph_source.html#l00130">finishAllOutstandingSendsAndReceives()</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00050">logDebug</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00369">logTraceIn</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00379">logTraceOut</a>, and <a class="el" href="../../d7/d70/grid_8cpp_source.html#l00276">peano4::grid::toString()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00461">traverse()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a994c91ffe58385d3c06f4d921bf43e81_cgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a994c91ffe58385d3c06f4d921bf43e81_cgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a994c91ffe58385d3c06f4d921bf43e81_cgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a994c91ffe58385d3c06f4d921bf43e81_cgraph">
<area shape="rect" title=" " alt="" coords="5,687,308,727"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a724bef1107e37df70598bd2a927b4905" title="Quick lookup whether an observer clone for this tree id does already exist." alt="" coords="375,149,629,189"/>
<area shape="poly" title=" " alt="" coords="168,685,245,557,354,383,476,200,481,203,358,385,249,560,172,688"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#ae28cbf8f697bc66a1380da56df81b98e" title="Realise domain boundary exchange (over multiple scales)" alt="" coords="356,397,648,451"/>
<area shape="poly" title=" " alt="" coords="181,684,455,458,458,462,184,688"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a2383ec5b69147b9b5dd5547689aca3f7" title="Exchange periodic BC data." alt="" coords="379,679,625,734"/>
<area shape="poly" title=" " alt="" coords="308,704,366,704,366,709,308,709"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#acf3a3df78d8d68b8d7763a0ce25a2544" title="This routine finishes all the sends and receives that are still active, i.e." alt="" coords="379,945,625,999"/>
<area shape="poly" title=" " alt="" coords="186,725,456,934,453,938,183,729"/>
<area shape="rect" href="../../d7/d7c/namespacepeano4_1_1grid.html#a133e937a14fa2b8b6d077e9ce346ec69" title=" " alt="" coords="421,1023,583,1049"/>
<area shape="poly" title=" " alt="" coords="167,726,190,783,229,861,255,902,285,942,319,978,357,1008,382,1021,408,1029,407,1034,380,1026,355,1013,315,982,281,945,250,905,224,864,185,785,162,728"/>
<area shape="rect" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html#a856511702ac2d89d35efb761b1c3a7f6" title=" " alt="" coords="722,5,951,45"/>
<area shape="poly" title=" " alt="" coords="531,147,603,101,648,76,695,55,718,47,720,52,697,60,651,81,606,105,533,151"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a2b2c1b7107d569367091d102a7f334e2" title="I use two tags per spacetree per rank: one for boundary data (horizontal) and one for up&#45;down and syn..." alt="" coords="696,69,977,109"/>
<area shape="poly" title=" " alt="" coords="519,395,646,200,658,176,665,156,675,138,694,119,703,113,706,118,698,123,680,141,670,158,662,178,650,203,524,398"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a8096813161850edf1708ac7e6fff93b3" title="Counterpart of getOutputStackNumberOfBoundaryExchange(int)" alt="" coords="707,357,966,411"/>
<area shape="poly" title=" " alt="" coords="648,404,693,398,694,404,649,409"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0" title=" " alt="" coords="752,615,921,655"/>
<area shape="poly" title=" " alt="" coords="528,450,599,522,646,560,697,594,740,612,738,617,695,598,643,565,596,526,525,453"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd" title="This operation returns the singleton instance." alt="" coords="1025,565,1239,590"/>
<area shape="poly" title=" " alt="" coords="536,449,606,502,650,528,697,548,777,568,859,580,939,584,1012,584,1012,589,939,589,859,585,776,574,695,553,648,533,603,507,532,454"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a523cc39893323868831d22bf1b22d938" title="Hand in a spacetree id and get back the number that we should use to send something to this tree." alt="" coords="701,435,972,490"/>
<area shape="poly" title=" " alt="" coords="649,438,688,443,687,448,648,444"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a82f75ffb3e66104757a5a335751bdc29" title="Return rank of this node." alt="" coords="741,514,932,539"/>
<area shape="poly" title=" " alt="" coords="564,449,627,475,697,499,737,509,736,514,695,504,625,480,562,454"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a47bc7f10fa1fa287bf94138032e9716b" title="You hand in a tree number and the node tells you on which rank such a tree is hosted." alt="" coords="752,292,921,332"/>
<area shape="poly" title=" " alt="" coords="561,394,625,367,695,341,738,329,739,335,697,347,627,372,563,399"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a72e48240f607683f6540e9a26e9c48a4" title="Gives you back the id of a communication partner, i.e." alt="" coords="719,134,954,189"/>
<area shape="poly" title=" " alt="" coords="517,395,546,351,586,298,636,244,695,198,706,191,708,196,697,202,640,248,590,301,550,354,522,398"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a4bee2f1bf2d6b34b69b2337eec01213d" title="See getOutputStackNumberOfBoundaryExchange()." alt="" coords="713,213,960,267"/>
<area shape="poly" title=" " alt="" coords="531,394,603,336,648,305,695,278,712,270,714,275,697,282,650,309,606,340,535,398"/>
<area shape="rect" href="../../d1/da7/RefinementControl_8cpp.html#a10fbfa607702e35cf41b838edab3f814" title=" " alt="" coords="1095,77,1169,102"/>
<area shape="poly" title=" " alt="" coords="977,87,1082,87,1082,92,977,92"/>
<area shape="poly" title=" " alt="" coords="922,318,952,327,979,342,1007,364,1032,390,1073,448,1104,505,1124,551,1119,553,1099,507,1069,451,1027,394,1003,368,976,346,950,332,921,323"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a2edb0017914edf9df4b6a0bfbf3a2890" title=" " alt="" coords="1027,292,1237,332"/>
<area shape="poly" title=" " alt="" coords="921,309,1013,309,1013,315,921,315"/>
<area shape="poly" title=" " alt="" coords="625,678,738,653,739,658,626,683"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a246e7a04881500413004bf77ec1e1938" title=" " alt="" coords="727,758,946,813"/>
<area shape="poly" title=" " alt="" coords="620,731,714,754,713,759,618,737"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a17adf2ba538a1c3c161e67e2babdb75c" title=" " alt="" coords="719,679,955,734"/>
<area shape="poly" title=" " alt="" coords="625,704,705,704,705,709,625,709"/>
<area shape="poly" title=" " alt="" coords="548,942,616,906,695,873,738,863,776,858,842,859,874,859,905,854,939,843,976,822,1004,799,1030,772,1071,711,1101,651,1120,602,1125,604,1106,653,1076,714,1034,775,1008,803,979,826,941,848,907,859,874,864,843,864,776,864,739,868,697,879,618,911,551,947"/>
<area shape="rect" href="../../d6/d75/classtarch_1_1services_1_1ServiceRepository.html#a6a3a85cf6082b5f2711cf046176cd42c" title=" " alt="" coords="749,1208,924,1248"/>
<area shape="poly" title=" " alt="" coords="627,992,650,1009,667,1032,675,1056,676,1080,674,1104,672,1127,674,1150,681,1172,698,1194,716,1208,737,1217,735,1222,713,1212,694,1198,677,1175,669,1151,667,1127,669,1104,671,1080,670,1057,662,1035,646,1013,624,996"/>
<area shape="rect" href="../../d6/d75/classtarch_1_1services_1_1ServiceRepository.html#a4218d43659ffc951ee3b1c6eab7532bc" title="Answer to MPI Messages." alt="" coords="701,1144,972,1184"/>
<area shape="poly" title=" " alt="" coords="627,993,650,1009,663,1024,670,1040,674,1071,679,1102,685,1116,698,1130,703,1134,700,1139,694,1134,681,1119,673,1103,669,1072,665,1041,658,1027,646,1013,624,997"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a4785132af638891e2c7aed3fb7dede8b" title=" " alt="" coords="727,888,946,928"/>
<area shape="poly" title=" " alt="" coords="625,946,718,928,719,933,626,951"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a34d9ac947c0789391d0dd0a255db6f65" title="Memorise global timeout." alt="" coords="727,952,946,992"/>
<area shape="poly" title=" " alt="" coords="626,969,714,969,714,975,626,975"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a30be6a36ef6718b50d7dec30a3192a06" title="Triggers a time out and shuts down the cluster if a timeout is violated." alt="" coords="747,1016,927,1056"/>
<area shape="poly" title=" " alt="" coords="626,993,734,1014,733,1019,625,998"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a3ce812fcc9b65faa8fe4c0101d43039b" title="Writes a warning if relevant." alt="" coords="735,1080,938,1120"/>
<area shape="poly" title=" " alt="" coords="627,996,650,1008,665,1023,674,1038,683,1053,697,1066,724,1078,721,1083,695,1070,678,1056,670,1041,661,1026,646,1013,624,1001"/>
<area shape="rect" href="../../d4/df5/classtarch_1_1multicore_1_1RecursiveLock.html#aed01fe13fe4c18031154be6ad8f96c70" title=" " alt="" coords="1033,1144,1231,1184"/>
<area shape="poly" title=" " alt="" coords="972,1161,1020,1161,1020,1167,972,1167"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a994c91ffe58385d3c06f4d921bf43e81_icgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a994c91ffe58385d3c06f4d921bf43e81_icgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a994c91ffe58385d3c06f4d921bf43e81_icgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a994c91ffe58385d3c06f4d921bf43e81_icgraph">
<area shape="rect" title=" " alt="" coords="495,47,797,87"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#af3302644e7f7848b653167f1502f3554" title="Invoke traverse on all spacetrees in parallel." alt="" coords="247,47,447,87"/>
<area shape="poly" title=" " alt="" coords="481,70,447,70,447,65,481,65"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a63ad06a0041cb535df105cf2f445a73c" title=" " alt="" coords="108,5,199,31"/>
<area shape="poly" title=" " alt="" coords="254,46,198,32,199,27,255,41"/>
<area shape="rect" href="../../d6/d10/benchmarks_2peano4_2regulargridupscaling_2main_8cpp.html#a716631ca95d6176da3ed3886635e801e" title=" " alt="" coords="108,55,199,80"/>
<area shape="poly" title=" " alt="" coords="233,70,199,70,199,65,233,65"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#ac6bf1a12c5c98ddec5b65e07fe74cabe" title=" " alt="" coords="128,104,179,129"/>
<area shape="poly" title=" " alt="" coords="255,93,179,113,178,108,254,88"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,104,60,129"/>
<area shape="poly" title=" " alt="" coords="114,119,60,119,60,114,114,114"/>
</map>
</div>

</div>
</div>
<a id="a0fa99ca041b01b58cf60f5b738305913" name="a0fa99ca041b01b58cf60f5b738305913"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fa99ca041b01b58cf60f5b738305913">&#9670;&#160;</a></span>exchangeVerticalDataBetweenTrees()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> peano4::parallel::SpacetreeSet::exchangeVerticalDataBetweenTrees </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html">peano4::grid::TraversalObserver</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>observer</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00338">338</a> of file <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html">SpacetreeSet.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html#l00347">_clonedObserver</a>, <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html#l00328">_spacetrees</a>, <a class="el" href="../../d1/d2e/Spacetree_8h_source.html#l00152">peano4::grid::Spacetree::_vertexStack</a>, <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00267">createObserverCloneIfRequired()</a>, <a class="el" href="../../d7/d1e/SpacetreeSet_8cpph_source.html#l00067">exchangeAllVerticalDataExchangeStacks()</a>, <a class="el" href="../../d7/d1e/SpacetreeSet_8cpph_source.html#l00130">finishAllOutstandingSendsAndReceives()</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00050">logDebug</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00369">logTraceIn</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00379">logTraceOut</a>, <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00278">streamLocalVertexInformationToMasterThroughVerticalStacks()</a>, and <a class="el" href="../../d7/d70/grid_8cpp_source.html#l00276">peano4::grid::toString()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00461">traverse()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a0fa99ca041b01b58cf60f5b738305913_cgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a0fa99ca041b01b58cf60f5b738305913_cgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a0fa99ca041b01b58cf60f5b738305913_cgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a0fa99ca041b01b58cf60f5b738305913_cgraph">
<area shape="rect" title=" " alt="" coords="5,225,291,265"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a724bef1107e37df70598bd2a927b4905" title="Quick lookup whether an observer clone for this tree id does already exist." alt="" coords="349,29,603,69"/>
<area shape="poly" title=" " alt="" coords="179,223,337,124,425,74,428,79,340,129,182,227"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#ac2c8432d5210cb1f3851d83818992d3f" title=" " alt="" coords="339,139,613,194"/>
<area shape="poly" title=" " alt="" coords="232,223,348,195,349,200,233,228"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#acf3a3df78d8d68b8d7763a0ce25a2544" title="This routine finishes all the sends and receives that are still active, i.e." alt="" coords="353,218,599,273"/>
<area shape="poly" title=" " alt="" coords="291,243,339,243,339,248,291,248"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a378c585e77b2456ca8a6324605c7d8d5" title="Whenever we join two partitions, we have to stream data from the worker to the master." alt="" coords="351,297,601,351"/>
<area shape="poly" title=" " alt="" coords="233,263,349,291,348,296,232,268"/>
<area shape="rect" href="../../d7/d7c/namespacepeano4_1_1grid.html#a133e937a14fa2b8b6d077e9ce346ec69" title=" " alt="" coords="395,375,557,401"/>
<area shape="poly" title=" " alt="" coords="176,263,247,312,292,338,340,360,382,373,381,378,338,365,290,343,245,317,173,268"/>
<area shape="rect" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html#a856511702ac2d89d35efb761b1c3a7f6" title=" " alt="" coords="682,5,911,45"/>
<area shape="poly" title=" " alt="" coords="603,37,668,32,668,38,604,42"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd" title="This operation returns the singleton instance." alt="" coords="690,70,903,95"/>
<area shape="poly" title=" " alt="" coords="593,216,612,203,622,192,629,180,634,155,640,130,648,118,660,106,676,96,679,100,663,110,652,121,645,132,639,157,634,182,627,195,615,207,596,220"/>
<area shape="rect" href="../../d6/d75/classtarch_1_1services_1_1ServiceRepository.html#a6a3a85cf6082b5f2711cf046176cd42c" title=" " alt="" coords="709,120,884,160"/>
<area shape="poly" title=" " alt="" coords="582,215,612,203,636,186,660,170,695,157,697,162,663,174,639,191,615,208,584,220"/>
<area shape="rect" href="../../d6/d75/classtarch_1_1services_1_1ServiceRepository.html#a4218d43659ffc951ee3b1c6eab7532bc" title="Answer to MPI Messages." alt="" coords="661,184,932,224"/>
<area shape="poly" title=" " alt="" coords="599,227,647,221,648,226,600,232"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a4785132af638891e2c7aed3fb7dede8b" title=" " alt="" coords="687,248,906,288"/>
<area shape="poly" title=" " alt="" coords="600,251,674,257,674,262,599,257"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a34d9ac947c0789391d0dd0a255db6f65" title="Memorise global timeout." alt="" coords="687,312,906,352"/>
<area shape="poly" title=" " alt="" coords="576,270,614,281,662,297,694,306,693,311,661,303,613,287,575,275"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a30be6a36ef6718b50d7dec30a3192a06" title="Triggers a time out and shuts down the cluster if a timeout is violated." alt="" coords="707,376,887,416"/>
<area shape="poly" title=" " alt="" coords="597,271,615,282,632,302,640,323,647,343,663,362,695,379,693,383,660,366,642,346,635,325,628,305,612,286,594,275"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a3ce812fcc9b65faa8fe4c0101d43039b" title="Writes a warning if relevant." alt="" coords="695,440,898,480"/>
<area shape="poly" title=" " alt="" coords="601,271,615,282,630,300,637,319,640,356,642,392,649,409,663,426,684,440,681,445,660,430,645,412,637,393,634,357,632,320,625,303,611,286,598,275"/>
<area shape="rect" href="../../d4/df5/classtarch_1_1multicore_1_1RecursiveLock.html#aed01fe13fe4c18031154be6ad8f96c70" title=" " alt="" coords="980,184,1177,224"/>
<area shape="poly" title=" " alt="" coords="932,201,966,201,966,207,932,207"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a0fa99ca041b01b58cf60f5b738305913_icgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a0fa99ca041b01b58cf60f5b738305913_icgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a0fa99ca041b01b58cf60f5b738305913_icgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a0fa99ca041b01b58cf60f5b738305913_icgraph">
<area shape="rect" title=" " alt="" coords="495,47,780,87"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#af3302644e7f7848b653167f1502f3554" title="Invoke traverse on all spacetrees in parallel." alt="" coords="247,47,447,87"/>
<area shape="poly" title=" " alt="" coords="481,70,447,70,447,65,481,65"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a63ad06a0041cb535df105cf2f445a73c" title=" " alt="" coords="108,5,199,31"/>
<area shape="poly" title=" " alt="" coords="254,46,198,32,199,27,255,41"/>
<area shape="rect" href="../../d6/d10/benchmarks_2peano4_2regulargridupscaling_2main_8cpp.html#a716631ca95d6176da3ed3886635e801e" title=" " alt="" coords="108,55,199,80"/>
<area shape="poly" title=" " alt="" coords="233,70,199,70,199,65,233,65"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#ac6bf1a12c5c98ddec5b65e07fe74cabe" title=" " alt="" coords="128,104,179,129"/>
<area shape="poly" title=" " alt="" coords="255,93,179,113,178,108,254,88"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,104,60,129"/>
<area shape="poly" title=" " alt="" coords="114,119,60,119,60,114,114,114"/>
</map>
</div>

</div>
</div>
<a id="acf3a3df78d8d68b8d7763a0ce25a2544" name="acf3a3df78d8d68b8d7763a0ce25a2544"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf3a3df78d8d68b8d7763a0ce25a2544">&#9670;&#160;</a></span>finishAllOutstandingSendsAndReceives()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Container &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> peano4::parallel::SpacetreeSet::finishAllOutstandingSendsAndReceives </td>
          <td>(</td>
          <td class="paramtype">Container &amp;</td>          <td class="paramname"><span class="paramname"><em>stackContainer</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a></td>          <td class="paramname"><span class="paramname"><em>spacetreeId</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This routine finishes all the sends and receives that are still active, i.e. </p>
<p>it searched for pending MPI requests and waits for them to finish. After this is ensured, the routine runs over all stacks and ensures that all temporary data is released. The last step is important, as we otherwise quickly run out of memory - we replicate all data structures whenever we fork and as C++ vectors don't release memory, this memory would be lost without a manual freeing. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d1e/SpacetreeSet_8cpph_source.html#l00130">130</a> of file <a class="el" href="../../d7/d1e/SpacetreeSet_8cpph_source.html">SpacetreeSet.cpph</a>.</p>

<p class="reference">References <a class="el" href="../../d5/dcd/Rank_8cpp_source.html#l00525">tarch::mpi::Rank::getInstance()</a>, <a class="el" href="../../de/d77/ServiceRepository_8cpp_source.html#l00032">tarch::services::ServiceRepository::getInstance()</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00050">logDebug</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00370">logTraceInWith1Argument</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00380">logTraceOutWith1Argument</a>, <a class="el" href="../../de/d77/ServiceRepository_8cpp_source.html#l00079">tarch::services::ServiceRepository::receiveDanglingMessages()</a>, <a class="el" href="../../d5/dcd/Rank_8cpp_source.html#l00197">tarch::mpi::Rank::setDeadlockTimeOutTimeStamp()</a>, <a class="el" href="../../d5/dcd/Rank_8cpp_source.html#l00192">tarch::mpi::Rank::setDeadlockWarningTimeStamp()</a>, <a class="el" href="../../d5/dcd/Rank_8cpp_source.html#l00123">tarch::mpi::Rank::triggerDeadlockTimeOut()</a>, and <a class="el" href="../../d5/dcd/Rank_8cpp_source.html#l00147">tarch::mpi::Rank::writeTimeOutWarning()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00400">exchangeHorizontalDataBetweenTrees()</a>, <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00338">exchangeVerticalDataBetweenTrees()</a>, and <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00367">streamDataFromSplittingTreesToNewTrees()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_acf3a3df78d8d68b8d7763a0ce25a2544_cgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_acf3a3df78d8d68b8d7763a0ce25a2544_cgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_acf3a3df78d8d68b8d7763a0ce25a2544_cgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_acf3a3df78d8d68b8d7763a0ce25a2544_cgraph">
<area shape="rect" title="This routine finishes all the sends and receives that are still active, i.e." alt="" coords="5,176,252,231"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd" title="This operation returns the singleton instance." alt="" coords="329,5,542,31"/>
<area shape="poly" title=" " alt="" coords="149,174,211,106,252,70,299,41,319,32,321,37,301,46,256,75,214,110,153,178"/>
<area shape="rect" href="../../d6/d75/classtarch_1_1services_1_1ServiceRepository.html#a6a3a85cf6082b5f2711cf046176cd42c" title=" " alt="" coords="348,55,523,95"/>
<area shape="poly" title=" " alt="" coords="170,174,229,138,299,105,334,93,336,98,301,110,232,143,172,178"/>
<area shape="rect" href="../../d6/d75/classtarch_1_1services_1_1ServiceRepository.html#a4218d43659ffc951ee3b1c6eab7532bc" title="Answer to MPI Messages." alt="" coords="300,119,571,159"/>
<area shape="poly" title=" " alt="" coords="252,175,324,160,325,165,253,180"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a4785132af638891e2c7aed3fb7dede8b" title=" " alt="" coords="326,183,545,223"/>
<area shape="poly" title=" " alt="" coords="252,201,312,201,312,206,252,206"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a34d9ac947c0789391d0dd0a255db6f65" title="Memorise global timeout." alt="" coords="326,247,545,287"/>
<area shape="poly" title=" " alt="" coords="253,226,325,242,324,247,252,232"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a30be6a36ef6718b50d7dec30a3192a06" title="Triggers a time out and shuts down the cluster if a timeout is violated." alt="" coords="345,311,525,351"/>
<area shape="poly" title=" " alt="" coords="172,229,232,264,301,297,333,308,331,313,299,302,229,269,170,233"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a3ce812fcc9b65faa8fe4c0101d43039b" title="Writes a warning if relevant." alt="" coords="334,375,537,415"/>
<area shape="poly" title=" " alt="" coords="153,229,215,296,256,331,301,361,322,370,320,375,299,366,253,336,212,300,150,233"/>
<area shape="rect" href="../../d4/df5/classtarch_1_1multicore_1_1RecursiveLock.html#aed01fe13fe4c18031154be6ad8f96c70" title=" " alt="" coords="619,119,816,159"/>
<area shape="poly" title=" " alt="" coords="571,137,605,137,605,142,571,142"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_acf3a3df78d8d68b8d7763a0ce25a2544_icgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_acf3a3df78d8d68b8d7763a0ce25a2544_icgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_acf3a3df78d8d68b8d7763a0ce25a2544_icgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_acf3a3df78d8d68b8d7763a0ce25a2544_icgraph">
<area shape="rect" title="This routine finishes all the sends and receives that are still active, i.e." alt="" coords="845,62,1092,117"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a994c91ffe58385d3c06f4d921bf43e81" title=" " alt="" coords="495,5,797,45"/>
<area shape="poly" title=" " alt="" coords="831,65,747,48,748,43,832,60"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a0fa99ca041b01b58cf60f5b738305913" title=" " alt="" coords="503,69,789,109"/>
<area shape="poly" title=" " alt="" coords="832,92,789,92,789,87,832,87"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#af2db839ebe2f009b8a85bfe328eb6fa0" title="Copy the data from a splitting tree onto its new workers." alt="" coords="521,134,771,189"/>
<area shape="poly" title=" " alt="" coords="833,122,769,137,768,131,832,117"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#af3302644e7f7848b653167f1502f3554" title="Invoke traverse on all spacetrees in parallel." alt="" coords="247,69,447,109"/>
<area shape="poly" title=" " alt="" coords="538,51,495,60,440,72,439,67,494,55,537,46"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a63ad06a0041cb535df105cf2f445a73c" title=" " alt="" coords="108,27,199,53"/>
<area shape="poly" title=" " alt="" coords="254,68,198,54,199,49,255,63"/>
<area shape="rect" href="../../d6/d10/benchmarks_2peano4_2regulargridupscaling_2main_8cpp.html#a716631ca95d6176da3ed3886635e801e" title=" " alt="" coords="108,77,199,102"/>
<area shape="poly" title=" " alt="" coords="233,92,199,92,199,87,233,87"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#ac6bf1a12c5c98ddec5b65e07fe74cabe" title=" " alt="" coords="128,126,179,151"/>
<area shape="poly" title=" " alt="" coords="255,115,179,135,178,130,254,110"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,27,60,53"/>
<area shape="poly" title=" " alt="" coords="94,43,60,43,60,37,94,37"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,126,60,151"/>
<area shape="poly" title=" " alt="" coords="114,141,60,141,60,136,114,136"/>
<area shape="poly" title=" " alt="" coords="490,92,447,92,447,87,490,87"/>
<area shape="poly" title=" " alt="" coords="518,133,430,112,431,107,519,128"/>
</map>
</div>

</div>
</div>
<a id="a49e92b919a5d722323f191e6328af9fc" name="a49e92b919a5d722323f191e6328af9fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49e92b919a5d722323f191e6328af9fc">&#9670;&#160;</a></span>getAnswerTag()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> peano4::parallel::SpacetreeSet::getAnswerTag </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a></td>          <td class="paramname"><span class="paramname"><em>targetSpacetreeId</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>tag that one should use to answer one particular spacetree </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00063">63</a> of file <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html">SpacetreeSet.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00077">peano4::parallel::Node::getInstance()</a>, and <a class="el" href="../../db/d92/Node_8h_source.html#l00059">peano4::parallel::Node::getLocalTreeId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00564">cleanUpTrees()</a>, and <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00713">split()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a49e92b919a5d722323f191e6328af9fc_cgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a49e92b919a5d722323f191e6328af9fc_cgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a49e92b919a5d722323f191e6328af9fc_cgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a49e92b919a5d722323f191e6328af9fc_cgraph">
<area shape="rect" title=" " alt="" coords="5,37,205,77"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0" title=" " alt="" coords="253,5,423,45"/>
<area shape="poly" title=" " alt="" coords="205,41,239,36,240,41,206,46"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a426860ede252fd2c044bdfda9f973d79" title=" " alt="" coords="253,69,423,109"/>
<area shape="poly" title=" " alt="" coords="206,68,240,73,239,78,205,74"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd" title="This operation returns the singleton instance." alt="" coords="471,47,684,73"/>
<area shape="poly" title=" " alt="" coords="422,76,460,72,460,77,423,82"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a2edb0017914edf9df4b6a0bfbf3a2890" title=" " alt="" coords="472,97,683,137"/>
<area shape="poly" title=" " alt="" coords="423,97,459,101,458,106,422,102"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a49e92b919a5d722323f191e6328af9fc_icgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a49e92b919a5d722323f191e6328af9fc_icgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a49e92b919a5d722323f191e6328af9fc_icgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a49e92b919a5d722323f191e6328af9fc_icgraph">
<area shape="rect" title=" " alt="" coords="759,67,959,107"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#aa07efe0ea318000757b2acd065b0a8ba" title=" " alt="" coords="511,20,711,60"/>
<area shape="poly" title=" " alt="" coords="745,68,710,61,711,56,746,63"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a4c99275a5fd270dce1999818063bd802" title="Split a local tree." alt="" coords="511,99,711,139"/>
<area shape="poly" title=" " alt="" coords="746,104,711,108,711,103,745,99"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#af3302644e7f7848b653167f1502f3554" title="Invoke traverse on all spacetrees in parallel." alt="" coords="255,5,455,45"/>
<area shape="poly" title=" " alt="" coords="497,36,455,34,455,28,497,31"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a63ad06a0041cb535df105cf2f445a73c" title=" " alt="" coords="108,147,199,173"/>
<area shape="poly" title=" " alt="" coords="256,54,248,59,232,78,224,96,216,117,201,138,185,149,182,145,197,134,212,114,219,94,227,75,245,55,253,50"/>
<area shape="rect" href="../../d6/d10/benchmarks_2peano4_2regulargridupscaling_2main_8cpp.html#a716631ca95d6176da3ed3886635e801e" title=" " alt="" coords="108,98,199,123"/>
<area shape="poly" title=" " alt="" coords="267,52,248,60,208,80,175,100,172,96,206,75,246,55,265,47"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#ac6bf1a12c5c98ddec5b65e07fe74cabe" title=" " alt="" coords="128,13,179,38"/>
<area shape="poly" title=" " alt="" coords="241,28,179,28,179,23,241,23"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,147,60,173"/>
<area shape="poly" title=" " alt="" coords="94,163,60,163,60,157,94,157"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,13,60,38"/>
<area shape="poly" title=" " alt="" coords="114,28,60,28,60,23,114,23"/>
<area shape="poly" title=" " alt="" coords="497,126,376,128,247,124,199,120,199,114,247,119,376,122,497,121"/>
<area shape="rect" href="../../d2/d15/classtoolbox_1_1loadbalancing_1_1LoadBalancer.html#a08bc93d4cb27b706ed061ec21221504f" title=" " alt="" coords="255,69,454,109"/>
<area shape="poly" title=" " alt="" coords="497,108,454,103,455,98,497,103"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#afb23acec2020d4e200db02706a503133" title=" " alt="" coords="247,185,463,210"/>
<area shape="poly" title=" " alt="" coords="535,146,463,168,400,187,398,182,462,163,533,140"/>
<area shape="poly" title=" " alt="" coords="272,185,199,171,200,166,273,179"/>
</map>
</div>

</div>
</div>
<a id="a85eb3c28124a032792ec6451adf2bad3" name="a85eb3c28124a032792ec6451adf2bad3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85eb3c28124a032792ec6451adf2bad3">&#9670;&#160;</a></span>getGridStatistics() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html">peano4::grid::GridStatistics</a> peano4::parallel::SpacetreeSet::getGridStatistics </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return statistics object for primary spacetree. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00665">665</a> of file <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html">SpacetreeSet.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html#l00328">_spacetrees</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00369">logTraceIn</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00380">logTraceOutWith1Argument</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37ca09bce956ecf16a726820c33dc8fe3cc6">peano4::grid::NewFromSplit</a>, and <a class="el" href="../../d2/d00/GridStatistics_8cpp_source.html#l00017">peano4::grid::GridStatistics::toString()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d73/GlobalTimeStepping_8cpph_source.html#l00006">swift2::timestepping::computeAdmissibleTimeStepSizeFromGlobalMeshSizeAndMaximumVelocity()</a>, <a class="el" href="../../d3/d03/LoadBalancer_8cpp_source.html#l00179">toolbox::loadbalancing::LoadBalancer::getStatistics()</a>, <a class="el" href="../../d6/d10/benchmarks_2peano4_2regulargridupscaling_2main_8cpp_source.html#l00047">runParallel()</a>, <a class="el" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp_source.html#l00068">selectNextAlgorithmicStep()</a>, <a class="el" href="../../db/d3c/Blacklist_8cpp_source.html#l00047">toolbox::loadbalancing::Blacklist::update()</a>, <a class="el" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp_source.html#l00096">updateDomainDecomposition()</a>, and <a class="el" href="../../d5/dcf/toolbox_2loadbalancing_2Statistics_8cpp_source.html#l00051">toolbox::loadbalancing::Statistics::updateGlobalView()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a85eb3c28124a032792ec6451adf2bad3_cgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a85eb3c28124a032792ec6451adf2bad3_cgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a85eb3c28124a032792ec6451adf2bad3_cgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a85eb3c28124a032792ec6451adf2bad3_cgraph">
<area shape="rect" title="Return statistics object for primary spacetree." alt="" coords="5,5,205,45"/>
<area shape="rect" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html#a330c69208e5ce8528313b3ac6828e8af" title=" " alt="" coords="253,5,452,45"/>
<area shape="poly" title=" " alt="" coords="205,23,239,23,239,28,205,28"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a85eb3c28124a032792ec6451adf2bad3_icgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a85eb3c28124a032792ec6451adf2bad3_icgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a85eb3c28124a032792ec6451adf2bad3_icgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a85eb3c28124a032792ec6451adf2bad3_icgraph">
<area shape="rect" title="Return statistics object for primary spacetree." alt="" coords="572,205,772,245"/>
<area shape="rect" href="../../d4/da3/namespaceswift2_1_1timestepping.html#a37c17bed3e9d922ba0d2e499cdee1e51" title="Determine a total admissible time step size which is determined through the maximum velocity within t..." alt="" coords="247,5,524,75"/>
<area shape="poly" title=" " alt="" coords="644,197,591,142,558,114,523,89,500,77,503,72,525,84,561,109,595,138,647,193"/>
<area shape="rect" href="../../d2/d15/classtoolbox_1_1loadbalancing_1_1LoadBalancer.html#a9f2e7765b46d3443dd1f80ef13a557af" title=" " alt="" coords="282,99,489,139"/>
<area shape="poly" title=" " alt="" coords="624,201,576,176,523,153,485,141,487,136,525,148,578,171,626,196"/>
<area shape="rect" href="../../d6/d10/benchmarks_2peano4_2regulargridupscaling_2main_8cpp.html#a716631ca95d6176da3ed3886635e801e" title=" " alt="" coords="340,163,431,189"/>
<area shape="poly" title=" " alt="" coords="558,208,430,186,431,181,559,203"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#a832439084ea25145fd3b2894160a520b" title="Decide which step to run next." alt="" coords="287,213,483,238"/>
<area shape="poly" title=" " alt="" coords="558,228,484,228,484,223,558,223"/>
<area shape="rect" href="../../dd/d58/classtoolbox_1_1loadbalancing_1_1Blacklist.html#a552f999ff205ef8d443028bc2a2b38ce" title="Update blacklist at end of traversal." alt="" coords="300,263,471,303"/>
<area shape="poly" title=" " alt="" coords="559,251,472,268,471,263,558,245"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#afb23acec2020d4e200db02706a503133" title=" " alt="" coords="277,327,493,353"/>
<area shape="poly" title=" " alt="" coords="635,256,584,288,525,317,482,330,480,325,523,312,581,284,632,251"/>
<area shape="rect" href="../../d5/dbe/classtoolbox_1_1loadbalancing_1_1Statistics.html#aa163c875b80e3f74bb43eec9d29f1c20" title=" " alt="" coords="277,377,494,417"/>
<area shape="poly" title=" " alt="" coords="649,258,596,314,562,343,525,368,495,381,493,376,523,363,559,339,593,311,645,254"/>
<area shape="rect" href="../../d9/d51/ExaHyPEMain_8template_8cpp.html#ac6bf1a12c5c98ddec5b65e07fe74cabe" title=" " alt="" coords="128,106,179,131"/>
<area shape="poly" title=" " alt="" coords="268,121,179,121,179,116,268,116"/>
<area shape="rect" href="../../d9/d51/ExaHyPEMain_8template_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,106,60,131"/>
<area shape="poly" title=" " alt="" coords="114,121,60,121,60,116,114,116"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="126,213,181,238"/>
<area shape="poly" title=" " alt="" coords="273,228,181,228,181,223,273,223"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a63ad06a0041cb535df105cf2f445a73c" title=" " alt="" coords="108,327,199,353"/>
<area shape="poly" title=" " alt="" coords="263,343,199,343,199,337,263,337"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,327,60,353"/>
<area shape="poly" title=" " alt="" coords="94,343,60,343,60,337,94,337"/>
</map>
</div>

</div>
</div>
<a id="aa05a1cea439ce5f863fd66b31e8fcc51" name="aa05a1cea439ce5f863fd66b31e8fcc51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa05a1cea439ce5f863fd66b31e8fcc51">&#9670;&#160;</a></span>getGridStatistics() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html">peano4::grid::GridStatistics</a> peano4::parallel::SpacetreeSet::getGridStatistics </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a></td>          <td class="paramname"><span class="paramname"><em>treeId</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00659">659</a> of file <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html">SpacetreeSet.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01019">assertion2</a>, <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l01762">peano4::grid::Spacetree::getGridStatistics()</a>, <a class="el" href="../../d5/dcd/Rank_8cpp_source.html#l00525">tarch::mpi::Rank::getInstance()</a>, <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00761">getSpacetree()</a>, and <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00693">isLocalSpacetree()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_aa05a1cea439ce5f863fd66b31e8fcc51_cgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_aa05a1cea439ce5f863fd66b31e8fcc51_cgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_aa05a1cea439ce5f863fd66b31e8fcc51_cgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_aa05a1cea439ce5f863fd66b31e8fcc51_cgraph">
<area shape="rect" title=" " alt="" coords="5,92,205,132"/>
<area shape="rect" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html#a1a92ee6f9a9b343569d57077f921cb25" title=" " alt="" coords="265,5,441,45"/>
<area shape="poly" title=" " alt="" coords="163,89,281,48,283,53,164,94"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd" title="This operation returns the singleton instance." alt="" coords="501,99,715,125"/>
<area shape="poly" title=" " alt="" coords="206,106,253,105,453,105,488,106,487,111,453,111,253,111,206,112"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a255dea5ec5043a45b96c5bd8b4979551" title=" " alt="" coords="253,120,453,160"/>
<area shape="poly" title=" " alt="" coords="206,121,240,125,239,130,205,126"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#aeab015f02f3d415aa058c855e794e9c6" title="Codes hold one spacetree set per rank." alt="" coords="253,184,453,224"/>
<area shape="poly" title=" " alt="" coords="154,130,254,170,275,177,274,182,252,174,152,135"/>
<area shape="poly" title=" " alt="" coords="453,126,487,123,488,128,454,132"/>
</map>
</div>

</div>
</div>
<a id="aaf5202ec306988b5b7a2226ef01908cc" name="aaf5202ec306988b5b7a2226ef01908cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf5202ec306988b5b7a2226ef01908cc">&#9670;&#160;</a></span>getInstance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html">peano4::parallel::SpacetreeSet</a> &amp; peano4::parallel::SpacetreeSet::getInstance </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00029">29</a> of file <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html">SpacetreeSet.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d73/GlobalTimeStepping_8cpph_source.html#l00006">swift2::timestepping::computeAdmissibleTimeStepSizeFromGlobalMeshSizeAndMaximumVelocity()</a>, <a class="el" href="../../d3/d03/LoadBalancer_8cpp_source.html#l00179">toolbox::loadbalancing::LoadBalancer::getStatistics()</a>, <a class="el" href="../../d3/d38/peano4_8cpp_source.html#l00099">peano4::init()</a>, <a class="el" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp_source.html#l00194">runParallel()</a>, <a class="el" href="../../d6/d10/benchmarks_2peano4_2regulargridupscaling_2main_8cpp_source.html#l00047">runParallel()</a>, <a class="el" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp_source.html#l00068">selectNextAlgorithmicStep()</a>, <a class="el" href="../../d3/d38/peano4_8cpp_source.html#l00138">peano4::shutdown()</a>, <a class="el" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp_source.html#l00254">step()</a>, <a class="el" href="../../d3/d03/LoadBalancer_8cpp_source.html#l00156">toolbox::loadbalancing::LoadBalancer::triggerSplit()</a>, <a class="el" href="../../db/d3c/Blacklist_8cpp_source.html#l00047">toolbox::loadbalancing::Blacklist::update()</a>, <a class="el" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp_source.html#l00096">updateDomainDecomposition()</a>, and <a class="el" href="../../d5/dcf/toolbox_2loadbalancing_2Statistics_8cpp_source.html#l00051">toolbox::loadbalancing::Statistics::updateGlobalView()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_aaf5202ec306988b5b7a2226ef01908cc_icgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_aaf5202ec306988b5b7a2226ef01908cc_icgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_aaf5202ec306988b5b7a2226ef01908cc_icgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_aaf5202ec306988b5b7a2226ef01908cc_icgraph">
<area shape="rect" title=" " alt="" coords="572,353,772,393"/>
<area shape="rect" href="../../d4/da3/namespaceswift2_1_1timestepping.html#a37c17bed3e9d922ba0d2e499cdee1e51" title="Determine a total admissible time step size which is determined through the maximum velocity within t..." alt="" coords="247,5,524,75"/>
<area shape="poly" title=" " alt="" coords="660,341,643,286,615,218,575,149,550,117,522,89,506,77,510,73,526,85,554,113,580,146,620,216,648,284,665,339"/>
<area shape="rect" href="../../d2/d15/classtoolbox_1_1loadbalancing_1_1LoadBalancer.html#a9f2e7765b46d3443dd1f80ef13a557af" title=" " alt="" coords="282,99,489,139"/>
<area shape="poly" title=" " alt="" coords="656,342,636,298,607,247,569,196,547,173,523,153,488,136,490,131,525,148,551,169,573,192,612,244,641,296,661,340"/>
<area shape="rect" href="../../d8/d8f/namespacepeano4.html#a0b8a3fe9fa636df52267407ff6a67cf7" title=" " alt="" coords="336,187,435,213"/>
<area shape="poly" title=" " alt="" coords="647,344,595,282,561,252,523,226,479,211,434,204,435,199,480,206,525,222,564,247,599,279,651,340"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a63ad06a0041cb535df105cf2f445a73c" title=" " alt="" coords="108,361,199,386"/>
<area shape="poly" title=" " alt="" coords="558,376,199,376,199,371,558,371"/>
<area shape="rect" href="../../d6/d10/benchmarks_2peano4_2regulargridupscaling_2main_8cpp.html#a716631ca95d6176da3ed3886635e801e" title=" " alt="" coords="340,286,431,311"/>
<area shape="poly" title=" " alt="" coords="605,351,523,325,430,307,431,302,525,320,607,346"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#a832439084ea25145fd3b2894160a520b" title="Decide which step to run next." alt="" coords="287,615,483,641"/>
<area shape="poly" title=" " alt="" coords="662,408,643,453,614,507,575,561,551,584,525,605,485,623,483,618,523,600,548,580,571,557,609,504,638,451,657,406"/>
<area shape="rect" href="../../d8/d8f/namespacepeano4.html#a74f6dc3de6405111f5219bd65789f395" title=" " alt="" coords="315,237,456,262"/>
<area shape="poly" title=" " alt="" coords="636,347,585,309,523,276,490,265,455,258,457,253,491,260,525,271,588,305,639,343"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#ac6bf1a12c5c98ddec5b65e07fe74cabe" title=" " alt="" coords="360,437,411,462"/>
<area shape="poly" title=" " alt="" coords="595,400,525,420,412,447,410,442,523,415,593,395"/>
<area shape="rect" href="../../d2/d15/classtoolbox_1_1loadbalancing_1_1LoadBalancer.html#a08bc93d4cb27b706ed061ec21221504f" title=" " alt="" coords="286,487,485,527"/>
<area shape="poly" title=" " alt="" coords="638,404,586,441,525,476,486,490,484,485,523,471,584,437,635,400"/>
<area shape="rect" href="../../dd/d58/classtoolbox_1_1loadbalancing_1_1Blacklist.html#a552f999ff205ef8d443028bc2a2b38ce" title="Update blacklist at end of traversal." alt="" coords="300,551,471,591"/>
<area shape="poly" title=" " alt="" coords="653,407,602,475,566,511,525,541,499,553,472,562,470,557,497,549,523,536,562,507,597,472,649,404"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#afb23acec2020d4e200db02706a503133" title=" " alt="" coords="277,335,493,361"/>
<area shape="poly" title=" " alt="" coords="558,366,493,360,494,355,558,361"/>
<area shape="rect" href="../../d5/dbe/classtoolbox_1_1loadbalancing_1_1Statistics.html#aa163c875b80e3f74bb43eec9d29f1c20" title=" " alt="" coords="277,665,494,705"/>
<area shape="poly" title=" " alt="" coords="666,407,649,462,621,529,581,598,555,629,526,655,496,672,493,668,522,651,551,625,576,595,616,527,644,460,660,406"/>
<area shape="rect" href="../../d9/d51/ExaHyPEMain_8template_8cpp.html#ac6bf1a12c5c98ddec5b65e07fe74cabe" title=" " alt="" coords="128,106,179,131"/>
<area shape="poly" title=" " alt="" coords="268,121,179,121,179,116,268,116"/>
<area shape="rect" href="../../d9/d51/ExaHyPEMain_8template_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,106,60,131"/>
<area shape="poly" title=" " alt="" coords="114,121,60,121,60,116,114,116"/>
<area shape="poly" title=" " alt="" coords="427,178,416,169,385,166,360,168,347,173,345,178,352,185,348,189,339,179,344,169,359,163,385,161,418,165,430,174"/>
<area shape="rect" href="../../df/dc4/aderdg-fused_2KernelBenchmarks-main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="126,213,181,238"/>
<area shape="poly" title=" " alt="" coords="322,209,182,225,181,220,322,204"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,361,60,386"/>
<area shape="poly" title=" " alt="" coords="94,376,60,376,60,371,94,371"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="126,526,181,551"/>
<area shape="poly" title=" " alt="" coords="273,615,246,605,202,580,167,554,171,550,205,576,248,600,275,610"/>
<area shape="poly" title=" " alt="" coords="301,243,181,231,181,225,301,238"/>
<area shape="poly" title=" " alt="" coords="347,455,299,462,248,477,205,502,171,528,167,524,202,497,246,472,297,457,346,449"/>
<area shape="poly" title=" " alt="" coords="264,364,199,371,199,366,263,359"/>
</map>
</div>

</div>
</div>
<a id="abd1643da8908cfca6368aae3bba9ab02" name="abd1643da8908cfca6368aae3bba9ab02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd1643da8908cfca6368aae3bba9ab02">&#9670;&#160;</a></span>getLocalSpacetrees()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt; <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> &gt; peano4::parallel::SpacetreeSet::getLocalSpacetrees </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Set of ids of local spacetrees </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00702">702</a> of file <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html">SpacetreeSet.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html#l00328">_spacetrees</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d03/LoadBalancer_8cpp_source.html#l00179">toolbox::loadbalancing::LoadBalancer::getStatistics()</a>, <a class="el" href="../../d6/d10/benchmarks_2peano4_2regulargridupscaling_2main_8cpp_source.html#l00047">runParallel()</a>, <a class="el" href="../../d3/d03/LoadBalancer_8cpp_source.html#l00156">toolbox::loadbalancing::LoadBalancer::triggerSplit()</a>, and <a class="el" href="../../d5/dcf/toolbox_2loadbalancing_2Statistics_8cpp_source.html#l00051">toolbox::loadbalancing::Statistics::updateGlobalView()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_abd1643da8908cfca6368aae3bba9ab02_icgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_abd1643da8908cfca6368aae3bba9ab02_icgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_abd1643da8908cfca6368aae3bba9ab02_icgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_abd1643da8908cfca6368aae3bba9ab02_icgraph">
<area shape="rect" title=" " alt="" coords="472,92,672,132"/>
<area shape="rect" href="../../d2/d15/classtoolbox_1_1loadbalancing_1_1LoadBalancer.html#a9f2e7765b46d3443dd1f80ef13a557af" title=" " alt="" coords="212,5,419,45"/>
<area shape="poly" title=" " alt="" coords="506,90,423,60,386,48,388,43,425,55,508,85"/>
<area shape="rect" href="../../d6/d10/benchmarks_2peano4_2regulargridupscaling_2main_8cpp.html#a716631ca95d6176da3ed3886635e801e" title=" " alt="" coords="270,70,361,95"/>
<area shape="poly" title=" " alt="" coords="458,102,361,90,361,85,458,96"/>
<area shape="rect" href="../../d2/d15/classtoolbox_1_1loadbalancing_1_1LoadBalancer.html#a08bc93d4cb27b706ed061ec21221504f" title=" " alt="" coords="216,120,415,160"/>
<area shape="poly" title=" " alt="" coords="458,127,415,132,415,127,458,122"/>
<area shape="rect" href="../../d5/dbe/classtoolbox_1_1loadbalancing_1_1Statistics.html#aa163c875b80e3f74bb43eec9d29f1c20" title=" " alt="" coords="207,184,424,224"/>
<area shape="poly" title=" " alt="" coords="513,140,425,175,388,187,387,181,423,169,511,135"/>
<area shape="rect" href="../../d9/d51/ExaHyPEMain_8template_8cpp.html#ac6bf1a12c5c98ddec5b65e07fe74cabe" title=" " alt="" coords="108,13,159,38"/>
<area shape="poly" title=" " alt="" coords="198,28,159,28,159,23,198,23"/>
<area shape="rect" href="../../d9/d51/ExaHyPEMain_8template_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,13,60,38"/>
<area shape="poly" title=" " alt="" coords="94,28,60,28,60,23,94,23"/>
</map>
</div>

</div>
</div>
<a id="a40ae48bda0092f87c765a1aaa8f03755" name="a40ae48bda0092f87c765a1aaa8f03755"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40ae48bda0092f87c765a1aaa8f03755">&#9670;&#160;</a></span>getLocalTreesMergingWithWorkers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt; <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> &gt; peano4::parallel::SpacetreeSet::getLocalTreesMergingWithWorkers </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>I need this routine for technical reasons: Prior to the sweep of trees, I have to identify all of those trees which wanna merge with their workers. </p>
<p>This is an analysis I have to do before I actually traverse any worker. Because of this traversal, more trees might denote their workers as joining, so if I query the joining field after the traversal, I intermix newly joining and old joining ranks. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00431">431</a> of file <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html">SpacetreeSet.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html#l00328">_spacetrees</a>.</p>

</div>
</div>
<a id="a255dea5ec5043a45b96c5bd8b4979551" name="a255dea5ec5043a45b96c5bd8b4979551"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a255dea5ec5043a45b96c5bd8b4979551">&#9670;&#160;</a></span>getSpacetree() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">peano4::grid::Spacetree</a> &amp; peano4::parallel::SpacetreeSet::getSpacetree </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a></td>          <td class="paramname"><span class="paramname"><em>id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00761">761</a> of file <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html">SpacetreeSet.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html#l00328">_spacetrees</a>, <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01020">assertion3</a>, and <a class="el" href="../../d5/dcd/Rank_8cpp_source.html#l00525">tarch::mpi::Rank::getInstance()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00564">cleanUpTrees()</a>, <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00659">getGridStatistics()</a>, and <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00713">split()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a255dea5ec5043a45b96c5bd8b4979551_cgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a255dea5ec5043a45b96c5bd8b4979551_cgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a255dea5ec5043a45b96c5bd8b4979551_cgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a255dea5ec5043a45b96c5bd8b4979551_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,205,45"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd" title="This operation returns the singleton instance." alt="" coords="253,13,467,38"/>
<area shape="poly" title=" " alt="" coords="206,23,240,23,240,28,206,28"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a255dea5ec5043a45b96c5bd8b4979551_icgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a255dea5ec5043a45b96c5bd8b4979551_icgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a255dea5ec5043a45b96c5bd8b4979551_icgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a255dea5ec5043a45b96c5bd8b4979551_icgraph">
<area shape="rect" title=" " alt="" coords="759,112,959,152"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#aa07efe0ea318000757b2acd065b0a8ba" title=" " alt="" coords="511,20,711,60"/>
<area shape="poly" title=" " alt="" coords="790,109,665,63,667,58,792,104"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#aa05a1cea439ce5f863fd66b31e8fcc51" title=" " alt="" coords="511,176,711,216"/>
<area shape="poly" title=" " alt="" coords="768,158,689,179,688,173,767,153"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a4c99275a5fd270dce1999818063bd802" title="Split a local tree." alt="" coords="511,112,711,152"/>
<area shape="poly" title=" " alt="" coords="745,135,711,135,711,129,745,129"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#af3302644e7f7848b653167f1502f3554" title="Invoke traverse on all spacetrees in parallel." alt="" coords="255,5,455,45"/>
<area shape="poly" title=" " alt="" coords="497,36,455,34,455,28,497,31"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a63ad06a0041cb535df105cf2f445a73c" title=" " alt="" coords="108,147,199,173"/>
<area shape="poly" title=" " alt="" coords="256,54,248,59,232,78,224,96,216,117,201,138,185,149,182,145,197,134,212,114,219,94,227,75,245,55,253,50"/>
<area shape="rect" href="../../d6/d10/benchmarks_2peano4_2regulargridupscaling_2main_8cpp.html#a716631ca95d6176da3ed3886635e801e" title=" " alt="" coords="108,98,199,123"/>
<area shape="poly" title=" " alt="" coords="267,52,248,60,208,80,175,100,172,96,206,75,246,55,265,47"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#ac6bf1a12c5c98ddec5b65e07fe74cabe" title=" " alt="" coords="128,13,179,38"/>
<area shape="poly" title=" " alt="" coords="241,28,179,28,179,23,241,23"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,147,60,173"/>
<area shape="poly" title=" " alt="" coords="94,163,60,163,60,157,94,157"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,13,60,38"/>
<area shape="poly" title=" " alt="" coords="114,28,60,28,60,23,114,23"/>
<area shape="poly" title=" " alt="" coords="497,134,376,131,246,124,199,119,199,114,247,119,376,125,497,129"/>
<area shape="rect" href="../../d2/d15/classtoolbox_1_1loadbalancing_1_1LoadBalancer.html#a08bc93d4cb27b706ed061ec21221504f" title=" " alt="" coords="255,69,454,109"/>
<area shape="poly" title=" " alt="" coords="497,116,454,109,455,103,498,110"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#afb23acec2020d4e200db02706a503133" title=" " alt="" coords="247,185,463,210"/>
<area shape="poly" title=" " alt="" coords="519,158,406,187,405,182,518,153"/>
<area shape="poly" title=" " alt="" coords="272,185,199,171,200,166,273,179"/>
</map>
</div>

</div>
</div>
<a id="a044c77e89b2c4763f069146a075fd812" name="a044c77e89b2c4763f069146a075fd812"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a044c77e89b2c4763f069146a075fd812">&#9670;&#160;</a></span>getSpacetree() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">peano4::grid::Spacetree</a> &amp; peano4::parallel::SpacetreeSet::getSpacetree </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a></td>          <td class="paramname"><span class="paramname"><em>id</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00771">771</a> of file <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html">SpacetreeSet.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html#l00328">_spacetrees</a>, <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01020">assertion3</a>, and <a class="el" href="../../d5/dcd/Rank_8cpp_source.html#l00525">tarch::mpi::Rank::getInstance()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a044c77e89b2c4763f069146a075fd812_cgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a044c77e89b2c4763f069146a075fd812_cgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a044c77e89b2c4763f069146a075fd812_cgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a044c77e89b2c4763f069146a075fd812_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,205,45"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd" title="This operation returns the singleton instance." alt="" coords="253,13,467,38"/>
<area shape="poly" title=" " alt="" coords="206,23,240,23,240,28,206,28"/>
</map>
</div>

</div>
</div>
<a id="a902d7f8f8b084ed1fb6029c9c4ec09fc" name="a902d7f8f8b084ed1fb6029c9c4ec09fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a902d7f8f8b084ed1fb6029c9c4ec09fc">&#9670;&#160;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> peano4::parallel::SpacetreeSet::init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../d7/d26/structtarch_1_1la_1_1Vector.html">tarch::la::Vector</a>&lt; Dimensions, <a class="el" href="../../db/d20/DiscontinuousGalerkinDiscretisation_8Abstract_8template_8cpp.html#a962c06c0fea2c76dd28c454654a79417">double</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>offset</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../d7/d26/structtarch_1_1la_1_1Vector.html">tarch::la::Vector</a>&lt; Dimensions, <a class="el" href="../../db/d20/DiscontinuousGalerkinDiscretisation_8Abstract_8template_8cpp.html#a962c06c0fea2c76dd28c454654a79417">double</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>width</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> std::bitset&lt; Dimensions &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>periodicBC</em><span class="paramdefsep"> = </span><span class="paramdefval">0</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../da/d67/structSpacetree.html#ab26ce1023efc8e5e1e063433850eb446">Spacetree::Spacetree()</a> </dd>
<dd>
<a class="el" href="#ac7383614be7ae6babc6441894be5e1aa">shutdown()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00031">31</a> of file <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html">SpacetreeSet.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../de/d77/ServiceRepository_8cpp_source.html#l00037">tarch::services::ServiceRepository::addService()</a>, <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01021">assertion4</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00077">peano4::parallel::Node::getInstance()</a>, <a class="el" href="../../d5/dcd/Rank_8cpp_source.html#l00525">tarch::mpi::Rank::getInstance()</a>, <a class="el" href="../../de/d77/ServiceRepository_8cpp_source.html#l00032">tarch::services::ServiceRepository::getInstance()</a>, <a class="el" href="../../db/d92/Node_8h_source.html#l00040">peano4::parallel::Node::MaxSpacetreesPerRank</a>, <a class="el" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp_source.html#l00019">periodicBC</a>, and <a class="el" href="../../d5/dcd/Rank_8cpp_source.html#l00038">tarch::mpi::Rank::reserveFreeTag()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d38/peano4_8cpp_source.html#l00099">peano4::init()</a>, and <a class="el" href="../../d6/d10/benchmarks_2peano4_2regulargridupscaling_2main_8cpp_source.html#l00047">runParallel()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a902d7f8f8b084ed1fb6029c9c4ec09fc_cgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a902d7f8f8b084ed1fb6029c9c4ec09fc_cgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a902d7f8f8b084ed1fb6029c9c4ec09fc_cgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a902d7f8f8b084ed1fb6029c9c4ec09fc_cgraph">
<area shape="rect" title=" " alt="" coords="5,127,205,167"/>
<area shape="rect" href="../../d6/d75/classtarch_1_1services_1_1ServiceRepository.html#ab8aee085ce5d8e5f1f7822d7daa5a445" title="Add a new service." alt="" coords="273,5,447,45"/>
<area shape="poly" title=" " alt="" coords="133,124,187,90,252,55,270,47,272,52,254,60,190,94,136,129"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0" title=" " alt="" coords="275,69,445,109"/>
<area shape="poly" title=" " alt="" coords="194,124,261,109,262,114,195,129"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd" title="This operation returns the singleton instance." alt="" coords="253,134,467,159"/>
<area shape="poly" title=" " alt="" coords="206,144,240,144,240,149,206,149"/>
<area shape="rect" href="../../d6/d75/classtarch_1_1services_1_1ServiceRepository.html#a6a3a85cf6082b5f2711cf046176cd42c" title=" " alt="" coords="273,184,447,224"/>
<area shape="poly" title=" " alt="" coords="195,164,260,179,259,184,194,169"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#ab501a52fc09ea23bb061edbbfbcc89aa" title="Return a Free Tag." alt="" coords="267,248,453,288"/>
<area shape="poly" title=" " alt="" coords="136,164,190,199,254,234,272,241,270,246,252,238,187,204,133,169"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a902d7f8f8b084ed1fb6029c9c4ec09fc_icgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a902d7f8f8b084ed1fb6029c9c4ec09fc_icgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a902d7f8f8b084ed1fb6029c9c4ec09fc_icgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a902d7f8f8b084ed1fb6029c9c4ec09fc_icgraph">
<area shape="rect" title=" " alt="" coords="255,47,455,87"/>
<area shape="rect" href="../../d8/d8f/namespacepeano4.html#a0b8a3fe9fa636df52267407ff6a67cf7" title=" " alt="" coords="108,29,207,55"/>
<area shape="poly" title=" " alt="" coords="240,55,206,51,207,46,241,50"/>
<area shape="rect" href="../../d6/d10/benchmarks_2peano4_2regulargridupscaling_2main_8cpp.html#a716631ca95d6176da3ed3886635e801e" title=" " alt="" coords="112,79,203,104"/>
<area shape="poly" title=" " alt="" coords="241,84,203,89,203,83,240,79"/>
<area shape="poly" title=" " alt="" coords="178,18,172,11,157,8,145,10,138,14,137,20,141,28,136,30,132,21,134,11,143,5,157,3,174,6,182,14"/>
<area shape="rect" href="../../df/dc4/aderdg-fused_2KernelBenchmarks-main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,29,60,55"/>
<area shape="poly" title=" " alt="" coords="94,45,60,45,60,39,94,39"/>
</map>
</div>

</div>
</div>
<a id="aeab015f02f3d415aa058c855e794e9c6" name="aeab015f02f3d415aa058c855e794e9c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeab015f02f3d415aa058c855e794e9c6">&#9670;&#160;</a></span>isLocalSpacetree()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a> peano4::parallel::SpacetreeSet::isLocalSpacetree </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a></td>          <td class="paramname"><span class="paramname"><em>treeId</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Codes hold one spacetree set per rank. </p>
<p>With this routine, you can find out whether a local set contains a particular id. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00693">693</a> of file <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html">SpacetreeSet.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html#l00328">_spacetrees</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00659">getGridStatistics()</a>, and <a class="el" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp_source.html#l00096">updateDomainDecomposition()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_aeab015f02f3d415aa058c855e794e9c6_icgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_aeab015f02f3d415aa058c855e794e9c6_icgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_aeab015f02f3d415aa058c855e794e9c6_icgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_aeab015f02f3d415aa058c855e794e9c6_icgraph">
<area shape="rect" title="Codes hold one spacetree set per rank." alt="" coords="511,35,711,75"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#aa05a1cea439ce5f863fd66b31e8fcc51" title=" " alt="" coords="255,5,455,45"/>
<area shape="poly" title=" " alt="" coords="497,44,455,39,455,34,498,39"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#afb23acec2020d4e200db02706a503133" title=" " alt="" coords="247,70,463,95"/>
<area shape="poly" title=" " alt="" coords="498,70,463,74,462,68,497,64"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a63ad06a0041cb535df105cf2f445a73c" title=" " alt="" coords="108,70,199,95"/>
<area shape="poly" title=" " alt="" coords="233,85,199,85,199,80,233,80"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,70,60,95"/>
<area shape="poly" title=" " alt="" coords="94,85,60,85,60,80,94,80"/>
</map>
</div>

</div>
</div>
<a id="a252f274a69d563bf26ba89b43ec420b1" name="a252f274a69d563bf26ba89b43ec420b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a252f274a69d563bf26ba89b43ec420b1">&#9670;&#160;</a></span>operator=()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html">SpacetreeSet</a> &amp; peano4::parallel::SpacetreeSet::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html">SpacetreeSet</a> &amp;</td>          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a804983160d3a6236ada166574dee659a" name="a804983160d3a6236ada166574dee659a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a804983160d3a6236ada166574dee659a">&#9670;&#160;</a></span>receiveDanglingMessages()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> peano4::parallel::SpacetreeSet::receiveDanglingMessages </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>We poll the tree management messages. </p>
<p>Messages are not answered directly. Instead, we buffer them in _unansweredMessages and hand over to replyToUnansweredMessages().</p>
<p>See the description in <a class="el" href="../../d1/dd8/mpi_8h.html">mpi.h</a> for a howto where this routine is used and how to use it. </p>

<p>Implements <a class="el" href="../../d2/d00/classtarch_1_1services_1_1Service.html#a6a87127274196bdaffb4bad9e80a89f4">tarch::services::Service</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00185">185</a> of file <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html">SpacetreeSet.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d5/dcd/Rank_8cpp_source.html#l00525">tarch::mpi::Rank::getInstance()</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00050">logDebug</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00369">logTraceIn</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00379">logTraceOut</a>, <a class="el" href="../../de/d65/TreeManagementMessage_8cpp_source.html#l00240">peano4::parallel::TreeManagementMessage::receive()</a>, and <a class="el" href="../../de/d65/TreeManagementMessage_8cpp_source.html#l00018">peano4::parallel::TreeManagementMessage::toString()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a804983160d3a6236ada166574dee659a_cgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a804983160d3a6236ada166574dee659a_cgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a804983160d3a6236ada166574dee659a_cgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a804983160d3a6236ada166574dee659a_cgraph">
<area shape="rect" title="We poll the tree management messages." alt="" coords="5,55,228,95"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd" title="This operation returns the singleton instance." alt="" coords="293,5,507,31"/>
<area shape="poly" title=" " alt="" coords="216,53,323,31,324,36,217,58"/>
<area shape="rect" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#acc5c542271504672569e175debab8ac3" title=" " alt="" coords="276,55,524,95"/>
<area shape="poly" title=" " alt="" coords="228,73,262,73,262,78,228,78"/>
<area shape="rect" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a6de11550a424b8f79da95ecf81596246" title=" " alt="" coords="276,119,524,159"/>
<area shape="poly" title=" " alt="" coords="207,93,298,114,297,119,205,98"/>
</map>
</div>

</div>
</div>
<a id="ac7383614be7ae6babc6441894be5e1aa" name="ac7383614be7ae6babc6441894be5e1aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7383614be7ae6babc6441894be5e1aa">&#9670;&#160;</a></span>shutdown()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> peano4::parallel::SpacetreeSet::shutdown </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../d2/d00/classtarch_1_1services_1_1Service.html#aebe2a268fd6233ccb6cc808ac51b0dcb">tarch::services::Service</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00058">58</a> of file <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html">SpacetreeSet.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d2e/Spacetree_8h_source.html#l00152">peano4::grid::Spacetree::_vertexStack</a>, <a class="el" href="../../db/d67/HierarchicalStackMap_8h_source.html#l00251">peano4::maps::HierarchicalStackMap&lt; T &gt;::clear()</a>, <a class="el" href="../../de/d77/ServiceRepository_8cpp_source.html#l00032">tarch::services::ServiceRepository::getInstance()</a>, and <a class="el" href="../../de/d77/ServiceRepository_8cpp_source.html#l00054">tarch::services::ServiceRepository::removeService()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d38/peano4_8cpp_source.html#l00138">peano4::shutdown()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_ac7383614be7ae6babc6441894be5e1aa_cgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_ac7383614be7ae6babc6441894be5e1aa_cgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_ac7383614be7ae6babc6441894be5e1aa_cgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_ac7383614be7ae6babc6441894be5e1aa_cgraph">
<area shape="rect" title=" " alt="" coords="5,69,205,109"/>
<area shape="rect" href="../../de/d6d/classpeano4_1_1maps_1_1HierarchicalStackMap.html#a4dba5adf738e9c3c8081158eb949cfb6" title=" " alt="" coords="253,5,453,45"/>
<area shape="poly" title=" " alt="" coords="183,67,261,46,263,51,184,72"/>
<area shape="rect" href="../../d6/d75/classtarch_1_1services_1_1ServiceRepository.html#a6a3a85cf6082b5f2711cf046176cd42c" title=" " alt="" coords="266,69,441,109"/>
<area shape="poly" title=" " alt="" coords="205,87,252,87,252,92,205,92"/>
<area shape="rect" href="../../d6/d75/classtarch_1_1services_1_1ServiceRepository.html#a79917b860a7735704675e9bce35801d6" title="This routine is thread&#45;safe, i.e." alt="" coords="255,133,452,173"/>
<area shape="poly" title=" " alt="" coords="184,107,263,127,261,132,183,112"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_ac7383614be7ae6babc6441894be5e1aa_icgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_ac7383614be7ae6babc6441894be5e1aa_icgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_ac7383614be7ae6babc6441894be5e1aa_icgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_ac7383614be7ae6babc6441894be5e1aa_icgraph">
<area shape="rect" title=" " alt="" coords="297,5,497,45"/>
<area shape="rect" href="../../d8/d8f/namespacepeano4.html#a74f6dc3de6405111f5219bd65789f395" title=" " alt="" coords="108,13,249,38"/>
<area shape="poly" title=" " alt="" coords="283,28,250,28,250,23,283,23"/>
<area shape="rect" href="../../df/dc4/aderdg-fused_2KernelBenchmarks-main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,13,60,38"/>
<area shape="poly" title=" " alt="" coords="94,28,60,28,60,23,94,23"/>
</map>
</div>

</div>
</div>
<a id="a4c99275a5fd270dce1999818063bd802" name="a4c99275a5fd270dce1999818063bd802"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c99275a5fd270dce1999818063bd802">&#9670;&#160;</a></span>split()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a> peano4::parallel::SpacetreeSet::split </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a></td>          <td class="paramname"><span class="paramname"><em>treeId</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../dd/d3a/structpeano4_1_1SplitInstruction.html">peano4::SplitInstruction</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>instruction</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a></td>          <td class="paramname"><span class="paramname"><em>targetRank</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Split a local tree. </p>
<p>If the target tree shall be stored on the local node, then you pass</p>
<div class="fragment"><div class="line"><a class="code hl_function" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0">peano4::parallel::Node::getInstance</a>().<a class="code hl_function" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a47bc7f10fa1fa287bf94138032e9716b">getRank</a>(treeId)</div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1Node_html_a47bc7f10fa1fa287bf94138032e9716b"><div class="ttname"><a href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a47bc7f10fa1fa287bf94138032e9716b">peano4::parallel::Node::getRank</a></div><div class="ttdeci">int getRank(int treeId) const</div><div class="ttdoc">You hand in a tree number and the node tells you on which rank such a tree is hosted.</div><div class="ttdef"><b>Definition</b> <a href="../../db/d92/Node_8h_source.html#l00101">Node.h:101</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1Node_html_a7bc31c5e9f0f24785ae7e19d7add30c0"><div class="ttname"><a href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0">peano4::parallel::Node::getInstance</a></div><div class="ttdeci">static Node &amp; getInstance()</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d73/Node_8cpp_source.html#l00077">Node.cpp:77</a></div></div>
</div><!-- fragment --><p>as last argument. Splits on the local node allow Peano to exploit more cores on the node. The details of the total splitting procedure are discussed in Peano's generic domain decomposition discussion.</p>
<h2><a class="anchor" id="autotoc_md152"></a>
Reasons for unsuccessful splits</h2>
<p>Calling <a class="el" href="#a4c99275a5fd270dce1999818063bd802" title="Split a local tree.">split()</a> is an instruction that Peano might want to ignore. It notably ignores the split instruction if maySplit() on the underlying tree returns false.</p>
<p>It also fails to split (and consequently returns false) if the routine <a class="el" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0">peano4::parallel::Node::getInstance()</a>.reserveId() is unable to create a new spacetree id.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">treeId</td><td>Id of tree that should split, i.e. give away cells to a new tree </td></tr>
    <tr><td class="paramname">cells</td><td>Number of cells to deploy to a new tree. This count refers to the status-quo, i.e. if dynamic adaptivity makes an unrefined node of the tree unfold in the next step, the new \( 3^d \) children do count only with one towards this quota. </td></tr>
    <tr><td class="paramname">targetRank</td><td>Rank which should host the new tree.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Split had been successful </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00713">713</a> of file <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html">SpacetreeSet.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html#l00316">_requestMessageTag</a>, <a class="el" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#aa3d7e177ce6bc07bd01a8b308891e421a527b5dd477abf95e8fe19aac201df396">peano4::parallel::TreeManagementMessage::Acknowledgement</a>, <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01017">assertion</a>, <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01076">assertionMsg</a>, <a class="el" href="../../de/d65/TreeManagementMessage_8cpp_source.html#l00054">peano4::parallel::TreeManagementMessage::getAction()</a>, <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00063">getAnswerTag()</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00077">peano4::parallel::Node::getInstance()</a>, <a class="el" href="../../d5/dcd/Rank_8cpp_source.html#l00525">tarch::mpi::Rank::getInstance()</a>, <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00761">getSpacetree()</a>, <a class="el" href="../../de/d65/TreeManagementMessage_8cpp_source.html#l00044">peano4::parallel::TreeManagementMessage::getWorkerSpacetreeId()</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00050">logDebug</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00372">logTraceInWith3Arguments</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00380">logTraceOutWith1Argument</a>, <a class="el" href="../../de/d65/TreeManagementMessage_8cpp_source.html#l00307">peano4::parallel::TreeManagementMessage::receiveAndPollDanglingMessages()</a>, <a class="el" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#aa3d7e177ce6bc07bd01a8b308891e421a5d2933f9a52961da81a30c9080e93263">peano4::parallel::TreeManagementMessage::RequestNewRemoteTree</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00079">peano4::parallel::Node::reserveId()</a>, <a class="el" href="../../de/d65/TreeManagementMessage_8cpp_source.html#l00290">peano4::parallel::TreeManagementMessage::sendAndPollDanglingMessages()</a>, <a class="el" href="../../de/d65/TreeManagementMessage_8cpp_source.html#l00059">peano4::parallel::TreeManagementMessage::setAction()</a>, <a class="el" href="../../de/d65/TreeManagementMessage_8cpp_source.html#l00039">peano4::parallel::TreeManagementMessage::setMasterSpacetreeId()</a>, <a class="el" href="../../de/d65/TreeManagementMessage_8cpp_source.html#l00049">peano4::parallel::TreeManagementMessage::setWorkerSpacetreeId()</a>, and <a class="el" href="../../de/d65/TreeManagementMessage_8cpp_source.html#l00018">peano4::parallel::TreeManagementMessage::toString()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d10/benchmarks_2peano4_2regulargridupscaling_2main_8cpp_source.html#l00047">runParallel()</a>, <a class="el" href="../../d3/d03/LoadBalancer_8cpp_source.html#l00156">toolbox::loadbalancing::LoadBalancer::triggerSplit()</a>, and <a class="el" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp_source.html#l00096">updateDomainDecomposition()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a4c99275a5fd270dce1999818063bd802_cgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a4c99275a5fd270dce1999818063bd802_cgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a4c99275a5fd270dce1999818063bd802_cgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a4c99275a5fd270dce1999818063bd802_cgraph">
<area shape="rect" title="Split a local tree." alt="" coords="5,541,205,581"/>
<area shape="rect" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a254a9bee212d754ee5d8c976fcf5afb3" title=" " alt="" coords="283,5,531,45"/>
<area shape="poly" title=" " alt="" coords="103,541,106,454,112,393,124,325,142,254,168,184,204,119,226,89,252,62,270,48,273,52,255,66,230,93,209,122,173,187,147,256,129,326,117,394,111,454,109,541"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a49e92b919a5d722323f191e6328af9fc" title=" " alt="" coords="307,120,507,160"/>
<area shape="poly" title=" " alt="" coords="105,541,115,471,138,373,157,320,181,268,213,219,252,177,271,163,293,152,296,157,274,167,255,181,217,222,186,270,162,322,143,374,120,472,111,541"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0" title=" " alt="" coords="660,56,829,96"/>
<area shape="poly" title=" " alt="" coords="103,541,106,458,112,401,123,338,141,274,168,211,204,154,226,128,252,106,281,90,322,79,425,67,540,64,646,67,646,73,540,70,425,72,323,84,283,95,255,110,230,132,208,157,173,213,147,275,129,339,117,402,111,459,109,541"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd" title="This operation returns the singleton instance." alt="" coords="928,242,1141,267"/>
<area shape="poly" title=" " alt="" coords="115,539,168,459,207,412,252,370,341,307,418,268,501,243,609,220,684,208,744,206,880,220,972,236,971,241,880,225,744,212,685,214,610,225,503,248,420,273,344,312,255,374,210,415,172,462,120,542"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a255dea5ec5043a45b96c5bd8b4979551" title=" " alt="" coords="645,235,845,275"/>
<area shape="poly" title=" " alt="" coords="134,539,188,502,252,463,426,368,505,332,608,291,651,276,653,281,610,296,507,337,428,373,255,468,191,507,137,543"/>
<area shape="rect" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a458b1e97bbb08a62840c1f494633aa9e" title=" " alt="" coords="283,605,531,645"/>
<area shape="poly" title=" " alt="" coords="198,579,254,591,297,600,296,605,253,596,197,584"/>
<area shape="rect" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#aa491a74d2227e95a538b3d5f4076390c" title=" " alt="" coords="253,477,561,517"/>
<area shape="poly" title=" " alt="" coords="197,539,253,527,296,518,297,523,254,532,198,544"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a59bed030f4816c88a02ff326e7a0811c" title="This operation is not const as it does some internal bookkeeping." alt="" coords="323,669,492,709"/>
<area shape="poly" title=" " alt="" coords="133,579,187,618,254,655,310,672,308,677,252,660,184,623,129,584"/>
<area shape="rect" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a7cfae5baa7c161d85705f2f8cf1e0703" title=" " alt="" coords="262,541,553,581"/>
<area shape="poly" title=" " alt="" coords="206,559,248,559,248,564,206,564"/>
<area shape="rect" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a8234a885ab8329a3d554bef233909545" title=" " alt="" coords="283,733,531,773"/>
<area shape="poly" title=" " alt="" coords="121,580,143,612,174,650,211,688,255,719,272,727,269,732,252,724,208,692,170,653,139,615,117,583"/>
<area shape="rect" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a39dcc85e917582e601772f414d892432" title=" " alt="" coords="283,797,531,837"/>
<area shape="poly" title=" " alt="" coords="116,581,134,624,163,679,204,736,228,761,255,783,272,793,269,798,252,788,224,765,199,739,159,682,129,626,111,583"/>
<area shape="rect" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a751e49c699fded29e8ea2bbb27ec085c" title=" " alt="" coords="283,861,531,901"/>
<area shape="poly" title=" " alt="" coords="113,581,127,635,154,708,173,746,196,784,223,818,255,847,272,858,270,863,252,851,219,822,192,787,168,749,149,710,122,637,108,582"/>
<area shape="rect" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a6de11550a424b8f79da95ecf81596246" title=" " alt="" coords="283,925,531,965"/>
<area shape="poly" title=" " alt="" coords="111,581,122,646,146,736,164,784,188,831,218,874,255,911,272,923,269,927,252,915,214,878,184,834,160,786,141,737,116,647,106,582"/>
<area shape="poly" title=" " alt="" coords="507,118,646,92,647,97,508,124"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a426860ede252fd2c044bdfda9f973d79" title=" " alt="" coords="660,120,829,160"/>
<area shape="poly" title=" " alt="" coords="508,137,646,137,646,143,508,143"/>
<area shape="poly" title=" " alt="" coords="825,158,881,176,945,204,1000,233,997,237,942,209,879,181,824,163"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a2edb0017914edf9df4b6a0bfbf3a2890" title=" " alt="" coords="929,120,1140,160"/>
<area shape="poly" title=" " alt="" coords="829,137,916,137,916,143,829,143"/>
<area shape="poly" title=" " alt="" coords="845,252,914,252,914,257,845,257"/>
<area shape="poly" title=" " alt="" coords="429,475,520,397,569,359,608,335,681,309,741,299,802,295,880,284,960,268,961,273,880,289,803,300,742,304,682,314,610,340,572,364,523,402,433,479"/>
<area shape="rect" href="../../d6/d75/classtarch_1_1services_1_1ServiceRepository.html#a6a3a85cf6082b5f2711cf046176cd42c" title=" " alt="" coords="657,669,832,709"/>
<area shape="poly" title=" " alt="" coords="546,515,563,527,577,543,584,560,588,593,592,625,598,640,611,655,646,675,643,680,608,659,594,643,587,627,583,593,579,561,573,546,560,531,543,520"/>
<area shape="rect" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#acc5c542271504672569e175debab8ac3" title=" " alt="" coords="621,349,869,389"/>
<area shape="poly" title=" " alt="" coords="443,475,518,437,608,399,634,391,636,396,610,404,521,442,446,480"/>
<area shape="rect" href="../../d6/d75/classtarch_1_1services_1_1ServiceRepository.html#a4218d43659ffc951ee3b1c6eab7532bc" title="Answer to MPI Messages." alt="" coords="609,733,880,773"/>
<area shape="poly" title=" " alt="" coords="548,515,563,527,581,551,589,576,591,601,588,625,586,650,587,673,594,697,611,720,615,723,612,727,607,723,590,699,582,674,581,649,583,625,585,601,584,577,577,554,559,531,544,520"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a4785132af638891e2c7aed3fb7dede8b" title=" " alt="" coords="635,413,854,453"/>
<area shape="poly" title=" " alt="" coords="513,475,625,453,626,458,514,480"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a34d9ac947c0789391d0dd0a255db6f65" title="Memorise global timeout." alt="" coords="635,477,854,517"/>
<area shape="poly" title=" " alt="" coords="562,495,622,495,622,500,562,500"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a30be6a36ef6718b50d7dec30a3192a06" title="Triggers a time out and shuts down the cluster if a timeout is violated." alt="" coords="655,541,835,581"/>
<area shape="poly" title=" " alt="" coords="514,515,642,539,641,544,513,520"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a3ce812fcc9b65faa8fe4c0101d43039b" title="Writes a warning if relevant." alt="" coords="643,605,846,645"/>
<area shape="poly" title=" " alt="" coords="540,515,563,527,579,543,588,560,596,576,611,591,632,602,629,607,608,595,591,579,583,562,575,546,560,532,537,520"/>
<area shape="rect" href="../../d4/df5/classtarch_1_1multicore_1_1RecursiveLock.html#aed01fe13fe4c18031154be6ad8f96c70" title=" " alt="" coords="936,733,1133,773"/>
<area shape="poly" title=" " alt="" coords="880,751,922,751,922,756,880,756"/>
<area shape="poly" title=" " alt="" coords="549,579,563,592,585,624,593,658,591,692,585,725,579,758,578,789,587,819,611,847,645,872,678,890,711,900,744,903,776,899,810,889,843,871,878,848,890,823,907,768,951,600,1025,280,1030,281,956,601,912,769,895,825,882,851,846,876,812,894,778,905,744,908,710,905,676,895,642,877,608,851,583,822,573,790,574,757,580,724,586,691,588,658,581,626,559,595,545,584"/>
<area shape="poly" title=" " alt="" coords="540,579,563,591,579,607,588,624,596,640,611,655,645,672,643,676,608,660,591,643,583,626,575,610,560,596,537,584"/>
<area shape="poly" title=" " alt="" coords="546,579,563,591,577,607,584,624,588,657,592,689,598,704,611,719,617,724,613,728,607,723,594,707,587,691,583,657,579,625,573,610,560,595,543,584"/>
<area shape="poly" title=" " alt="" coords="537,539,560,527,575,512,583,496,591,479,608,463,621,455,624,460,611,467,596,482,588,499,579,516,563,532,540,544"/>
<area shape="poly" title=" " alt="" coords="513,539,625,517,626,522,514,544"/>
<area shape="poly" title=" " alt="" coords="553,559,641,559,641,564,553,564"/>
<area shape="poly" title=" " alt="" coords="514,579,631,601,630,606,513,584"/>
<area shape="rect" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a335aba25eb0153590659ae48d7f6eb71" title="In DaStGen (the first version), I had a non&#45;static version of the send as well as the receive." alt="" coords="621,797,869,837"/>
<area shape="poly" title=" " alt="" coords="548,579,563,591,581,615,589,640,591,665,588,689,586,714,587,737,594,761,611,784,615,787,612,791,607,787,590,763,582,738,581,713,583,689,585,665,584,641,577,618,559,595,544,584"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a4c99275a5fd270dce1999818063bd802_icgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a4c99275a5fd270dce1999818063bd802_icgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a4c99275a5fd270dce1999818063bd802_icgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a4c99275a5fd270dce1999818063bd802_icgraph">
<area shape="rect" title="Split a local tree." alt="" coords="511,55,711,95"/>
<area shape="rect" href="../../d6/d10/benchmarks_2peano4_2regulargridupscaling_2main_8cpp.html#a716631ca95d6176da3ed3886635e801e" title=" " alt="" coords="309,5,400,31"/>
<area shape="poly" title=" " alt="" coords="507,55,400,31,401,25,508,50"/>
<area shape="rect" href="../../d2/d15/classtoolbox_1_1loadbalancing_1_1LoadBalancer.html#a08bc93d4cb27b706ed061ec21221504f" title=" " alt="" coords="255,55,454,95"/>
<area shape="poly" title=" " alt="" coords="497,78,454,78,454,73,497,73"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#afb23acec2020d4e200db02706a503133" title=" " alt="" coords="247,120,463,145"/>
<area shape="poly" title=" " alt="" coords="508,101,413,123,412,117,507,96"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a63ad06a0041cb535df105cf2f445a73c" title=" " alt="" coords="108,120,199,145"/>
<area shape="poly" title=" " alt="" coords="233,135,199,135,199,130,233,130"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,120,60,145"/>
<area shape="poly" title=" " alt="" coords="94,135,60,135,60,130,94,130"/>
</map>
</div>

</div>
</div>
<a id="afd4e97d37b0898c277cf60b0c104ba82" name="afd4e97d37b0898c277cf60b0c104ba82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd4e97d37b0898c277cf60b0c104ba82">&#9670;&#160;</a></span>streamDataFromJoiningTreeToMasterTree()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Container &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> peano4::parallel::SpacetreeSet::streamDataFromJoiningTreeToMasterTree </td>
          <td>(</td>
          <td class="paramtype">Container &amp;</td>          <td class="paramname"><span class="paramname"><em>stackContainer</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a></td>          <td class="paramname"><span class="paramname"><em>master</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a></td>          <td class="paramname"><span class="paramname"><em>worker</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d1e/SpacetreeSet_8cpph_source.html#l00012">12</a> of file <a class="el" href="../../d7/d1e/SpacetreeSet_8cpph_source.html">SpacetreeSet.cpph</a>.</p>

</div>
</div>
<a id="af2db839ebe2f009b8a85bfe328eb6fa0" name="af2db839ebe2f009b8a85bfe328eb6fa0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2db839ebe2f009b8a85bfe328eb6fa0">&#9670;&#160;</a></span>streamDataFromSplittingTreesToNewTrees()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> peano4::parallel::SpacetreeSet::streamDataFromSplittingTreesToNewTrees </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html">peano4::grid::TraversalObserver</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>observer</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy the data from a splitting tree onto its new workers. </p>
<p>When we split a tree, we realise this split in two grid sweeps where the second sweep breaks up the traversal into three logical substeps. In the first sweep, the splitting master tells everybody around that it will split. No split is done though. After this first sweep, the grid data structure is replicated on the new worker. Please note that we only replicate the grid, i.e. there's no user information associated with it yet.</p>
<p>In the second sweep, the master still "owns" all data, i.e. it receives all boundary data and merges it in. However, it does not send out boundary data anymore. Instead, it takes all data that should go over to the new worker and dumps it in the vertical data exchange stack. That's part one of the second sweep. Part two means that the new worker runs through its mesh for the first time and incorporates all the streamed user data. After that, we have to run through the grid one more time on the worker (without any action) to get all the data into the right order.</p>
<h2><a class="anchor" id="autotoc_md149"></a>
Vertex grid data</h2>
<p>The copying of the whole tree data is literally a copying of the output stack of the master. It happens after the master has finished its splitting traversal. <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html#acc6197067d18531527465392bce7e3c0">peano4::grid::Spacetree::traverse()</a> does invert the traversal direction in an epilogue automatically. Therefore, by the time we hit this routine, we have to copy over the input stack - it is already in the right order for the "counter"- traversal.</p>
<p>We always have to invoke the data exchange for both the master and the worker, i.e. we call it twice. This way, we invoke the data exchange on the destination rank (MPI receive) and on the source rank (MPI send). For a single-node split, the second invocation degenerates to nop automatically. See <a class="el" href="#a1ef581ef75460202f1af9fa5c2ad7bfc" title="Copies (streams) data from the master to the worker.">streamDataFromSplittingTreeToNewTree()</a> which implements a simple emptyness check.</p>
<h2><a class="anchor" id="autotoc_md150"></a>
User data</h2>
<p>It is only the vertex grid data that is copied over in one rush prior to the splitting state. User data is streamed within the splitting state. See Spacetree::sendUserData(). The latter routine dumps data in the vertical data exchange stacks, and these stacks subsequently are then transferred over by the present routine, too.</p>
<h2><a class="anchor" id="autotoc_md151"></a>
Stack types</h2>
<p>All the routines copy over the stream stack data, i.e. the stacks for the vertical data exchange. It is hence important to recognise that the normal stacks are not transferred.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a1ef581ef75460202f1af9fa5c2ad7bfc" title="Copies (streams) data from the master to the worker.">streamDataFromSplittingTreeToNewTree()</a> </dd>
<dd>
<a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html#a1b1398413e236a31626e82abcf2e8432" title="Send user data.">peano4::grid::Spacetree::sendUserData()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00367">367</a> of file <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html">SpacetreeSet.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html#l00347">_clonedObserver</a>, <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html#l00328">_spacetrees</a>, <a class="el" href="../../d1/d2e/Spacetree_8h_source.html#l00152">peano4::grid::Spacetree::_vertexStack</a>, <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01020">assertion3</a>, <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00267">createObserverCloneIfRequired()</a>, <a class="el" href="../../db/d67/HierarchicalStackMap_8h_source.html#l00132">peano4::maps::HierarchicalStackMap&lt; T &gt;::empty()</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37cae2e6f897d049a5a191850fa42b37cf2a">peano4::grid::EmptyRun</a>, <a class="el" href="../../d7/d1e/SpacetreeSet_8cpph_source.html#l00130">finishAllOutstandingSendsAndReceives()</a>, <a class="el" href="../../db/d67/HierarchicalStackMap_8h_source.html#l00142">peano4::maps::HierarchicalStackMap&lt; T &gt;::getForPush()</a>, <a class="el" href="../../d2/d19/PeanoCurve_8cpp_source.html#l00135">peano4::grid::PeanoCurve::getInputStackNumber()</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00188">peano4::parallel::Node::getOutputStackNumberForVerticalDataExchange()</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00370">logTraceInWith1Argument</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00379">logTraceOut</a>, and <a class="el" href="../../d7/d1e/SpacetreeSet_8cpph_source.html#l00022">streamDataFromSplittingTreeToNewTree()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00461">traverse()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_af2db839ebe2f009b8a85bfe328eb6fa0_cgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_af2db839ebe2f009b8a85bfe328eb6fa0_cgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_af2db839ebe2f009b8a85bfe328eb6fa0_cgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_af2db839ebe2f009b8a85bfe328eb6fa0_cgraph">
<area shape="rect" title="Copy the data from a splitting tree onto its new workers." alt="" coords="5,431,255,486"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a724bef1107e37df70598bd2a927b4905" title="Quick lookup whether an observer clone for this tree id does already exist." alt="" coords="303,37,557,77"/>
<area shape="poly" title=" " alt="" coords="136,430,157,369,190,287,238,199,268,157,301,119,328,98,358,81,360,85,331,102,305,123,272,160,243,202,195,289,162,370,141,432"/>
<area shape="rect" href="../../de/d6d/classpeano4_1_1maps_1_1HierarchicalStackMap.html#aa045c54eab4e52aec02116c588d54827" title=" " alt="" coords="330,133,530,173"/>
<area shape="poly" title=" " alt="" coords="156,429,397,182,401,185,160,433"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#acf3a3df78d8d68b8d7763a0ce25a2544" title="This routine finishes all the sends and receives that are still active, i.e." alt="" coords="623,313,869,367"/>
<area shape="poly" title=" " alt="" coords="244,429,302,416,609,360,610,365,303,421,246,434"/>
<area shape="rect" href="../../de/d6d/classpeano4_1_1maps_1_1HierarchicalStackMap.html#a55d68bb6e0ec644c8419c81e92507feb" title="Get the stack belonging to a tree." alt="" coords="330,625,530,665"/>
<area shape="poly" title=" " alt="" coords="156,485,219,549,260,582,304,611,318,618,316,623,301,616,256,587,215,553,153,488"/>
<area shape="rect" href="../../d5/d2c/classpeano4_1_1grid_1_1PeanoCurve.html#a1d6c56c753308d4bd4100d23fc164ac8" title=" " alt="" coords="335,561,525,601"/>
<area shape="poly" title=" " alt="" coords="183,484,240,512,304,540,344,555,342,560,302,545,238,517,181,488"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a8e3b4ea37d72a26fc5a3a07ec565ba12" title=" " alt="" coords="620,713,872,767"/>
<area shape="poly" title=" " alt="" coords="252,483,303,495,343,501,378,502,440,501,469,503,498,510,528,524,559,547,575,566,582,585,585,624,587,662,593,680,607,698,612,703,609,707,603,702,589,683,581,663,579,624,577,586,570,569,555,551,525,528,496,515,468,508,440,506,378,508,342,506,302,500,251,489"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a1ef581ef75460202f1af9fa5c2ad7bfc" title="Copies (streams) data from the master to the worker." alt="" coords="309,431,551,486"/>
<area shape="poly" title=" " alt="" coords="255,456,295,456,295,461,255,461"/>
<area shape="rect" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html#a856511702ac2d89d35efb761b1c3a7f6" title=" " alt="" coords="631,5,861,45"/>
<area shape="poly" title=" " alt="" coords="557,42,617,36,618,41,558,47"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0" title=" " alt="" coords="661,133,831,173"/>
<area shape="poly" title=" " alt="" coords="530,151,648,151,648,156,530,156"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a426860ede252fd2c044bdfda9f973d79" title=" " alt="" coords="661,69,831,109"/>
<area shape="poly" title=" " alt="" coords="529,131,647,107,648,112,530,136"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd" title="This operation returns the singleton instance." alt="" coords="963,206,1177,231"/>
<area shape="poly" title=" " alt="" coords="832,100,888,119,913,136,936,155,1025,198,1022,203,933,160,910,141,885,124,830,105"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a2edb0017914edf9df4b6a0bfbf3a2890" title=" " alt="" coords="965,105,1175,145"/>
<area shape="poly" title=" " alt="" coords="831,96,951,109,951,115,831,101"/>
<area shape="poly" title=" " alt="" coords="847,310,885,291,899,279,908,266,918,254,933,242,951,233,954,238,936,246,921,257,912,270,903,283,888,296,850,315"/>
<area shape="rect" href="../../d6/d75/classtarch_1_1services_1_1ServiceRepository.html#a6a3a85cf6082b5f2711cf046176cd42c" title=" " alt="" coords="983,448,1157,488"/>
<area shape="poly" title=" " alt="" coords="865,365,888,378,904,392,913,407,921,421,936,434,971,450,969,454,933,438,917,424,908,410,900,396,885,382,862,370"/>
<area shape="rect" href="../../d6/d75/classtarch_1_1services_1_1ServiceRepository.html#a4218d43659ffc951ee3b1c6eab7532bc" title="Answer to MPI Messages." alt="" coords="935,512,1205,552"/>
<area shape="poly" title=" " alt="" coords="871,365,888,378,901,393,909,409,913,440,917,470,924,484,936,498,942,502,939,507,933,502,920,487,912,472,908,441,903,410,897,396,885,382,868,370"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a4785132af638891e2c7aed3fb7dede8b" title=" " alt="" coords="961,576,1179,616"/>
<area shape="poly" title=" " alt="" coords="871,364,889,378,906,402,913,425,915,449,913,473,911,496,913,518,920,540,937,562,951,573,947,577,933,566,915,543,907,519,906,496,908,472,909,449,908,426,901,404,885,382,868,368"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a34d9ac947c0789391d0dd0a255db6f65" title="Memorise global timeout." alt="" coords="961,256,1179,296"/>
<area shape="poly" title=" " alt="" coords="869,313,954,296,955,301,870,318"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a30be6a36ef6718b50d7dec30a3192a06" title="Triggers a time out and shuts down the cluster if a timeout is violated." alt="" coords="980,320,1160,360"/>
<area shape="poly" title=" " alt="" coords="870,337,966,337,966,343,870,343"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a3ce812fcc9b65faa8fe4c0101d43039b" title="Writes a warning if relevant." alt="" coords="969,384,1171,424"/>
<area shape="poly" title=" " alt="" coords="870,362,956,379,955,384,869,367"/>
<area shape="rect" href="../../d4/df5/classtarch_1_1multicore_1_1RecursiveLock.html#aed01fe13fe4c18031154be6ad8f96c70" title=" " alt="" coords="1253,512,1451,552"/>
<area shape="poly" title=" " alt="" coords="1206,529,1240,529,1240,535,1206,535"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#afe7169749132d1a071e603c42b0ea96a" title=" " alt="" coords="961,769,1179,809"/>
<area shape="poly" title=" " alt="" coords="527,591,559,611,575,633,582,655,582,699,581,721,582,741,590,760,607,778,651,805,700,822,751,832,803,836,855,834,905,828,992,810,993,815,906,833,856,839,803,841,750,838,698,828,649,810,604,782,586,763,577,742,575,721,577,699,577,656,570,635,556,615,524,596"/>
<area shape="poly" title=" " alt="" coords="438,430,460,377,495,310,542,241,571,210,604,183,647,163,649,168,607,188,575,214,547,244,499,313,465,379,443,432"/>
<area shape="poly" title=" " alt="" coords="451,429,514,362,557,327,604,298,979,231,980,236,606,302,560,331,518,366,455,433"/>
<area shape="poly" title=" " alt="" coords="536,484,559,504,576,529,584,554,585,579,583,604,581,628,583,651,590,675,607,698,612,702,608,706,603,702,586,677,577,652,576,628,578,603,580,579,579,555,571,531,555,507,532,488"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a2b2c1b7107d569367091d102a7f334e2" title="I use two tags per spacetree per rank: one for boundary data (horizontal) and one for up&#45;down and syn..." alt="" coords="605,584,887,624"/>
<area shape="poly" title=" " alt="" coords="526,484,559,503,575,521,583,538,591,555,607,570,617,576,614,580,604,574,587,558,578,541,571,524,556,507,523,488"/>
<area shape="rect" href="../../d5/d2c/classpeano4_1_1grid_1_1PeanoCurve.html#aa413b2eadcda55d64ea2915d82a16ffc" title=" " alt="" coords="651,648,841,688"/>
<area shape="poly" title=" " alt="" coords="533,484,559,503,572,521,579,538,583,571,587,604,594,619,607,634,640,653,637,658,604,638,589,622,582,605,578,572,574,539,568,523,555,507,530,488"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a47bc7f10fa1fa287bf94138032e9716b" title="You hand in a tree number and the node tells you on which rank such a tree is hosted." alt="" coords="661,197,831,237"/>
<area shape="poly" title=" " alt="" coords="445,430,471,390,507,343,552,295,604,254,647,233,650,238,607,258,556,299,511,346,475,393,450,433"/>
<area shape="rect" href="../../dd/dce/structtarch_1_1mpi_1_1IntegerMessage.html#a69937a8c69cf8d2044f35f07dcf7ab9e" title=" " alt="" coords="646,456,846,496"/>
<area shape="poly" title=" " alt="" coords="552,463,632,467,632,472,551,468"/>
<area shape="rect" href="../../dd/dce/structtarch_1_1mpi_1_1IntegerMessage.html#a8bf8f550d0be2be3ab40dbe7434c7310" title=" " alt="" coords="621,520,871,560"/>
<area shape="poly" title=" " alt="" coords="525,483,606,505,642,514,640,519,605,511,524,489"/>
<area shape="rect" href="../../dd/dce/structtarch_1_1mpi_1_1IntegerMessage.html#ade441c64dbcff27b529ddc1607f9788a" title="In DaStGen (the first version), I had a non&#45;static version of the send as well as the receive." alt="" coords="646,392,846,432"/>
<area shape="poly" title=" " alt="" coords="551,438,632,426,632,431,552,443"/>
<area shape="rect" href="../../d1/da7/RefinementControl_8cpp.html#a10fbfa607702e35cf41b838edab3f814" title=" " alt="" coords="1033,705,1107,730"/>
<area shape="poly" title=" " alt="" coords="863,622,888,634,904,648,913,663,921,677,936,690,977,706,1020,713,1019,719,976,711,933,694,917,680,908,666,900,651,885,638,861,626"/>
<area shape="poly" title=" " alt="" coords="842,680,888,698,903,708,913,718,922,729,936,739,986,762,984,767,933,744,919,733,909,722,900,712,885,702,840,685"/>
<area shape="poly" title=" " alt="" coords="831,215,949,216,949,221,831,220"/>
<area shape="poly" title=" " alt="" coords="830,197,886,183,999,147,1000,152,887,188,832,202"/>
<area shape="poly" title=" " alt="" coords="870,518,885,506,906,474,914,442,913,409,907,376,902,342,901,309,909,275,933,242,949,230,952,234,937,246,914,277,906,309,907,342,913,375,919,409,920,443,911,476,889,510,874,522"/>
<area shape="poly" title=" " alt="" coords="836,517,968,488,970,493,837,523"/>
<area shape="poly" title=" " alt="" coords="872,534,921,533,921,538,872,540"/>
<area shape="poly" title=" " alt="" coords="863,557,947,572,946,577,862,563"/>
<area shape="poly" title=" " alt="" coords="870,518,885,506,902,482,910,458,911,434,908,408,906,383,906,357,914,331,933,306,947,295,950,299,937,310,919,334,912,358,911,383,913,408,916,433,915,459,907,485,889,510,873,522"/>
<area shape="poly" title=" " alt="" coords="869,518,885,506,898,490,905,474,908,440,911,405,919,387,933,370,966,350,969,355,936,374,923,390,916,406,913,440,910,475,903,493,888,510,872,522"/>
<area shape="poly" title=" " alt="" coords="864,518,885,506,901,489,908,471,916,452,933,434,954,422,957,426,936,438,921,455,913,473,905,492,888,510,867,522"/>
<area shape="rect" href="../../dd/dce/structtarch_1_1mpi_1_1IntegerMessage.html#a9432e498ccba78dd6a5d832329b53f3c" title=" " alt="" coords="970,640,1170,680"/>
<area shape="poly" title=" " alt="" coords="863,558,888,570,904,584,913,599,921,613,936,626,959,637,956,642,933,630,917,616,908,601,900,587,885,574,861,562"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_af2db839ebe2f009b8a85bfe328eb6fa0_icgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_af2db839ebe2f009b8a85bfe328eb6fa0_icgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_af2db839ebe2f009b8a85bfe328eb6fa0_icgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_af2db839ebe2f009b8a85bfe328eb6fa0_icgraph">
<area shape="rect" title="Copy the data from a splitting tree onto its new workers." alt="" coords="495,40,744,95"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#af3302644e7f7848b653167f1502f3554" title="Invoke traverse on all spacetrees in parallel." alt="" coords="247,47,447,87"/>
<area shape="poly" title=" " alt="" coords="481,70,447,70,447,65,481,65"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a63ad06a0041cb535df105cf2f445a73c" title=" " alt="" coords="108,5,199,31"/>
<area shape="poly" title=" " alt="" coords="254,46,198,32,199,27,255,41"/>
<area shape="rect" href="../../d6/d10/benchmarks_2peano4_2regulargridupscaling_2main_8cpp.html#a716631ca95d6176da3ed3886635e801e" title=" " alt="" coords="108,55,199,80"/>
<area shape="poly" title=" " alt="" coords="233,70,199,70,199,65,233,65"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#ac6bf1a12c5c98ddec5b65e07fe74cabe" title=" " alt="" coords="128,104,179,129"/>
<area shape="poly" title=" " alt="" coords="255,93,179,113,178,108,254,88"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,104,60,129"/>
<area shape="poly" title=" " alt="" coords="114,119,60,119,60,114,114,114"/>
</map>
</div>

</div>
</div>
<a id="a1ef581ef75460202f1af9fa5c2ad7bfc" name="a1ef581ef75460202f1af9fa5c2ad7bfc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ef581ef75460202f1af9fa5c2ad7bfc">&#9670;&#160;</a></span>streamDataFromSplittingTreeToNewTree()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Container &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> peano4::parallel::SpacetreeSet::streamDataFromSplittingTreeToNewTree </td>
          <td>(</td>
          <td class="paramtype">Container &amp;</td>          <td class="paramname"><span class="paramname"><em>stackContainer</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a></td>          <td class="paramname"><span class="paramname"><em>master</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a></td>          <td class="paramname"><span class="paramname"><em>worker</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copies (streams) data from the master to the worker. </p>
<p>These are complete copies of the data set as we know that both trees afterwards will coarsen their mesh and thus free resources.</p>
<p>Invoked by user code from <a class="el" href="#a1ef581ef75460202f1af9fa5c2ad7bfc" title="Copies (streams) data from the master to the worker.">streamDataFromSplittingTreeToNewTree()</a> and by spacetree set through <a class="el" href="#af2db839ebe2f009b8a85bfe328eb6fa0" title="Copy the data from a splitting tree onto its new workers.">SpacetreeSet::streamDataFromSplittingTreesToNewTrees()</a>. <a class="el" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html" title="The spacetree set has to be a singleton, as it is reponsible to accept requests for new trees from re...">SpacetreeSet</a> runs over the set of trees with the label EmptyRun, i.e. those that haven't done any iteration yet. It then invokes this routine (indirectly) on the master. That is, even if you are on a rank where the master does not exist, the code will temporarily create an observer for the master and then ask this observer to trigger the data exchange.</p>
<p>We have to trigger the routine multiple times, to ensure we catch both the on-rank and the between-rank case. As a consequence, we may only stream if the destination stack is still empty.</p>
<p>All data that are streamed are clones of the original data. These clones are created by <a class="el" href="#af2db839ebe2f009b8a85bfe328eb6fa0" title="Copy the data from a splitting tree onto its new workers.">peano4::parallel::SpacetreeSet::streamDataFromSplittingTreesToNewTrees()</a> before we trigger this routine.</p>
<h2><a class="anchor" id="autotoc_md147"></a>
On-rank realisation</h2>
<p>If source and destination rank are the same, a tree splits up into two trees both residing on the same MPI rank. We therefore simply copy the stream. As this routine is invoked on the master, it is the master that creates the stream on the worker and befills it.</p>
<p>Please note that in this particular case, the routine is called twice: We call it per rank for the splitting trees and then for the empty ones. The second call however degenerates to nop.</p>
<p>Where to the clones happen?</p>
<h2><a class="anchor" id="autotoc_md148"></a>
Data exchange between different ranks</h2>
<p>If the master rank is the local guy, then we have to trigger a send. Otherwise, we trigger a receive. The message exchange consists of two phases. An integer message first is exchanged. It carries the number of messages. After that, I send out the actual data.</p>
<p>We don't have to finish any sends, i.e. wait for Isends or Irecvs. <a class="el" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html" title="The spacetree set has to be a singleton, as it is reponsible to accept requests for new trees from re...">SpacetreeSet</a> will call <a class="el" href="#acf3a3df78d8d68b8d7763a0ce25a2544" title="This routine finishes all the sends and receives that are still active, i.e.">finishAllOutstandingSendsAndReceives()</a> later on.</p>
<p>The routine is idempotent on a single rank, i.e. you can call it multiple times. Only the first one will copy, all the others will become nop. It is not idempotent in a parallel sense. It has to be idempotent, as I indeed have to call it twice in a distributed memory environment: I have to call it on the receiver side and on the sender side.</p>
<h2>Data ownership </h2>
<p>The routine solely accesses vertical/stream stacks, i.e. checks getOutputStackNumberForVerticalDataExchange(). That is, we assume that all data are ready to be streamed out. For user data, the spacetree's <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html#a1b1398413e236a31626e82abcf2e8432" title="Send user data.">peano4::grid::Spacetree::sendUserData()</a> will deposit all outgoing user data in the respective output buffers. That is, by the time we hit <a class="el" href="#a1ef581ef75460202f1af9fa5c2ad7bfc" title="Copies (streams) data from the master to the worker.">streamDataFromSplittingTreeToNewTree()</a>, all user data is already in a (temporary) output stream. For the actual tree data, we have to deposit it there manually. This happens in <a class="el" href="#af2db839ebe2f009b8a85bfe328eb6fa0" title="Copy the data from a splitting tree onto its new workers.">peano4::parallel::SpacetreeSet::streamDataFromSplittingTreesToNewTrees()</a>.</p>
<p>If we send out data via MPI, I assume that the data resides within a bespoke buffer. tryToFinishSendOrReceive() after all clears the buffer once it has gone out. So it is kind of safe to deposit data in a temporary buffer once. The send implicitly will clear it. After that, the garbage collection will eventually really free the underlying memory.</p>
<p>If the target tree and the destination tree reside on the same rank, this routine does a plain copy-over. In this case, we have to delete the (temporary) stack that is used to stream out stuff after the copy. Otherwise, it will be dead memory in the code. Even worse, should the source tree later on stream once again to the same tree - as the tree meanwhile has degenerated or fused back into the master code - then we get a memory corruption as you can't clone into an existing stack.</p>
<p>In <a class="el" href="#af2db839ebe2f009b8a85bfe328eb6fa0" title="Copy the data from a splitting tree onto its new workers.">peano4::parallel::SpacetreeSet::streamDataFromSplittingTreesToNewTrees()</a> we might copy data multiple times if we immediately erase it after the clone. Therefore, I check per call (the function is called twice) whether the target buffer is empty. If so, I copy over. In any case, teh source buffer is deleted if it is not empty - even though I have not cloned it in the second step. This is kind of a hack, but no better one comes to my mind. The whole discussion is not relevant for inter-rank communication as we know that the buffer won't be deleted before the data has not been sent out - which is only once for the whole cycle. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d1e/SpacetreeSet_8cpph_source.html#l00022">22</a> of file <a class="el" href="../../d7/d1e/SpacetreeSet_8cpph_source.html">SpacetreeSet.cpph</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01076">assertionMsg</a>, <a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html#a3504d372e0af2124da7c2309c63fab96abe4c9bf8c911fc19b6217e7f681b2a7f">peano4::grid::TraversalObserver::ForkDomain</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00447">peano4::parallel::Node::getGridDataExchangeMetaInformation()</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00077">peano4::parallel::Node::getInstance()</a>, <a class="el" href="../../d5/dcd/Rank_8cpp_source.html#l00525">tarch::mpi::Rank::getInstance()</a>, <a class="el" href="../../d2/d19/PeanoCurve_8cpp_source.html#l00140">peano4::grid::PeanoCurve::getOutputStackNumber()</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00188">peano4::parallel::Node::getOutputStackNumberForVerticalDataExchange()</a>, <a class="el" href="../../db/d92/Node_8h_source.html#l00101">peano4::parallel::Node::getRank()</a>, <a class="el" href="../../d6/dd3/IntegerMessage_8cpp_source.html#l00028">tarch::mpi::IntegerMessage::getValue()</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00050">logDebug</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00371">logTraceInWith2Arguments</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00381">logTraceOutWith2Arguments</a>, <a class="el" href="../../d6/dd3/IntegerMessage_8cpp_source.html#l00269">tarch::mpi::IntegerMessage::receiveAndPollDanglingMessages()</a>, <a class="el" href="../../d6/dd3/IntegerMessage_8cpp_source.html#l00197">tarch::mpi::IntegerMessage::send()</a>, and <a class="el" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a6bc5f34e5e6544e431fc2b7110403a6da792b1423273535157b65c92bb8725662">peano4::parallel::Node::VerticalData</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00367">streamDataFromSplittingTreesToNewTrees()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a1ef581ef75460202f1af9fa5c2ad7bfc_cgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a1ef581ef75460202f1af9fa5c2ad7bfc_cgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a1ef581ef75460202f1af9fa5c2ad7bfc_cgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a1ef581ef75460202f1af9fa5c2ad7bfc_cgraph">
<area shape="rect" title="Copies (streams) data from the master to the worker." alt="" coords="5,262,248,317"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a2b2c1b7107d569367091d102a7f334e2" title="I use two tags per spacetree per rank: one for boundary data (horizontal) and one for up&#45;down and syn..." alt="" coords="296,5,577,45"/>
<area shape="poly" title=" " alt="" coords="137,261,160,215,195,159,239,103,266,77,295,55,305,49,307,54,297,60,269,81,243,106,199,162,165,218,142,263"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0" title=" " alt="" coords="352,69,521,109"/>
<area shape="poly" title=" " alt="" coords="145,260,206,189,248,151,295,119,338,102,340,107,297,124,251,155,210,193,149,264"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd" title="This operation returns the singleton instance." alt="" coords="654,270,867,295"/>
<area shape="poly" title=" " alt="" coords="230,314,296,325,375,335,437,340,499,338,577,325,601,316,624,305,663,296,665,301,626,311,603,321,578,331,499,343,437,345,375,340,296,331,230,319"/>
<area shape="rect" href="../../d5/d2c/classpeano4_1_1grid_1_1PeanoCurve.html#aa413b2eadcda55d64ea2915d82a16ffc" title=" " alt="" coords="342,133,531,173"/>
<area shape="poly" title=" " alt="" coords="163,259,223,220,295,183,328,171,330,177,297,188,226,224,166,264"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a8e3b4ea37d72a26fc5a3a07ec565ba12" title=" " alt="" coords="311,262,563,317"/>
<area shape="poly" title=" " alt="" coords="248,287,297,287,297,292,248,292"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a47bc7f10fa1fa287bf94138032e9716b" title="You hand in a tree number and the node tells you on which rank such a tree is hosted." alt="" coords="352,197,521,237"/>
<area shape="poly" title=" " alt="" coords="242,259,295,247,338,237,339,242,297,252,243,265"/>
<area shape="rect" href="../../dd/dce/structtarch_1_1mpi_1_1IntegerMessage.html#a69937a8c69cf8d2044f35f07dcf7ab9e" title=" " alt="" coords="337,392,537,432"/>
<area shape="poly" title=" " alt="" coords="178,314,234,343,297,371,341,386,339,391,295,376,232,348,175,319"/>
<area shape="rect" href="../../dd/dce/structtarch_1_1mpi_1_1IntegerMessage.html#a8bf8f550d0be2be3ab40dbe7434c7310" title=" " alt="" coords="311,456,562,496"/>
<area shape="poly" title=" " alt="" coords="152,315,213,380,253,413,297,442,313,449,310,454,295,446,250,418,209,383,148,319"/>
<area shape="rect" href="../../dd/dce/structtarch_1_1mpi_1_1IntegerMessage.html#ade441c64dbcff27b529ddc1607f9788a" title="In DaStGen (the first version), I had a non&#45;static version of the send as well as the receive." alt="" coords="337,520,537,560"/>
<area shape="poly" title=" " alt="" coords="143,315,167,358,201,410,245,462,270,486,297,506,324,519,322,524,295,510,267,490,241,466,197,413,162,361,139,318"/>
<area shape="rect" href="../../d1/da7/RefinementControl_8cpp.html#a10fbfa607702e35cf41b838edab3f814" title=" " alt="" coords="724,13,797,38"/>
<area shape="poly" title=" " alt="" coords="578,23,710,23,710,28,578,28"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#afe7169749132d1a071e603c42b0ea96a" title=" " alt="" coords="652,133,869,173"/>
<area shape="poly" title=" " alt="" coords="531,151,638,151,638,156,531,156"/>
<area shape="poly" title=" " alt="" coords="522,232,684,265,683,270,521,237"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a2edb0017914edf9df4b6a0bfbf3a2890" title=" " alt="" coords="655,197,866,237"/>
<area shape="poly" title=" " alt="" coords="522,215,642,215,642,220,522,220"/>
<area shape="poly" title=" " alt="" coords="559,454,576,442,589,426,596,410,598,375,601,340,609,323,624,306,640,295,643,299,627,310,614,326,607,342,604,376,601,411,593,429,579,446,563,458"/>
<area shape="rect" href="../../d6/d75/classtarch_1_1services_1_1ServiceRepository.html#a6a3a85cf6082b5f2711cf046176cd42c" title=" " alt="" coords="673,576,848,616"/>
<area shape="poly" title=" " alt="" coords="554,494,579,506,595,520,604,535,612,549,627,562,661,578,659,582,624,566,608,552,599,537,591,523,576,510,552,498"/>
<area shape="rect" href="../../dd/dce/structtarch_1_1mpi_1_1IntegerMessage.html#a9432e498ccba78dd6a5d832329b53f3c" title=" " alt="" coords="661,640,861,680"/>
<area shape="poly" title=" " alt="" coords="562,494,579,506,592,521,600,536,604,568,608,598,615,612,627,626,649,640,647,645,624,630,610,615,603,599,599,568,595,538,588,524,576,510,559,498"/>
<area shape="rect" href="../../d6/d75/classtarch_1_1services_1_1ServiceRepository.html#a4218d43659ffc951ee3b1c6eab7532bc" title="Answer to MPI Messages." alt="" coords="625,704,896,744"/>
<area shape="poly" title=" " alt="" coords="564,494,579,506,597,529,605,553,606,577,604,600,602,623,604,646,611,668,627,690,631,694,628,698,623,694,606,671,598,647,597,623,599,600,601,576,599,554,592,532,575,510,560,498"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a4785132af638891e2c7aed3fb7dede8b" title=" " alt="" coords="651,320,870,360"/>
<area shape="poly" title=" " alt="" coords="555,454,576,442,592,425,599,407,607,388,624,370,638,361,640,366,627,374,611,391,604,409,596,428,579,446,557,458"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a34d9ac947c0789391d0dd0a255db6f65" title="Memorise global timeout." alt="" coords="651,384,870,424"/>
<area shape="poly" title=" " alt="" coords="527,453,656,424,657,430,528,459"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a30be6a36ef6718b50d7dec30a3192a06" title="Triggers a time out and shuts down the cluster if a timeout is violated." alt="" coords="671,448,851,488"/>
<area shape="poly" title=" " alt="" coords="562,470,657,468,657,473,562,476"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a3ce812fcc9b65faa8fe4c0101d43039b" title="Writes a warning if relevant." alt="" coords="659,512,862,552"/>
<area shape="poly" title=" " alt="" coords="554,493,646,510,645,515,553,499"/>
<area shape="rect" href="../../d4/df5/classtarch_1_1multicore_1_1RecursiveLock.html#aed01fe13fe4c18031154be6ad8f96c70" title=" " alt="" coords="944,704,1141,744"/>
<area shape="poly" title=" " alt="" coords="896,721,930,721,930,727,896,727"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a1ef581ef75460202f1af9fa5c2ad7bfc_icgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a1ef581ef75460202f1af9fa5c2ad7bfc_icgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a1ef581ef75460202f1af9fa5c2ad7bfc_icgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a1ef581ef75460202f1af9fa5c2ad7bfc_icgraph">
<area shape="rect" title="Copies (streams) data from the master to the worker." alt="" coords="792,40,1035,95"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#af2db839ebe2f009b8a85bfe328eb6fa0" title="Copy the data from a splitting tree onto its new workers." alt="" coords="495,40,744,95"/>
<area shape="poly" title=" " alt="" coords="778,70,744,70,744,65,778,65"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#af3302644e7f7848b653167f1502f3554" title="Invoke traverse on all spacetrees in parallel." alt="" coords="247,47,447,87"/>
<area shape="poly" title=" " alt="" coords="481,70,447,70,447,65,481,65"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a63ad06a0041cb535df105cf2f445a73c" title=" " alt="" coords="108,5,199,31"/>
<area shape="poly" title=" " alt="" coords="254,46,198,32,199,27,255,41"/>
<area shape="rect" href="../../d6/d10/benchmarks_2peano4_2regulargridupscaling_2main_8cpp.html#a716631ca95d6176da3ed3886635e801e" title=" " alt="" coords="108,55,199,80"/>
<area shape="poly" title=" " alt="" coords="233,70,199,70,199,65,233,65"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#ac6bf1a12c5c98ddec5b65e07fe74cabe" title=" " alt="" coords="128,104,179,129"/>
<area shape="poly" title=" " alt="" coords="255,93,179,113,178,108,254,88"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,104,60,129"/>
<area shape="poly" title=" " alt="" coords="114,119,60,119,60,114,114,114"/>
</map>
</div>

</div>
</div>
<a id="a378c585e77b2456ca8a6324605c7d8d5" name="a378c585e77b2456ca8a6324605c7d8d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a378c585e77b2456ca8a6324605c7d8d5">&#9670;&#160;</a></span>streamLocalVertexInformationToMasterThroughVerticalStacks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> peano4::parallel::SpacetreeSet::streamLocalVertexInformationToMasterThroughVerticalStacks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a></td>          <td class="paramname"><span class="paramname"><em>spacetreeId</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a></td>          <td class="paramname"><span class="paramname"><em>parentId</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> std::set&lt; <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>joiningIds</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whenever we join two partitions, we have to stream data from the worker to the master. </p>
<p>In principle, I could omit this, as I realise a `&lsquo;only degenerated trees may join&rsquo;' policy. However, it can happen that a tree joins while other trees split or have split or join as well. While we run through the joining phase, these other ranks have sent their updated info to the worker that is about to join. The master that will hold the data in the future is not aware (yet) of any topology changes. Therefore, it is important that the worker still merges all incoming information into its local tree and then forwards it (streams it) to its master. The master in turn has to traverse later (in a secondary tree traversal) and take this updated topological information into account. This is a stream operation. Therefore, we not only have to exchange stacks, we also have to revert them to transform the stack into a stream.</p>
<p>All of this painful stuff is done for the vertex data only. For the user data, we can rely on our traditional vertical data exchange mechanisms.</p>
<dl class="section see"><dt>See also</dt><dd>peano4::stacks::STDVectorStack::revert() </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00278">278</a> of file <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html">SpacetreeSet.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d45/Log_8h_source.html#l00371">logTraceInWith2Arguments</a>, and <a class="el" href="../../d1/d45/Log_8h_source.html#l00379">logTraceOut</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00338">exchangeVerticalDataBetweenTrees()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a378c585e77b2456ca8a6324605c7d8d5_icgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a378c585e77b2456ca8a6324605c7d8d5_icgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a378c585e77b2456ca8a6324605c7d8d5_icgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_a378c585e77b2456ca8a6324605c7d8d5_icgraph">
<area shape="rect" title="Whenever we join two partitions, we have to stream data from the worker to the master." alt="" coords="828,40,1077,95"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a0fa99ca041b01b58cf60f5b738305913" title=" " alt="" coords="495,47,780,87"/>
<area shape="poly" title=" " alt="" coords="814,70,780,70,780,65,814,65"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#af3302644e7f7848b653167f1502f3554" title="Invoke traverse on all spacetrees in parallel." alt="" coords="247,47,447,87"/>
<area shape="poly" title=" " alt="" coords="481,70,447,70,447,65,481,65"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a63ad06a0041cb535df105cf2f445a73c" title=" " alt="" coords="108,5,199,31"/>
<area shape="poly" title=" " alt="" coords="254,46,198,32,199,27,255,41"/>
<area shape="rect" href="../../d6/d10/benchmarks_2peano4_2regulargridupscaling_2main_8cpp.html#a716631ca95d6176da3ed3886635e801e" title=" " alt="" coords="108,55,199,80"/>
<area shape="poly" title=" " alt="" coords="233,70,199,70,199,65,233,65"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#ac6bf1a12c5c98ddec5b65e07fe74cabe" title=" " alt="" coords="128,104,179,129"/>
<area shape="poly" title=" " alt="" coords="255,93,179,113,178,108,254,88"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,104,60,129"/>
<area shape="poly" title=" " alt="" coords="114,119,60,119,60,114,114,114"/>
</map>
</div>

</div>
</div>
<a id="a52d375caeb0aebcc234424b2392dfc97" name="a52d375caeb0aebcc234424b2392dfc97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52d375caeb0aebcc234424b2392dfc97">&#9670;&#160;</a></span>toString()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string peano4::parallel::SpacetreeSet::toString </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a14dae8c91a482bf3cd7e433f3975f0c0">SpacetreeSetState</a></td>          <td class="paramname"><span class="paramname"><em>state</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00067">67</a> of file <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html">SpacetreeSet.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d31/GridTraversalEventGeneratorTest_8cpp_source.html#l00146">state</a>.</p>

</div>
</div>
<a id="af3302644e7f7848b653167f1502f3554" name="af3302644e7f7848b653167f1502f3554"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3302644e7f7848b653167f1502f3554">&#9670;&#160;</a></span>traverse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> peano4::parallel::SpacetreeSet::traverse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html">peano4::grid::TraversalObserver</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>observer</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Invoke traverse on all spacetrees in parallel. </p>
<h2>Sequence </h2>
<p>It is important that I don't answer to spacetree request messages while I am running through the spacetree set. Some of these request messages add further elements to the set. However, the set should remain invariant while I run through it. So I introduced the _state. See also _unansweredMessages.</p>
<p>So when I'm done with the local traversal, I have to ensure that all other sets have got their tree modifications through. That is: If another rank wants to insert a tree, that has to happen in the right traversal. As the other rank will wait for an acknowledgement of the addition, there is no risk that this rank has already proceeded wrongly into the next grid sweep. However, the target rank has to answer the request in the right one and may not proceed to early.</p>
<p>So I introduce a barrier. The barrier has to do two things: On the one hand, it has to receive dangling messages. On the other hand, it should answer messages that it has not answered before. In principle, this is indirectly done through <a class="el" href="#a804983160d3a6236ada166574dee659a" title="We poll the tree management messages.">receiveDanglingMessages()</a>. However, I played around with running the dangling thing if and only if iprobe tells me that there are new messages. So to be on the safe side, I rather invoke the answer routines manually here.</p>
<p>There are two options where to place the barrier: We could add it to the end of <a class="el" href="#af3302644e7f7848b653167f1502f3554" title="Invoke traverse on all spacetrees in parallel.">traverse()</a> or right after we've received the startup message. There are two different kinds of messages: messages that can be answered straightaway (give me a new rank) or others which can be answered only in-between iterations. If we add a barrier right at the begin of a traversal, then we are fine, as the typical split (asking for further ranks) arises in-between traversals. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00461">461</a> of file <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html">SpacetreeSet.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html#l00328">_spacetrees</a>, <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html#l00335">_state</a>, <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00077">answerQuestions()</a>, <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01076">assertionMsg</a>, <a class="el" href="../../d5/dcd/Rank_8cpp_source.html#l00351">tarch::mpi::Rank::barrier()</a>, <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00564">cleanUpTrees()</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00393">peano4::parallel::Node::continueToRun()</a>, <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00442">createNewTrees()</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00138">peano4::parallel::Node::createPendingCommunicators()</a>, <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00451">deleteClonedObservers()</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37cae2e6f897d049a5a191850fa42b37cf2a">peano4::grid::EmptyRun</a>, <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00400">exchangeHorizontalDataBetweenTrees()</a>, <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00338">exchangeVerticalDataBetweenTrees()</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00077">peano4::parallel::Node::getInstance()</a>, <a class="el" href="../../d5/dcd/Rank_8cpp_source.html#l00525">tarch::mpi::Rank::getInstance()</a>, <a class="el" href="../../de/d77/ServiceRepository_8cpp_source.html#l00032">tarch::services::ServiceRepository::getInstance()</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37ca7d50c09f1ad7d098e0a847bcdcab7efb">peano4::grid::Joined</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37caf6807db4ae3a5c82b99bced82a0ca92b">peano4::grid::Joining</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37cad0ffc089d13c7947ef0ab4fda4ad1dd3">peano4::grid::JoinTriggered</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00050">logDebug</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00369">logTraceIn</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00379">logTraceOut</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37ca09bce956ecf16a726820c33dc8fe3cc6">peano4::grid::NewFromSplit</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37ca42d4b80664fa5cf4266ffb09f3f4ca6c">peano4::grid::NewRoot</a>, <a class="el" href="../../de/d77/ServiceRepository_8cpp_source.html#l00079">tarch::services::ServiceRepository::receiveDanglingMessages()</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37ca5bda814c4aedb126839228f1a3d92f09">peano4::grid::Running</a>, <a class="el" href="../../d2/daa/multicore_8cpp_source.html#l00034">tarch::multicore::spawnTasks()</a>, <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00367">streamDataFromSplittingTreesToNewTrees()</a>, <a class="el" href="#a14dae8c91a482bf3cd7e433f3975f0c0a3da0a28b3e6866d48d179ae9717d739b">TraverseTreesAndExchangeData</a>, and <a class="el" href="#a14dae8c91a482bf3cd7e433f3975f0c0a5706de961fb376d701be6e7762d8b09c">Waiting</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp_source.html#l00194">runParallel()</a>, <a class="el" href="../../d6/d10/benchmarks_2peano4_2regulargridupscaling_2main_8cpp_source.html#l00047">runParallel()</a>, and <a class="el" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp_source.html#l00254">step()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_af3302644e7f7848b653167f1502f3554_cgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_af3302644e7f7848b653167f1502f3554_cgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_af3302644e7f7848b653167f1502f3554_cgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_af3302644e7f7848b653167f1502f3554_cgraph">
<area shape="rect" title="Invoke traverse on all spacetrees in parallel." alt="" coords="5,1664,205,1704"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a8103e3890b4eda9a1313e77158edd662" title="Run through the set of unanswered questions and, well, answer them." alt="" coords="658,283,858,323"/>
<area shape="poly" title=" " alt="" coords="105,1664,116,1553,140,1374,159,1269,184,1161,214,1052,251,947,321,772,353,701,387,638,425,578,472,518,530,454,602,383,645,351,691,326,694,331,648,355,606,387,534,458,476,521,430,581,391,641,358,704,326,774,256,949,219,1053,189,1162,165,1270,146,1375,121,1553,111,1664"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0" title=" " alt="" coords="1301,729,1470,769"/>
<area shape="poly" title=" " alt="" coords="105,1664,120,1482,149,1191,169,1034,193,888,220,762,235,712,251,671,315,539,379,429,446,336,481,295,520,258,560,225,604,193,703,138,820,90,959,45,1037,21,1103,4,1135,3,1166,9,1198,22,1232,46,1252,66,1270,95,1301,169,1326,262,1346,365,1372,569,1385,715,1379,716,1367,569,1341,366,1321,264,1296,171,1265,97,1248,70,1229,50,1196,27,1164,14,1134,9,1104,10,1039,26,961,50,822,95,705,143,607,198,563,229,523,262,485,299,450,339,383,431,320,542,256,673,240,713,225,764,198,889,174,1035,154,1191,125,1482,111,1664"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a61a8765012b4b650f0c35a8ece0927bd" title="This operation returns the singleton instance." alt="" coords="1279,1538,1492,1563"/>
<area shape="poly" title=" " alt="" coords="132,1662,185,1628,218,1612,253,1600,351,1578,435,1567,509,1565,580,1569,726,1589,912,1612,960,1619,1096,1631,1155,1631,1230,1619,1296,1596,1351,1568,1353,1573,1298,1601,1231,1624,1156,1636,1096,1637,960,1624,912,1617,726,1594,579,1574,509,1570,435,1573,352,1584,254,1605,220,1617,188,1632,134,1666"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#aa374695492af7dcea21449149001db89" title=" " alt="" coords="668,2250,848,2275"/>
<area shape="poly" title=" " alt="" coords="111,1704,120,1771,144,1864,162,1913,187,1961,217,2006,255,2043,294,2066,331,2074,368,2073,405,2067,442,2061,480,2060,519,2069,558,2094,573,2111,580,2129,583,2166,585,2202,592,2219,606,2235,629,2250,655,2259,654,2264,627,2254,602,2239,587,2222,580,2204,577,2167,575,2131,568,2114,554,2098,516,2074,480,2065,443,2066,406,2072,369,2078,331,2079,292,2071,252,2047,213,2009,182,1964,157,1915,138,1865,115,1772,106,1705"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#aa07efe0ea318000757b2acd065b0a8ba" title=" " alt="" coords="658,953,858,993"/>
<area shape="poly" title=" " alt="" coords="110,1663,128,1609,158,1533,199,1449,224,1407,251,1369,306,1306,366,1247,430,1191,494,1140,615,1056,708,998,711,1002,618,1060,497,1145,433,1195,370,1250,310,1310,255,1372,228,1410,203,1451,162,1535,133,1610,115,1665"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a8a93c14d54c30233541e6a10da2c0bde" title="You should call this operation only on the ranks &gt;0 to find out whether you should do more iteration/..." alt="" coords="320,1993,489,2033"/>
<area shape="poly" title=" " alt="" coords="118,1703,169,1800,209,1860,255,1915,302,1954,351,1984,348,1989,299,1958,251,1919,204,1863,165,1803,113,1705"/>
<area shape="rect" href="../../d6/d75/classtarch_1_1services_1_1ServiceRepository.html#a6a3a85cf6082b5f2711cf046176cd42c" title=" " alt="" coords="1008,1793,1183,1833"/>
<area shape="poly" title=" " alt="" coords="171,1661,311,1628,401,1612,500,1602,605,1599,710,1606,814,1627,865,1643,913,1663,931,1675,940,1690,948,1706,962,1722,1004,1756,1047,1784,1045,1788,1001,1760,958,1726,944,1709,936,1693,927,1679,911,1668,863,1648,813,1632,710,1612,605,1604,501,1607,402,1618,312,1633,172,1666"/>
<area shape="rect" href="../../d6/d75/classtarch_1_1services_1_1ServiceRepository.html#a4218d43659ffc951ee3b1c6eab7532bc" title="Answer to MPI Messages." alt="" coords="960,1857,1231,1897"/>
<area shape="poly" title=" " alt="" coords="206,1678,394,1675,614,1675,807,1684,875,1693,913,1707,929,1723,937,1740,940,1775,942,1811,949,1827,962,1843,967,1847,963,1851,958,1847,944,1830,937,1812,935,1775,932,1741,925,1726,911,1711,873,1699,806,1689,614,1680,394,1680,206,1683"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a18d9a6ada9314cb6a982fc1b5b2b82c6" title="This operation should be called pretty close towards the end of a traversal." alt="" coords="305,1383,505,1423"/>
<area shape="poly" title=" " alt="" coords="126,1662,371,1430,374,1434,130,1666"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a8184e84956133244ca1f9ef348516956" title=" " alt="" coords="645,397,871,437"/>
<area shape="poly" title=" " alt="" coords="108,1663,126,1589,157,1478,199,1348,251,1219,311,1098,377,978,447,861,517,752,643,567,731,447,735,450,648,570,521,755,452,864,382,980,316,1100,256,1221,204,1350,162,1479,131,1590,114,1664"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a6cbbb95e899ec85ae0473cf42c00f176" title=" " alt="" coords="303,2108,506,2148"/>
<area shape="poly" title=" " alt="" coords="110,1704,118,1777,140,1881,159,1937,184,1992,215,2043,255,2087,272,2100,292,2109,289,2114,269,2104,252,2091,211,2046,179,1994,154,1939,135,1882,113,1778,105,1705"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a994c91ffe58385d3c06f4d921bf43e81" title=" " alt="" coords="253,1721,556,1761"/>
<area shape="poly" title=" " alt="" coords="206,1700,287,1716,286,1721,205,1706"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a0fa99ca041b01b58cf60f5b738305913" title=" " alt="" coords="262,1865,547,1905"/>
<area shape="poly" title=" " alt="" coords="120,1703,142,1736,172,1777,210,1817,255,1851,267,1857,265,1862,252,1855,207,1821,168,1780,137,1739,116,1706"/>
<area shape="rect" href="../../d6/d43/namespacetarch_1_1multicore.html#a5f99102c05b0c83033c0e3a7b9e4e104" title=" " alt="" coords="299,2173,510,2198"/>
<area shape="poly" title=" " alt="" coords="109,1704,111,1789,117,1848,129,1912,147,1980,173,2045,208,2106,230,2133,255,2158,288,2176,285,2181,252,2162,226,2137,204,2109,168,2048,142,1981,123,1914,112,1848,106,1789,103,1704"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#af2db839ebe2f009b8a85bfe328eb6fa0" title="Copy the data from a splitting tree onto its new workers." alt="" coords="280,1786,529,1841"/>
<area shape="poly" title=" " alt="" coords="136,1702,190,1737,254,1771,275,1779,273,1784,252,1776,187,1741,133,1706"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#af6c8bbf40ce79043f17b4707ccadd73b" title=" " alt="" coords="968,290,1223,315"/>
<area shape="poly" title=" " alt="" coords="858,300,954,300,954,305,858,305"/>
<area shape="poly" title=" " alt="" coords="777,280,809,251,852,217,903,184,959,160,1037,134,1102,119,1134,118,1165,124,1198,138,1232,160,1249,177,1265,200,1293,261,1317,337,1337,421,1367,590,1383,715,1378,715,1362,590,1332,422,1312,338,1288,263,1260,203,1245,181,1229,165,1195,142,1164,129,1133,123,1103,124,1038,140,961,165,906,189,856,221,813,255,781,284"/>
<area shape="poly" title=" " alt="" coords="853,280,955,262,1067,250,1120,249,1167,252,1205,260,1232,275,1240,287,1247,307,1257,364,1271,522,1281,781,1339,1225,1383,1523,1377,1524,1334,1225,1276,781,1265,523,1252,364,1242,308,1236,290,1229,279,1203,265,1166,257,1120,254,1068,255,956,267,853,285"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#af987ccce2206d77462a6a652be654335" title=" " alt="" coords="987,175,1204,215"/>
<area shape="poly" title=" " alt="" coords="814,280,959,231,1008,216,1010,221,961,236,816,285"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a59bed030f4816c88a02ff326e7a0811c" title="This operation is not const as it does some internal bookkeeping." alt="" coords="1011,60,1180,100"/>
<area shape="poly" title=" " alt="" coords="774,280,848,201,901,155,959,116,996,99,999,104,961,121,904,160,852,205,778,284"/>
<area shape="rect" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a335aba25eb0153590659ae48d7f6eb71" title="In DaStGen (the first version), I had a non&#45;static version of the send as well as the receive." alt="" coords="971,340,1219,380"/>
<area shape="poly" title=" " alt="" coords="859,317,964,335,963,340,858,322"/>
<area shape="rect" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a8234a885ab8329a3d554bef233909545" title=" " alt="" coords="971,697,1219,737"/>
<area shape="poly" title=" " alt="" coords="826,320,874,345,896,363,914,384,935,425,942,464,940,503,933,540,928,576,927,612,937,647,962,683,965,687,961,690,958,687,932,650,922,612,922,576,928,539,935,502,937,465,930,426,910,387,892,367,871,350,823,325"/>
<area shape="rect" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a751e49c699fded29e8ea2bbb27ec085c" title=" " alt="" coords="971,825,1219,865"/>
<area shape="poly" title=" " alt="" coords="828,320,875,345,896,363,914,384,931,413,942,443,948,471,949,499,943,553,931,606,920,657,917,708,920,733,928,759,942,785,962,811,965,814,961,818,958,815,937,788,923,761,915,735,911,708,915,656,926,604,938,552,944,499,943,472,937,444,926,416,910,387,893,367,872,350,825,325"/>
<area shape="poly" title=" " alt="" coords="797,2273,884,2295,940,2305,1000,2310,1061,2309,1122,2300,1179,2279,1205,2264,1229,2246,1245,2223,1255,2190,1266,2102,1270,2011,1276,1941,1329,1729,1374,1575,1379,1577,1334,1730,1281,1942,1275,2011,1271,2103,1261,2191,1249,2226,1233,2250,1208,2269,1181,2284,1123,2305,1062,2315,1000,2316,939,2310,883,2301,796,2278"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a4785132af638891e2c7aed3fb7dede8b" title=" " alt="" coords="986,2036,1205,2076"/>
<area shape="poly" title=" " alt="" coords="848,2261,881,2252,910,2235,925,2218,932,2201,934,2163,936,2124,943,2105,958,2086,972,2075,975,2080,962,2090,948,2107,941,2125,939,2163,937,2202,929,2221,914,2239,883,2257,849,2266"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a34d9ac947c0789391d0dd0a255db6f65" title="Memorise global timeout." alt="" coords="986,2100,1205,2140"/>
<area shape="poly" title=" " alt="" coords="847,2259,881,2250,910,2235,927,2216,934,2194,940,2171,958,2150,972,2141,975,2145,962,2154,945,2174,939,2196,932,2218,914,2239,882,2255,849,2264"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a30be6a36ef6718b50d7dec30a3192a06" title="Triggers a time out and shuts down the cluster if a timeout is violated." alt="" coords="1005,2164,1185,2204"/>
<area shape="poly" title=" " alt="" coords="847,2247,911,2235,1019,2205,1020,2210,913,2240,848,2252"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a3ce812fcc9b65faa8fe4c0101d43039b" title="Writes a warning if relevant." alt="" coords="994,1972,1197,2012"/>
<area shape="poly" title=" " alt="" coords="847,2263,881,2253,910,2235,929,2210,937,2185,938,2159,934,2132,931,2104,931,2077,939,2049,958,2022,980,2006,983,2010,962,2026,944,2051,936,2077,936,2104,940,2131,943,2158,942,2186,934,2213,914,2239,883,2258,849,2268"/>
<area shape="poly" title=" " alt="" coords="762,952,862,608,921,419,943,356,958,326,965,321,968,325,962,330,948,358,926,421,867,609,768,954"/>
<area shape="poly" title=" " alt="" coords="758,953,768,864,780,802,798,735,823,666,858,599,902,540,929,514,959,491,995,469,1029,454,1062,446,1094,443,1126,447,1159,456,1232,491,1262,512,1289,539,1312,568,1331,600,1360,663,1378,715,1373,717,1355,665,1327,602,1307,571,1285,542,1259,516,1229,495,1157,461,1125,452,1094,449,1062,451,1031,459,997,474,961,495,932,518,906,543,862,602,828,668,803,736,785,803,773,865,763,953"/>
<area shape="poly" title=" " alt="" coords="858,987,1093,1026,1232,1054,1258,1079,1281,1107,1318,1170,1345,1237,1364,1306,1377,1373,1384,1434,1387,1524,1382,1524,1378,1434,1371,1373,1359,1307,1340,1239,1313,1172,1276,1110,1254,1083,1229,1058,1092,1031,858,992"/>
<area shape="poly" title=" " alt="" coords="760,952,777,866,814,735,840,661,873,586,912,514,958,447,995,412,1037,384,1040,389,999,416,962,451,916,517,877,589,845,663,819,736,783,867,765,953"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a2b44dbeda9845c18d2d97b834ce0cc71" title=" " alt="" coords="995,953,1195,993"/>
<area shape="poly" title=" " alt="" coords="858,971,982,971,982,976,858,976"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a32f14062e953a7eae2006343a18b755a" title="Only the SpacetreeSet should call this operation." alt="" coords="1011,761,1180,801"/>
<area shape="poly" title=" " alt="" coords="777,951,852,882,903,844,959,811,997,796,999,801,961,816,906,848,855,886,780,955"/>
<area shape="rect" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a254a9bee212d754ee5d8c976fcf5afb3" title=" " alt="" coords="971,1260,1219,1300"/>
<area shape="poly" title=" " alt="" coords="770,992,796,1044,837,1113,893,1185,926,1218,962,1246,972,1252,969,1256,958,1250,922,1222,889,1189,833,1116,791,1047,766,995"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a49e92b919a5d722323f191e6328af9fc" title=" " alt="" coords="995,505,1195,545"/>
<area shape="poly" title=" " alt="" coords="760,952,777,877,813,769,840,711,872,654,911,601,958,555,981,541,984,546,962,559,915,604,877,657,844,713,818,771,783,878,765,954"/>
<area shape="rect" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html#ada7c6605e8c2ee65cae97acac03b1048" title=" " alt="" coords="982,889,1209,929"/>
<area shape="poly" title=" " alt="" coords="858,952,975,929,976,934,859,957"/>
<area shape="rect" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html#a1a92ee6f9a9b343569d57077f921cb25" title=" " alt="" coords="1007,569,1183,609"/>
<area shape="poly" title=" " alt="" coords="762,952,783,887,822,797,848,748,880,701,916,657,958,619,993,601,996,606,962,623,920,660,884,704,853,751,826,799,788,889,767,954"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a82f75ffb3e66104757a5a335751bdc29" title="Return rank of this node." alt="" coords="1000,1541,1191,1566"/>
<area shape="poly" title=" " alt="" coords="776,992,843,1098,882,1170,915,1247,925,1290,927,1329,921,1399,920,1431,924,1462,937,1494,962,1526,989,1544,986,1548,958,1530,932,1496,918,1464,914,1431,916,1399,922,1329,920,1291,909,1249,877,1172,839,1100,772,995"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a47bc7f10fa1fa287bf94138032e9716b" title="You hand in a tree number and the node tells you on which rank such a tree is hosted." alt="" coords="1011,1476,1180,1516"/>
<area shape="poly" title=" " alt="" coords="773,992,850,1127,962,1310,1020,1394,1072,1463,1068,1466,1016,1397,958,1313,845,1130,768,995"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a255dea5ec5043a45b96c5bd8b4979551" title=" " alt="" coords="995,1068,1195,1108"/>
<area shape="poly" title=" " alt="" coords="810,991,961,1047,1008,1061,1007,1067,959,1052,808,996"/>
<area shape="rect" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#acc5c542271504672569e175debab8ac3" title=" " alt="" coords="971,1132,1219,1172"/>
<area shape="poly" title=" " alt="" coords="783,992,858,1054,908,1088,961,1117,979,1125,977,1130,959,1122,905,1093,855,1058,779,996"/>
<area shape="rect" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html#af7c05762262cb60344edb50f23fe00c7" title=" " alt="" coords="993,633,1197,673"/>
<area shape="poly" title=" " alt="" coords="765,952,790,898,831,824,857,786,887,748,921,713,959,683,979,671,982,676,961,687,925,717,891,751,861,789,835,827,794,900,770,954"/>
<area shape="rect" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html#a6de11550a424b8f79da95ecf81596246" title=" " alt="" coords="971,1196,1219,1236"/>
<area shape="poly" title=" " alt="" coords="775,992,804,1033,847,1084,900,1137,961,1182,974,1188,972,1193,959,1186,897,1141,843,1088,800,1036,770,995"/>
<area shape="poly" title=" " alt="" coords="1194,955,1229,939,1274,903,1312,861,1342,818,1365,780,1370,783,1347,821,1316,864,1277,907,1232,943,1197,960"/>
<area shape="poly" title=" " alt="" coords="1197,987,1216,997,1232,1010,1259,1039,1282,1071,1319,1141,1347,1215,1366,1291,1378,1363,1385,1429,1387,1524,1382,1525,1379,1429,1373,1364,1361,1292,1342,1217,1315,1143,1277,1074,1255,1043,1229,1014,1213,1001,1194,991"/>
<area shape="poly" title=" " alt="" coords="1197,538,1232,555,1277,591,1316,634,1347,678,1370,715,1365,718,1342,681,1312,638,1274,595,1229,559,1194,543"/>
<area shape="poly" title=" " alt="" coords="1181,1509,1304,1533,1303,1538,1180,1514"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a2edb0017914edf9df4b6a0bfbf3a2890" title=" " alt="" coords="1280,1953,1491,1993"/>
<area shape="poly" title=" " alt="" coords="1181,1500,1208,1510,1232,1526,1275,1573,1308,1627,1334,1685,1354,1744,1368,1802,1377,1856,1386,1939,1380,1940,1372,1856,1363,1803,1349,1745,1329,1687,1304,1629,1270,1576,1229,1530,1206,1515,1179,1505"/>
<area shape="poly" title=" " alt="" coords="1197,1097,1216,1106,1232,1118,1275,1164,1308,1218,1334,1276,1354,1335,1368,1392,1377,1444,1386,1524,1380,1524,1372,1445,1363,1393,1349,1336,1330,1278,1304,1221,1270,1168,1229,1122,1213,1110,1195,1102"/>
<area shape="poly" title=" " alt="" coords="468,2031,516,2056,539,2074,558,2094,573,2121,579,2147,578,2197,576,2220,578,2243,587,2265,606,2286,620,2294,645,2301,717,2316,812,2327,918,2335,1023,2338,1118,2337,1190,2330,1215,2324,1229,2317,1248,2289,1260,2247,1267,2196,1270,2140,1271,2027,1272,1979,1276,1941,1300,1834,1328,1729,1373,1576,1378,1577,1333,1731,1305,1835,1281,1942,1277,1979,1276,2027,1275,2140,1272,2197,1265,2248,1253,2291,1232,2321,1217,2329,1191,2335,1118,2342,1023,2344,917,2340,812,2332,717,2321,643,2307,618,2299,602,2290,583,2267,573,2244,571,2220,572,2196,574,2147,568,2123,554,2097,535,2078,513,2061,466,2036"/>
<area shape="poly" title=" " alt="" coords="470,2031,518,2056,540,2074,558,2094,577,2131,583,2167,580,2203,574,2237,569,2269,570,2301,581,2330,606,2359,629,2374,658,2388,731,2407,819,2418,914,2421,1010,2416,1099,2404,1174,2385,1205,2373,1229,2359,1270,2324,1302,2281,1328,2233,1347,2182,1361,2132,1371,2084,1380,2007,1385,2008,1376,2085,1366,2133,1352,2184,1333,2235,1307,2284,1274,2327,1232,2363,1207,2377,1176,2390,1100,2409,1010,2422,914,2427,819,2424,730,2412,656,2393,626,2379,602,2363,576,2333,565,2301,564,2269,569,2236,575,2202,577,2168,572,2133,554,2097,536,2077,515,2061,468,2036"/>
<area shape="rect" href="../../d3/dfe/classtarch_1_1mpi_1_1Rank.html#a194b41337a4aa4f320877ec69a9d0f0b" title="Get the global master." alt="" coords="658,1865,858,1905"/>
<area shape="poly" title=" " alt="" coords="439,1991,513,1952,603,1915,644,1903,645,1908,605,1920,516,1957,442,1996"/>
<area shape="rect" href="../../db/d53/structpeano4_1_1parallel_1_1StartTraversalMessage.html#ac12c344762c4caebc680482e804a50c3" title=" " alt="" coords="645,1929,871,1969"/>
<area shape="poly" title=" " alt="" coords="489,1995,633,1969,634,1974,490,2001"/>
<area shape="rect" href="../../db/d53/structpeano4_1_1parallel_1_1StartTraversalMessage.html#a004890c6c413038d2813f45c785ed3a6" title=" " alt="" coords="604,2057,912,2097"/>
<area shape="poly" title=" " alt="" coords="490,2026,634,2052,633,2057,489,2031"/>
<area shape="rect" href="../../db/d53/structpeano4_1_1parallel_1_1StartTraversalMessage.html#a34e5cb17ee64623580ca133b92627212" title=" " alt="" coords="613,2185,903,2225"/>
<area shape="poly" title=" " alt="" coords="490,2018,526,2030,558,2050,571,2065,578,2081,582,2113,586,2143,593,2157,606,2171,611,2176,608,2180,602,2175,589,2160,581,2145,577,2113,573,2082,566,2068,554,2054,524,2035,489,2023"/>
<area shape="rect" href="../../db/d53/structpeano4_1_1parallel_1_1StartTraversalMessage.html#af196d6137996282f4c840dff2ddc59ae" title=" " alt="" coords="645,1993,871,2033"/>
<area shape="poly" title=" " alt="" coords="490,2011,631,2011,631,2016,490,2016"/>
<area shape="rect" href="../../db/d53/structpeano4_1_1parallel_1_1StartTraversalMessage.html#a659aea63c754312cecf600cc0ab391f8" title=" " alt="" coords="645,2121,871,2161"/>
<area shape="poly" title=" " alt="" coords="490,2023,525,2033,558,2050,573,2064,582,2079,590,2094,605,2107,633,2120,631,2125,603,2111,586,2097,578,2082,569,2068,554,2054,523,2038,489,2028"/>
<area shape="poly" title=" " alt="" coords="891,2055,910,2043,927,2023,933,2002,940,1979,958,1958,995,1938,1031,1930,1064,1930,1097,1934,1129,1937,1162,1937,1195,1928,1229,1907,1266,1871,1296,1829,1321,1782,1341,1735,1367,1644,1379,1576,1384,1577,1372,1645,1346,1736,1326,1785,1301,1831,1270,1874,1232,1911,1197,1933,1162,1942,1129,1943,1097,1939,1064,1935,1031,1935,997,1943,962,1962,945,1982,938,2003,932,2026,914,2047,893,2059"/>
<area shape="poly" title=" " alt="" coords="912,2065,972,2061,973,2066,913,2070"/>
<area shape="poly" title=" " alt="" coords="913,2094,973,2102,972,2107,912,2099"/>
<area shape="poly" title=" " alt="" coords="884,2095,913,2107,928,2117,938,2129,947,2139,961,2150,994,2163,991,2168,959,2154,944,2143,934,2132,925,2121,911,2112,882,2100"/>
<area shape="poly" title=" " alt="" coords="868,2055,911,2043,959,2021,986,2013,988,2018,961,2026,913,2048,870,2060"/>
<area shape="poly" title=" " alt="" coords="895,2055,910,2043,928,2020,935,1996,936,1971,934,1946,931,1920,932,1894,940,1869,958,1843,975,1830,994,1821,996,1826,978,1835,962,1847,944,1871,937,1895,936,1920,939,1945,942,1971,941,1997,933,2022,914,2047,898,2059"/>
<area shape="poly" title=" " alt="" coords="894,2055,910,2043,923,2028,930,2013,934,1981,937,1947,945,1930,958,1914,974,1902,977,1906,962,1918,949,1933,943,1949,939,1981,935,2015,928,2031,914,2047,897,2059"/>
<area shape="poly" title=" " alt="" coords="880,2223,979,2234,1082,2241,1129,2240,1171,2235,1205,2227,1229,2214,1243,2194,1254,2164,1265,2086,1270,2004,1276,1941,1329,1729,1374,1575,1379,1577,1335,1731,1281,1942,1275,2004,1270,2087,1259,2165,1248,2196,1232,2218,1207,2232,1172,2241,1129,2245,1082,2246,978,2240,879,2228"/>
<area shape="poly" title=" " alt="" coords="891,2183,910,2171,927,2151,934,2130,940,2107,958,2086,972,2077,975,2081,962,2090,945,2110,939,2131,932,2154,914,2175,893,2187"/>
<area shape="poly" title=" " alt="" coords="868,2183,911,2171,959,2149,986,2141,988,2146,961,2154,913,2176,870,2188"/>
<area shape="poly" title=" " alt="" coords="904,2193,992,2188,992,2193,904,2199"/>
<area shape="poly" title=" " alt="" coords="894,2183,910,2171,925,2154,932,2136,934,2099,936,2060,943,2041,958,2022,980,2007,983,2011,962,2026,948,2043,941,2061,939,2099,937,2137,929,2157,914,2175,897,2187"/>
<area shape="poly" title=" " alt="" coords="897,2183,910,2171,926,2152,936,2132,945,2092,943,2051,934,2010,925,1969,922,1927,931,1885,942,1864,958,1843,975,1830,994,1820,996,1825,977,1834,962,1847,946,1867,936,1887,927,1927,930,1968,939,2009,948,2051,951,2092,941,2134,930,2154,914,2175,900,2187"/>
<area shape="poly" title=" " alt="" coords="895,2183,910,2171,929,2146,938,2122,940,2097,938,2071,936,2017,942,1988,958,1958,990,1925,1028,1901,1031,1906,994,1930,962,1961,947,1990,941,2017,943,2070,945,2097,943,2123,934,2149,914,2175,899,2187"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a1327050fed46cb19cf89d3d0f7f7cbe9" title="Adds a new spacetree to the set." alt="" coords="658,1260,858,1300"/>
<area shape="poly" title=" " alt="" coords="463,1380,686,1302,687,1307,464,1385"/>
<area shape="poly" title=" " alt="" coords="804,1297,890,1329,945,1344,1003,1354,1063,1359,1122,1354,1178,1339,1204,1326,1229,1310,1244,1295,1259,1273,1286,1216,1310,1144,1330,1064,1361,903,1377,783,1383,783,1366,904,1335,1065,1315,1146,1291,1218,1264,1276,1248,1298,1232,1314,1207,1331,1180,1344,1123,1359,1063,1364,1002,1360,943,1349,889,1334,802,1302"/>
<area shape="poly" title=" " alt="" coords="813,1297,1050,1389,1232,1461,1297,1496,1353,1528,1351,1533,1295,1500,1230,1466,1048,1394,811,1302"/>
<area shape="poly" title=" " alt="" coords="771,1258,838,1153,877,1080,909,1004,919,966,922,931,918,868,917,838,922,809,934,778,958,747,961,744,965,748,962,751,939,781,927,810,923,838,923,868,928,931,925,967,915,1006,882,1083,843,1155,776,1261"/>
<area shape="poly" title=" " alt="" coords="770,1258,833,1151,910,1004,921,967,926,935,934,905,944,890,958,875,964,871,967,875,962,879,948,894,939,907,931,936,926,968,914,1006,838,1154,774,1261"/>
<area shape="poly" title=" " alt="" coords="858,1277,957,1277,957,1283,858,1283"/>
<area shape="poly" title=" " alt="" coords="792,1298,1053,1466,1050,1471,789,1302"/>
<area shape="poly" title=" " alt="" coords="794,1257,869,1219,959,1181,985,1173,987,1178,961,1186,871,1224,797,1262"/>
<area shape="poly" title=" " alt="" coords="858,1258,975,1236,976,1241,859,1264"/>
<area shape="poly" title=" " alt="" coords="796,395,870,359,959,325,997,315,998,321,961,330,872,364,798,400"/>
<area shape="poly" title=" " alt="" coords="872,398,960,396,1009,399,1057,406,1106,418,1152,436,1195,460,1233,492,1258,635,1303,951,1383,1524,1378,1525,1298,952,1252,636,1228,495,1192,464,1150,440,1104,423,1056,411,1008,404,960,401,872,404"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a724bef1107e37df70598bd2a927b4905" title="Quick lookup whether an observer clone for this tree id does already exist." alt="" coords="631,1721,885,1761"/>
<area shape="poly" title=" " alt="" coords="556,1739,617,1739,617,1744,556,1744"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#ae28cbf8f697bc66a1380da56df81b98e" title="Realise domain boundary exchange (over multiple scales)" alt="" coords="612,1411,904,1466"/>
<area shape="poly" title=" " alt="" coords="413,1720,439,1670,480,1603,535,1534,567,1502,602,1475,610,1470,613,1475,606,1479,571,1506,539,1537,484,1606,443,1672,418,1722"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a2383ec5b69147b9b5dd5547689aca3f7" title="Exchange periodic BC data." alt="" coords="635,1490,881,1545"/>
<area shape="poly" title=" " alt="" coords="436,1719,701,1550,703,1554,439,1723"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#acf3a3df78d8d68b8d7763a0ce25a2544" title="This routine finishes all the sends and receives that are still active, i.e." alt="" coords="635,1786,881,1841"/>
<area shape="poly" title=" " alt="" coords="504,1759,622,1783,621,1788,503,1764"/>
<area shape="poly" title=" " alt="" coords="904,1453,986,1452,1073,1441,1116,1429,1156,1413,1194,1392,1229,1366,1245,1348,1260,1323,1287,1258,1311,1177,1331,1088,1362,912,1378,782,1383,783,1367,913,1337,1089,1316,1179,1292,1260,1264,1326,1249,1351,1232,1370,1197,1397,1159,1418,1117,1434,1074,1446,987,1458,904,1459"/>
<area shape="poly" title=" " alt="" coords="897,1464,914,1475,926,1488,932,1502,937,1529,943,1555,949,1566,961,1576,1009,1599,1060,1611,1113,1614,1166,1611,1217,1603,1265,1591,1342,1566,1343,1571,1266,1596,1218,1608,1166,1616,1113,1620,1059,1616,1007,1604,959,1581,945,1570,938,1557,932,1530,927,1503,921,1491,910,1479,894,1468"/>
<area shape="poly" title=" " alt="" coords="890,1463,913,1475,929,1488,938,1501,947,1514,961,1526,988,1537,986,1542,959,1530,943,1518,934,1504,925,1491,911,1479,888,1468"/>
<area shape="poly" title=" " alt="" coords="905,1461,998,1477,997,1482,904,1466"/>
<area shape="poly" title=" " alt="" coords="850,1542,961,1576,1040,1594,1106,1611,1136,1614,1165,1611,1196,1599,1229,1577,1251,1552,1271,1519,1288,1478,1304,1430,1330,1318,1350,1195,1364,1070,1373,953,1381,783,1386,783,1378,953,1369,1070,1355,1195,1336,1319,1309,1431,1293,1480,1275,1521,1255,1556,1232,1581,1199,1604,1167,1616,1136,1620,1105,1617,1039,1599,959,1581,848,1547"/>
<area shape="poly" title=" " alt="" coords="881,1789,1100,1750,1230,1721,1274,1689,1313,1648,1345,1608,1368,1574,1372,1577,1349,1611,1317,1652,1278,1693,1232,1726,1101,1755,882,1795"/>
<area shape="poly" title=" " alt="" coords="883,1830,914,1851,930,1873,938,1895,938,1939,939,1981,946,2002,962,2022,975,2032,972,2037,958,2026,942,2004,934,1982,933,1939,933,1896,926,1875,910,1855,880,1835"/>
<area shape="poly" title=" " alt="" coords="883,1829,914,1851,934,1881,943,1911,942,1941,938,1971,934,2001,934,2029,942,2058,962,2086,975,2097,972,2101,958,2090,937,2060,929,2030,929,2000,933,1970,937,1941,937,1912,930,1883,910,1855,880,1833"/>
<area shape="poly" title=" " alt="" coords="883,1829,914,1851,929,1870,939,1890,947,1928,945,1966,938,2003,931,2041,929,2077,938,2114,948,2132,962,2150,976,2162,993,2171,991,2176,973,2167,958,2154,943,2135,933,2116,924,2078,926,2040,933,2002,940,1965,942,1928,934,1891,924,1873,910,1855,880,1833"/>
<area shape="poly" title=" " alt="" coords="883,1835,913,1851,930,1864,939,1878,948,1892,962,1907,1002,1937,1044,1963,1041,1967,999,1942,958,1911,944,1896,935,1881,926,1868,911,1855,880,1840"/>
<area shape="poly" title=" " alt="" coords="882,1811,994,1811,994,1816,882,1816"/>
<area shape="poly" title=" " alt="" coords="882,1834,976,1852,975,1857,881,1839"/>
<area shape="poly" title=" " alt="" coords="534,1863,554,1851,571,1833,578,1813,585,1792,602,1772,617,1763,620,1768,606,1777,589,1795,583,1815,575,1836,558,1855,537,1867"/>
<area shape="poly" title=" " alt="" coords="503,1863,621,1838,622,1844,504,1868"/>
<area shape="poly" title=" " alt="" coords="529,1785,645,1761,646,1767,530,1790"/>
<area shape="poly" title=" " alt="" coords="530,1811,621,1811,621,1816,530,1816"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet_af3302644e7f7848b653167f1502f3554_icgraph.png" border="0" usemap="#ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_af3302644e7f7848b653167f1502f3554_icgraph" alt=""/></div>
<map name="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_af3302644e7f7848b653167f1502f3554_icgraph" id="ada/d58/classpeano4_1_1parallel_1_1SpacetreeSet_af3302644e7f7848b653167f1502f3554_icgraph">
<area shape="rect" title="Invoke traverse on all spacetrees in parallel." alt="" coords="247,47,447,87"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a63ad06a0041cb535df105cf2f445a73c" title=" " alt="" coords="108,5,199,31"/>
<area shape="poly" title=" " alt="" coords="254,46,198,32,199,27,255,41"/>
<area shape="rect" href="../../d6/d10/benchmarks_2peano4_2regulargridupscaling_2main_8cpp.html#a716631ca95d6176da3ed3886635e801e" title=" " alt="" coords="108,55,199,80"/>
<area shape="poly" title=" " alt="" coords="233,70,199,70,199,65,233,65"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#ac6bf1a12c5c98ddec5b65e07fe74cabe" title=" " alt="" coords="128,104,179,129"/>
<area shape="poly" title=" " alt="" coords="255,93,179,113,178,108,254,88"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,104,60,129"/>
<area shape="poly" title=" " alt="" coords="114,119,60,119,60,114,114,114"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Friends And Related Symbol Documentation</h2>
<a id="a024487096d7f06010b56b30480299385" name="a024487096d7f06010b56b30480299385"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a024487096d7f06010b56b30480299385">&#9670;&#160;</a></span>peano4::grid::Spacetree</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">peano4::grid::Spacetree</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html#l00043">43</a> of file <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html">SpacetreeSet.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a id="a7b4b652a524fc12653cebe7b984c3f08" name="a7b4b652a524fc12653cebe7b984c3f08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b4b652a524fc12653cebe7b984c3f08">&#9670;&#160;</a></span>_answerMessageTag</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> peano4::parallel::SpacetreeSet::_answerMessageTag</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Never use this tag directly. </p>
<p>It is the first tag of a series fo answer tags. To find the right one for a particular application context, use <a class="el" href="#a49e92b919a5d722323f191e6328af9fc">getAnswerTag()</a>. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html#l00323">323</a> of file <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html">SpacetreeSet.h</a>.</p>

</div>
</div>
<a id="a1aa1106b0a08e18237de78ced6694778" name="a1aa1106b0a08e18237de78ced6694778"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1aa1106b0a08e18237de78ced6694778">&#9670;&#160;</a></span>_clonedObserver</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt; <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a>, <a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html">peano4::grid::TraversalObserver</a>* &gt; peano4::parallel::SpacetreeSet::_clonedObserver</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>I create/clone one observer per local tree. </p>
<p>This is an on-the-fly process. At the end of the set traversal, we delete all of clones. Originally, I did this delete right after the creation and the subsequent traversal. However, we need the observer clone once more for the data exchange. To avoid reclones, I store all clones in this map and then delete them en bloc.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a6cbbb95e899ec85ae0473cf42c00f176">deleteClonedObservers</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html#l00347">347</a> of file <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html">SpacetreeSet.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00267">createObserverCloneIfRequired()</a>, <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00329">deleteAllStacks()</a>, <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00451">deleteClonedObservers()</a>, <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00400">exchangeHorizontalDataBetweenTrees()</a>, <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00338">exchangeVerticalDataBetweenTrees()</a>, and <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00367">streamDataFromSplittingTreesToNewTrees()</a>.</p>

</div>
</div>
<a id="ac41c29cdc5f5ee02ef7ca748ce35cfb3" name="ac41c29cdc5f5ee02ef7ca748ce35cfb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac41c29cdc5f5ee02ef7ca748ce35cfb3">&#9670;&#160;</a></span>_log</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d79/classtarch_1_1logging_1_1Log.html">tarch::logging::Log</a> peano4::parallel::SpacetreeSet::_log</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Logging device. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html#l00295">295</a> of file <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html">SpacetreeSet.h</a>.</p>

</div>
</div>
<a id="a4d0bd6e4ba47d5f2cee9b282b88278a0" name="a4d0bd6e4ba47d5f2cee9b282b88278a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d0bd6e4ba47d5f2cee9b282b88278a0">&#9670;&#160;</a></span>_requestMessageTag</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> peano4::parallel::SpacetreeSet::_requestMessageTag</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>I use this tag to identify messages send from one tree to another rank. </p>
<p>All answers go through an answer tag. To identify the right one, please use <a class="el" href="#a49e92b919a5d722323f191e6328af9fc">getAnswerTag()</a>. The tag should be const, but I set it in <a class="el" href="#a902d7f8f8b084ed1fb6029c9c4ec09fc">init()</a> and therefore I had to remove the const - even though its logically not possible to change it. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html#l00316">316</a> of file <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html">SpacetreeSet.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00564">cleanUpTrees()</a>, and <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00713">split()</a>.</p>

</div>
</div>
<a id="ae1a9a93a69811a8875431c76be1897f7" name="ae1a9a93a69811a8875431c76be1897f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1a9a93a69811a8875431c76be1897f7">&#9670;&#160;</a></span>_semaphore</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d3f/classtarch_1_1multicore_1_1BooleanSemaphore.html">tarch::multicore::BooleanSemaphore</a> peano4::parallel::SpacetreeSet::_semaphore</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Semaphore to protect container holding all the local trees. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html#l00300">300</a> of file <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html">SpacetreeSet.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00267">createObserverCloneIfRequired()</a>.</p>

</div>
</div>
<a id="acd4852f97402d9ec43f70c29e98f80d0" name="acd4852f97402d9ec43f70c29e98f80d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd4852f97402d9ec43f70c29e98f80d0">&#9670;&#160;</a></span>_singleton</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html">peano4::parallel::SpacetreeSet</a> peano4::parallel::SpacetreeSet::_singleton</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html#l00045">45</a> of file <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html">SpacetreeSet.h</a>.</p>

</div>
</div>
<a id="a8a77b7ea7b1c8c7a69bcbb4b458db6db" name="a8a77b7ea7b1c8c7a69bcbb4b458db6db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a77b7ea7b1c8c7a69bcbb4b458db6db">&#9670;&#160;</a></span>_spacetrees</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt; <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">peano4::grid::Spacetree</a> &gt; peano4::parallel::SpacetreeSet::_spacetrees</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>These are the local spacetrees. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html#l00328">328</a> of file <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html">SpacetreeSet.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00564">cleanUpTrees()</a>, <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00442">createNewTrees()</a>, <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00400">exchangeHorizontalDataBetweenTrees()</a>, <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00338">exchangeVerticalDataBetweenTrees()</a>, <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00665">getGridStatistics()</a>, <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00702">getLocalSpacetrees()</a>, <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00431">getLocalTreesMergingWithWorkers()</a>, <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00761">getSpacetree()</a>, <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00771">getSpacetree()</a>, <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00693">isLocalSpacetree()</a>, <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00367">streamDataFromSplittingTreesToNewTrees()</a>, and <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00461">traverse()</a>.</p>

</div>
</div>
<a id="a411f6e237f217538056cbee47cc2859e" name="a411f6e237f217538056cbee47cc2859e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a411f6e237f217538056cbee47cc2859e">&#9670;&#160;</a></span>_state</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a14dae8c91a482bf3cd7e433f3975f0c0">SpacetreeSetState</a> peano4::parallel::SpacetreeSet::_state</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The state identifies what the set is doing right now. </p>
<p>The flag is for example used by <a class="el" href="#a804983160d3a6236ada166574dee659a" title="We poll the tree management messages.">receiveDanglingMessages()</a> as we may not create new trees or change tree states while we are running through them or realise their data exchange. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html#l00335">335</a> of file <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html">SpacetreeSet.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00461">traverse()</a>.</p>

</div>
</div>
<a id="affe069668a5d5efbf19ee0ebd8481b61" name="affe069668a5d5efbf19ee0ebd8481b61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affe069668a5d5efbf19ee0ebd8481b61">&#9670;&#160;</a></span>_unansweredMessages</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="../../d4/dec/structpeano4_1_1parallel_1_1TreeManagementMessage.html">peano4::parallel::TreeManagementMessage</a>&gt; peano4::parallel::SpacetreeSet::_unansweredMessages</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html#l00047">47</a> of file <a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html">SpacetreeSet.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/peano4/parallel/<a class="el" href="../../d0/d08/SpacetreeSet_8h_source.html">SpacetreeSet.h</a></li>
<li>src/peano4/parallel/<a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html">SpacetreeSet.cpp</a></li>
<li>src/peano4/parallel/<a class="el" href="../../d7/d1e/SpacetreeSet_8cpph_source.html">SpacetreeSet.cpph</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d8/d8f/namespacepeano4.html">peano4</a></li><li class="navelem"><a class="el" href="../../d1/d32/namespacepeano4_1_1parallel.html">parallel</a></li><li class="navelem"><a class="el" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html">SpacetreeSet</a></li>
    <li class="footer">Generated on Tue Jul 1 2025 11:30:16 for Peano by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
