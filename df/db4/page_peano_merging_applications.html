<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="icon" href="../../Peano-icon.png" type="image/x-icon" />
<title>Peano</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-tabs.js"></script>
<script type="text/javascript" src="../../toggle-alternative-theme.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeTabs.init()
</script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../custom.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="../../custom-alternative.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- https://tholman.com/github-corners/ -->
<!-- https://bryce.io/gitlab-corners/ -->
<style>.gitlab-corner-wrapper{overflow:hidden;width:100px;height:100px;position:absolute;top:0;right:0}.gitlab-corner{position:absolute;top:-16px;right:-50px;transform:rotate(45deg);background:#333;border:44px solid #333;border-bottom:none;border-top:#333 solid 16px}.gitlab-corner svg{width:60px;height:60px;margin-bottom:-4px}.cls-1{fill:#fc6d26}.cls-2{fill:#e24329}.cls-3{fill:#fca326}.gitlab-corner:hover .cls-1{animation:cycle .6s}.gitlab-corner:hover .cls-2{animation:cycleMid .6s}.gitlab-corner:hover .cls-3{animation:cycleEnd .6s}@keyframes cycle{100%,15%,60%{fill:#fc6d26}30%,75%{fill:#e24329}45%,90%{fill:#fca326}}@keyframes cycleMid{100%,15%,60%{fill:#e24329}30%,75%{fill:#fca326}45%,90%{fill:#fc6d26}}@keyframes cycleEnd{100%,15%,60%{fill:#fca326}30%,75%{fill:#fc6d26}45%,90%{fill:#e24329}}@media (max-width:500px){.gitlab-corner:hover .cls-1,.gitlab-corner:hover .cls-2,.gitlab-corner:hover .cls-3{animation:none}.gitlab-corner .cls-1{animation:cycle .6s}.gitlab-corner .cls-2{animation:cycleMid .6s}.gitlab-corner .cls-3{animation:cycleEnd .6s}}</style><div class="gitlab-corner-wrapper"><a href="https://gitlab.lrz.de/hpcsoftware/Peano" class="gitlab-corner" aria-label="View source on GitLab"><svg id="logo_art" data-name="logo art" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 586 559"><g id="g44"><path id="path46" class="cls-1" d="M461.17,301.83l-18.91-58.12L404.84,128.43a6.47,6.47,0,0,0-12.27,0L355.15,243.64H230.82L193.4,128.43a6.46,6.46,0,0,0-12.26,0L143.78,243.64l-18.91,58.19a12.88,12.88,0,0,0,4.66,14.39L293,435,456.44,316.22a12.9,12.9,0,0,0,4.73-14.39"/></g><g id="g48"><path id="path50" class="cls-2" d="M293,434.91h0l62.16-191.28H230.87L293,434.91Z"/></g><g id="g56"><path id="path58" class="cls-1" d="M293,434.91,230.82,243.63h-87L293,434.91Z"/></g><g id="g64"><path id="path66" class="cls-3" d="M143.75,243.69h0l-18.91,58.12a12.88,12.88,0,0,0,4.66,14.39L293,435,143.75,243.69Z"/></g><g id="g72"><path id="path74" class="cls-2" d="M143.78,243.69h87.11L193.4,128.49a6.47,6.47,0,0,0-12.27,0l-37.35,115.2Z"/></g><g id="g76"><path id="path78" class="cls-1" d="M293,434.91l62.16-191.28H442.3L293,434.91Z"/></g><g id="g80"><path id="path82" class="cls-3" d="M442.24,243.69h0l18.91,58.12a12.85,12.85,0,0,1-4.66,14.39L293,434.91l149.2-191.22Z"/></g><g id="g84"><path id="path86" class="cls-2" d="M442.28,243.69h-87.1l37.42-115.2a6.46,6.46,0,0,1,12.26,0l37.42,115.2Z"/></g></svg></a></div>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../Peano-icon.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Peano
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('df/db4/page_peano_merging_applications.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Merging/coupling various applications</div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md1054">Lowering two codes into a Peano project (multiplicatively)</a></li>
<li class="level1"><a href="#autotoc_md1055">Add additional mesh sweeps manually</a></li>
<li class="level1"><a href="#autotoc_md1056">Unify the data usage</a></li>
<li class="level1"><a href="#autotoc_md1057">Create a merged main file</a></li>
<li class="level1"><a href="#autotoc_md1058">Lowering two codes into a Peano project (additively)</a></li>
</ul>
</div>
<div class="textblock"><p>As several code types are built on top of the same Peano infrastructure, we can always combine them or alter the underlying Peano representation by adding additional mesh traversals for example.</p>
<p>Peano's Python API is a mere wrapper around the Peano C++ core, i.e. it provides a high-level abstraction of Peano's <a class="el" href="../../da/d1b/peano_action_sets.html">action sets</a>, the data held by a Peano application, its Makefile, and so forth. Popular Peano extensions then create a layer on top of this API which eventually yields a Peano project. Obviously, once you have lowered the abstraction level into a Peano project, you can still alter this whole application model. Indeed, you can now add technical details that have previously been hidden, or you can combine different projects.</p>
<p>We distinguish various different terms in the context of coupling:</p>
<ul>
<li>Multiplicative coupling means that two different solvers or applications take turns. If you have a solver A and a solver B, and if you write down their action as a function, you would write down the overall action of these solvers as \( ... \circ  A \circ B \circ A \circ B \). This is where the name multiplicative comes from.</li>
<li>Additive coupling means that two solvers run in parallel for a while and eventually exchange data after that. The name additive results from the fact that you might want to write down such a solver as \( \circ (A + B) \circ (A+B)\).</li>
<li>Separate coupling sweeps are runs through the mesh which do not invoke any solver functionality but instead synchronise data and exchange all data.</li>
</ul>
<p>Before we continue, we emphasise that we rely heavily on terms like <a class="el" href="../../db/d3f/page_architecture_home.html">observer</a> and also make use of the notion of <a class="el" href="../../da/d1b/peano_action_sets.html">action sets</a>. Each mesh sweep is tied to one observer, which in turn is represented by a <a class="el" href="../../dc/d53/namespacepeano4_1_1solversteps_1_1Step.html">peano4.solversteps.Step</a> object.</p>
<h1><a class="anchor" id="autotoc_md1054"></a>
Lowering two codes into a Peano project (multiplicatively)</h1>
<p>Skip this part if you work with only one extension and want to add additional helper grid sweeps, e.g. If you have two extensions - such as ExaHyPE and MGHyPE or Swift - which both create Peano projects, you end up with a high-level code which resembles:</p>
<div class="fragment"><div class="line">project_A = my_first_extension.Project(</div>
<div class="line">  <span class="keyword">namespace</span> = ...</div>
<div class="line">  project_name = ...</div>
<div class="line">  directory = ...</div>
<div class="line">  subdirectory = ...</div>
<div class="line">  executable = ...</div>
<div class="line">)</div>
<div class="line">project_B = my_second_extension.Project(</div>
<div class="line">  <span class="keyword">namespace</span> = ...</div>
<div class="line">  project_name = ...</div>
<div class="line">  directory = ...</div>
<div class="line">  subdirectory = ...</div>
<div class="line">  executable = ...</div>
<div class="line">)</div>
</div><!-- fragment --><p>Solvers for each project need to be added (possibly, several):</p>
<div class="fragment"><div class="line">project_A.add_solver(solver_A_for_my_first_extenstion) # solver_B_..., etc., <span class="keywordflow">if</span> needed</div>
<div class="line">project_B.add_solver(solver_A_for_my_second_extenstion) # solver_B_..., etc., <span class="keywordflow">if</span> needed </div>
</div><!-- fragment --><p>An empty global Peano project is created, followed by subsequently adding the projects from the above two extensions into the global one:</p>
<div class="fragment"><div class="line">peano4_project = <a class="code hl_namespace" href="../../d8/d8f/namespacepeano4.html">peano4</a>.<a class="code hl_namespace" href="../../d1/df8/namespacepeano4_1_1Project.html">Project</a>(</div>
<div class="line">    <span class="keyword">namespace</span>     = [],    # the namespaces from the above extension projects will be used subsequently</div>
<div class="line">    project_name  = ...,   # choose the name <span class="keywordflow">for</span> the global Peano project</div>
<div class="line">    directory     = <span class="stringliteral">&quot;.&quot;</span>,   # the application directory (the current one in <span class="keyword">this</span> example)</div>
<div class="line">    executable    = ...,   # choose the name <span class="keywordflow">for</span> the resulting application</div>
<div class="line">)</div>
<div class="line">peano4_project.add_subproject(</div>
<div class="line">  my_first_extension.generate_Peano4_project(args.verbose),</div>
<div class="line">  master=True              # sets <span class="keyword">this</span> extension as the source of the <span class="keyword">template</span> to generate the <a class="code hl_function" href="../../d4/d76/benchmarks_2other_2noh2d_2main_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a> source file from</div>
<div class="line">)</div>
<div class="line">peano4_project.add_subproject(</div>
<div class="line">  my_second_extension.generate_Peano4_project(args.verbose),</div>
<div class="line">)</div>
<div class="ttc" id="abenchmarks_2other_2noh2d_2main_8cpp_html_ae66f6b31b5ad750f1fe042a706a4e3d4"><div class="ttname"><a href="../../d4/d76/benchmarks_2other_2noh2d_2main_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a></div><div class="ttdeci">int main()</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d76/benchmarks_2other_2noh2d_2main_8cpp_source.html#l00321">main.cpp:321</a></div></div>
<div class="ttc" id="anamespacepeano4_1_1Project_html"><div class="ttname"><a href="../../d1/df8/namespacepeano4_1_1Project.html">peano4.Project</a></div><div class="ttdef"><b>Definition</b> <a href="../../d2/d62/python_2peano4_2Project_8py_source.html#l00001">Project.py:1</a></div></div>
<div class="ttc" id="anamespacepeano4_html"><div class="ttname"><a href="../../d8/d8f/namespacepeano4.html">peano4</a></div><div class="ttdef"><b>Definition</b> <a href="../../df/d17/CellMarker_8h_source.html#l00014">CellMarker.h:14</a></div></div>
</div><!-- fragment --><p>Once merged (which was done by the new <code>add_subproject</code> method above), source files (such as <code>repositories/StepRepository.h</code>) are generated by calling <code>peano4_project.generate()</code> or <code>peano4_project.build(make_clean_first=True, number_of_parallel_builds=args.j)</code> methods. The files are written each correspondingly to their extension project in their own <code>subdirectory</code> which was passed as a parameter in their extension <code>Project</code> class constructor. Thus, there'll be two instances for every source file, such as (using the example of <code>StepRepository.h</code>):</p>
<div class="fragment"><div class="line">project_A.subdirectory + <span class="stringliteral">&quot;/repositories/StepRepository.h&quot;</span></div>
<div class="line">project_B.subdirectory + <span class="stringliteral">&quot;/repositories/StepRepository.h&quot;</span></div>
</div><!-- fragment --><p>The generated main header and source files will be located in the common application folder (corresponding to <code>peano4_project.directory</code>, above the subprojects' subdirectories) and have the names <code>peano4_project.project_name + "-main.h"</code> and <code>peano4_project.project_name + "-main.cpp"</code> respectively. Initially, it is created using the template from extension set as <code>"master"</code> (in our example, this is the first extension indicated by the <code>master=True</code> parameter). A template from any extension contains definitions for the <code><a class="el" href="../../d5/db2/MatrixFreeMain_8template_8cpp.html#a832439084ea25145fd3b2894160a520b">selectNextAlgorithmicStep()</a></code> and <code><a class="el" href="../../d5/db2/MatrixFreeMain_8template_8cpp.html#ac6bf1a12c5c98ddec5b65e07fe74cabe">step()</a></code> functions. The generated instances of these functions in the source file have to be modified to include the steps from the second extension (non-<code>master</code> extension). The choice of <code>master</code> and non-<code>master</code> is somewhat arbitrary; the goal is to manually insert all the steps from the non-<code>master</code> extension into the <code>master</code> extension, so perhaps it makes sense to choose the more complex one as <code>master</code> which has more steps. Thus, your task becomes copying the steps from the template of the non-<code>master</code> extension and inserting them one by one in the appropriate positions between the steps of the <code>master</code> extension (in the generated source file). Keep in mind that the template file may contain template expressions which are translated in C++ expression in the generated source file, so it is suggested to switch temporarily the <code>master</code> extension to generate a source file from the other extension to copy the steps from there instead from the template. Now, the main source file is adapted and includes all the steps from both extension projects in the right order.</p>
<p>Once lowered, you can also add new algorithmic steps as they are required for separate coupling sweeps, e.g. From hereon, the (merged) Peano 4 project is the work data set, as any change in the original project (such as an <a class="el" href="../../d8/df9/namespaceexahype2_1_1Project.html">exahype2.Project</a> instance) does <em><b>not</b></em> propagate through anymore.</p>
<p>Once merged, it is reasonably to doublecheck the generated file </p><div class="fragment"><div class="line">_A.subdirectory + &quot;repositories/StepRepository.h</div>
</div><!-- fragment --><p> in each extension subdirectory. Each of them defines observers from their corresponding extension project, but <code>StepRepository</code> notably hosts an enum called <code>Steps</code> which accommodates identifiers for the steps from their corresponding project.</p>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000075">Todo</a></b></dt><dd>We need to figure out how to toggle and decide whether we want to run a step from either project. How to switch forth and back in arbitrary order.</dd></dl>
<p>Peano usually expects that the high-level extension ensures that no two algorithmic steps use the same name for two different observers. Our approach in merging two projects guarantees unique names by using namespaces passed as parameters when creating extension projects. Therefore, steps with the same name from solvers of different extension projects are differentiated as simple as </p><div class="fragment"><div class="line">.namespace + &quot;::Step1</div>
</div><!-- fragment --><p> and <code>projectB.namespace + "::Step1&lt;/tt&gt;, where &lt;tt&gt;"Step1"&lt;/tt&gt; is the step name
  in both solvers. 


@section autotoc_md1055 Add additional mesh sweeps manually

  Once you have the low-level Peano project, you can add an arbitrary number of 
  additional algorithmic steps. Each step models a new mesh sweep and 
  gives you a brand new observer object:

  @icode 
  additional_step = peano4.solversteps.Step( name = "AdditionalStep",
                                             add_user_defined_actions=False,
                                             )
  peano4_project.solversteps.add_step( additional_step )
  @endicode 

  Passing in True gives you a C++ template which you can befill with 
  semantics. Consult the @ref page_architecture_home "architecture" and 
  @ref peano_action_sets "action set" descriptions. Per step added, you should find a new class in observers.</code></p>
<p><code></code></p>
<h1><a class="anchor" id="autotoc_md1056"></a>
<code>Unify the data usage</code></h1>
<p><code></code></p>
<p><code> Though the repository now contains both solver's data structures and observers, the observers are not yet compatible with each other: Each observer needs to be told via use_face(), use_cell() and use_vertex() which data entities are out there. If we construct two separate solvers, solver A knows nothing of the data declared in solver B and vice versa. If we introduce additional mesh sweeps, these mesh sweeps do not know anything of each other either.</code></p>
<p><code> The merge() operation for the projects automatically ensures that all data are correct: It runs, for example, through all use_vertex() data of the first observer of solver A and adds those guys to all steps in solver B. There are some assumptions here to make this work:</code></p>
<p><code></p><ul>
<li>The attributes all have different names.</li>
<li>All observers use all vertices, faces and cells of a project. There are not a few observers which only use a subset. Peano allows this to happen, but this is not allowed if we merge projects.</li>
</ul>
<p></code></p>
<p><code> </p><dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000076">Todo</a></b></dt><dd>Dmitry, if we find that attributes' names clash, we have to rename them too</dd></dl>
<p></code></p>
<p><code> Additional external mesh sweeps are slightly more complicated. Here, we have to add all the use statements manually. Fortunately, some extensions such as ExaHyPE offer routines to register external, additional mesh sweeps, and you should use those.</code></p>
<p><code></code></p>
<h1><a class="anchor" id="autotoc_md1057"></a>
<code>Create a merged main file</code></h1>
<p><code></code></p>
<p><code> Once you have created your fused project with additional mesh traversals, you can alter your main routine and invoke the steps from the new, joint project.</code></p>
<p><code> </p><div class="fragment"><div class="line">  [...]</div>
<div class="line">) {</div>
<div class="line">  <a class="code hl_function" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0">peano4::parallel::Node::getInstance</a>().<a class="code hl_function" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a8a2b782cd625b91d5fdfb97b56f18caa">setNextProgramStep</a>(</div>
<div class="line">    repositories::StepRepository::toProgramStep( repositories::StepRepository::Steps::AdditionalStep )</div>
<div class="line">  );</div>
<div class="line"> </div>
<div class="line">  [...]</div>
<div class="line">}</div>
<div class="line">  [...]</div>
<div class="line">) {</div>
<div class="line">  <a class="code hl_function" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0">peano4::parallel::Node::getInstance</a>().<a class="code hl_function" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a8a2b782cd625b91d5fdfb97b56f18caa">setNextProgramStep</a>(</div>
<div class="line">    repositories::StepRepository::toProgramStep( repositories::StepRepository::Steps::SolverA_Sweep1 )</div>
<div class="line">  );</div>
<div class="line"> </div>
<div class="line">  [...]</div>
<div class="line">}</div>
<div class="line">  [...]</div>
<div class="line">) {</div>
<div class="line">  <a class="code hl_function" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0">peano4::parallel::Node::getInstance</a>().<a class="code hl_function" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a8a2b782cd625b91d5fdfb97b56f18caa">setNextProgramStep</a>(</div>
<div class="line">    repositories::StepRepository::toProgramStep( repositories::StepRepository::Steps::SolverB_Sweep1 )</div>
<div class="line">  );</div>
<div class="line"> </div>
<div class="line">  [...]</div>
<div class="line">}</div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1Node_html_a7bc31c5e9f0f24785ae7e19d7add30c0"><div class="ttname"><a href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0">peano4::parallel::Node::getInstance</a></div><div class="ttdeci">static Node &amp; getInstance()</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d73/Node_8cpp_source.html#l00077">Node.cpp:77</a></div></div>
<div class="ttc" id="aclasspeano4_1_1parallel_1_1Node_html_a8a2b782cd625b91d5fdfb97b56f18caa"><div class="ttname"><a href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a8a2b782cd625b91d5fdfb97b56f18caa">peano4::parallel::Node::setNextProgramStep</a></div><div class="ttdeci">void setNextProgramStep(int number)</div><div class="ttdoc">The user tells the set which program step to use, i.e.</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d73/Node_8cpp_source.html#l00415">Node.cpp:415</a></div></div>
</div><!-- fragment --><p></code></p>
<p><code> The toggling is straightforward and simple. However, you might have objects with states in your code, such as global solver objects. Some of these toggle their state after and before each mesh sweep, and then they make their behaviour depend upon the actual state. Some extensions therefore define routines such as</code></p>
<p><code> </p><div class="fragment"><div class="line">repositories::suspendSolversForOneGridSweep();</div>
</div><!-- fragment --><p></code></p>
<p><code> which you can use in the code to ensure that solvers do not misbehave.</code></p>
<p><code></code></p>
<h1><a class="anchor" id="autotoc_md1058"></a>
<code>Lowering two codes into a Peano project (additively)</code></h1>
<p><code> </code></p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../index.html">Peano</a></li><li class="navelem"><a class="el" href="../../dd/da2/page_peano4_home.html">Peano 4</a></li>
    <li class="footer">Generated on Tue Jul 1 2025 11:29:05 for Peano by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
