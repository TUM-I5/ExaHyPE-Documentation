<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="icon" href="../../Peano-icon.png" type="image/x-icon" />
<title>Peano</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-tabs.js"></script>
<script type="text/javascript" src="../../toggle-alternative-theme.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeTabs.init()
</script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../custom.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="../../custom-alternative.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- https://tholman.com/github-corners/ -->
<!-- https://bryce.io/gitlab-corners/ -->
<style>.gitlab-corner-wrapper{overflow:hidden;width:100px;height:100px;position:absolute;top:0;right:0}.gitlab-corner{position:absolute;top:-16px;right:-50px;transform:rotate(45deg);background:#333;border:44px solid #333;border-bottom:none;border-top:#333 solid 16px}.gitlab-corner svg{width:60px;height:60px;margin-bottom:-4px}.cls-1{fill:#fc6d26}.cls-2{fill:#e24329}.cls-3{fill:#fca326}.gitlab-corner:hover .cls-1{animation:cycle .6s}.gitlab-corner:hover .cls-2{animation:cycleMid .6s}.gitlab-corner:hover .cls-3{animation:cycleEnd .6s}@keyframes cycle{100%,15%,60%{fill:#fc6d26}30%,75%{fill:#e24329}45%,90%{fill:#fca326}}@keyframes cycleMid{100%,15%,60%{fill:#e24329}30%,75%{fill:#fca326}45%,90%{fill:#fc6d26}}@keyframes cycleEnd{100%,15%,60%{fill:#fca326}30%,75%{fill:#fc6d26}45%,90%{fill:#e24329}}@media (max-width:500px){.gitlab-corner:hover .cls-1,.gitlab-corner:hover .cls-2,.gitlab-corner:hover .cls-3{animation:none}.gitlab-corner .cls-1{animation:cycle .6s}.gitlab-corner .cls-2{animation:cycleMid .6s}.gitlab-corner .cls-3{animation:cycleEnd .6s}}</style><div class="gitlab-corner-wrapper"><a href="https://gitlab.lrz.de/hpcsoftware/Peano" class="gitlab-corner" aria-label="View source on GitLab"><svg id="logo_art" data-name="logo art" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 586 559"><g id="g44"><path id="path46" class="cls-1" d="M461.17,301.83l-18.91-58.12L404.84,128.43a6.47,6.47,0,0,0-12.27,0L355.15,243.64H230.82L193.4,128.43a6.46,6.46,0,0,0-12.26,0L143.78,243.64l-18.91,58.19a12.88,12.88,0,0,0,4.66,14.39L293,435,456.44,316.22a12.9,12.9,0,0,0,4.73-14.39"/></g><g id="g48"><path id="path50" class="cls-2" d="M293,434.91h0l62.16-191.28H230.87L293,434.91Z"/></g><g id="g56"><path id="path58" class="cls-1" d="M293,434.91,230.82,243.63h-87L293,434.91Z"/></g><g id="g64"><path id="path66" class="cls-3" d="M143.75,243.69h0l-18.91,58.12a12.88,12.88,0,0,0,4.66,14.39L293,435,143.75,243.69Z"/></g><g id="g72"><path id="path74" class="cls-2" d="M143.78,243.69h87.11L193.4,128.49a6.47,6.47,0,0,0-12.27,0l-37.35,115.2Z"/></g><g id="g76"><path id="path78" class="cls-1" d="M293,434.91l62.16-191.28H442.3L293,434.91Z"/></g><g id="g80"><path id="path82" class="cls-3" d="M442.24,243.69h0l18.91,58.12a12.85,12.85,0,0,1-4.66,14.39L293,434.91l149.2-191.22Z"/></g><g id="g84"><path id="path86" class="cls-2" d="M442.28,243.69h-87.1l37.42-115.2a6.46,6.46,0,0,1,12.26,0l37.42,115.2Z"/></g></svg></a></div>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../Peano-icon.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Peano
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('de/dd9/page_installation_home.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Installation</div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md942">Dependencies and Prerequisites</a><ul><li class="level2"><a href="#autotoc_md943">Required</a></li>
<li class="level2"><a href="#autotoc_md944">Recommended</a></li>
<li class="level2"><a href="#autotoc_md945">Optional</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md946">Configure Peano</a><ul><li class="level2"><a href="#autotoc_md947">Autotools</a></li>
<li class="level2"><a href="#autotoc_md948">CMake</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md949">Build</a></li>
<li class="level1"><a href="#autotoc_md950">Test</a></li>
<li class="level1"><a href="#autotoc_md951">Install</a></li>
<li class="level1"><a href="#autotoc_md952">Python Configuration</a><ul><li class="level2"><a href="#autotoc_md953">Package Installation</a></li>
<li class="level2"><a href="#autotoc_md954">Manually Adding the Python Path</a></li>
<li class="level2"><a href="#autotoc_md955">Python Dependencies</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md956">Fortran</a></li>
<li class="level1"><a href="#autotoc_md957">Sample Installation Script for Autotools</a></li>
<li class="level1"><a href="#autotoc_md958">Sample Installation Script for CMake</a></li>
<li class="level1"><a href="#autotoc_md959">Containers</a></li>
</ul>
</div>
<div class="textblock"><p>Peano is typically acquired through a git clone. You have to clone this archive first. We grant access free of charge, and the repository is public. However, we ask users to sign up for the software if they intend to push modifications to the code - which we very much appreciate. This way, we can report to funding agencies how frequently the software is used, and I also have at least some ideas about which application areas benefit from the software and where it is actively used and developed. If you do not intend to modify the core code base, you can just clone the code anonymously. </p><pre class="fragment">git clone https://gitlab.lrz.de/hpcsoftware/Peano.git
</pre><p> I still maintain the "old" Peano in the repository (version 3). However, we now work with the fourth generation of Peano (p4). Therefore, the default master is called <code>p4</code>.</p>
<h1><a class="anchor" id="autotoc_md942"></a>
Dependencies and Prerequisites</h1>
<p>Peano's core is plain C++17/C++20 code. We however use a whole set of tools around it.</p>
<h2><a class="anchor" id="autotoc_md943"></a>
Required</h2>
<ul>
<li>C++17/C++20-compatible C++ compiler.</li>
<li>GNU Autotools (Automake) to set up the system <b>or alternatively</b> CMake (3.21 or newer).</li>
</ul>
<h2><a class="anchor" id="autotoc_md944"></a>
Recommended</h2>
<ul>
<li>MPI. MPI's multithreaded support is required.</li>
<li>Intel's Threading Build Blocks, C++ threads or OpenMP for multithreading.</li>
<li>Python 3 (optional but recommended; not required if you work only with the C++ baseline).</li>
</ul>
<h2><a class="anchor" id="autotoc_md945"></a>
Optional</h2>
<ul>
<li>BLAS</li>
<li>The Visualization Toolkit (VTK) if you want to use the built-in visualisation facilities.</li>
<li>NVHPC, LLVM Clang, ROCm, AdaptiveCpp or Intel oneAPI for GPU offloading.</li>
<li>HDF5.</li>
<li>NetCDF.</li>
<li>LIBXSMM.</li>
</ul>
<p>You will also need Doxygen if you want to create HTML pages of the documentation yourself. Unless you work exclusively with the Peano core in C++, you will have to ensure that your Python installation meets all requirements (see remarks below).</p>
<p>We test and maintain Peano for Linux only. If you prefer Windows or MacOS, it should work as long as you provide the mandatory tools from above, but we won't be able to help. Peano is well-integrated with a number of third party tools, but these are all optional.</p>
<h1><a class="anchor" id="autotoc_md946"></a>
Configure Peano</h1>
<p>We currently provide support for Autotools and CMake with Peano. After you have cloned the repository, you will have to to set up your installation using either of these two build systems. This will allow you to build the Peano core libraries and is a step required before you use any application or tool built on top of Peano such as ExaHyPE or our PETSc multigrid environment.</p>
<h2><a class="anchor" id="autotoc_md947"></a>
Autotools</h2>
<ul>
<li>Ensure you have the Autotools packages installed on your system. They typically are shipped in the packages <code>autoconf</code>, <code>automake</code> and <code>libtool</code>.</li>
<li>Set up the configure environment:</li>
</ul>
<div class="fragment"><div class="line">libtoolize; aclocal; autoconf; autoheader; cp src/config.h.in .</div>
<div class="line">automake --add-missing</div>
</div><!-- fragment --><p>These steps should only be required once, unless you push major revisions to the development branch.</p><ul>
<li>Next, type in</li>
</ul>
<div class="fragment"><div class="line">./configure --help</div>
</div><!-- fragment --><p>The <code>--help</code> option should give you some information about the available variants of Peano, its extensions and toolboxes.</p>
<p>It is recommended that you start a first test without any additional flavours of Peano, i.e. to work with a plain <code>./configure</code> call. Once the tests pass, you may add further options (IO) and/or parallelisation. Please note that the baseline configure is not sufficient for most applications, as it builds merely Peano's core libraries.</p>
<div style="background-color: #cfc ; padding: 10px; border: 1px solid green;"> This might be the right time to look ahead and study the tutorials of the codes you wanna use. All of them need different toolboxes and extensions. ExaHyPE, for example, requires you to activate &ndash;enable-blockstructured and &ndash;enable-exahype at least (&ndash;enable-loadbalancing is recommended), while the SPH code Swift needs at least &ndash;enable-particles and &ndash;enable-swift. </div><p>Besides Peano's toolboxes and extensions, compilers, linkers and both compiler and linker flags can be changed by resetting the corresponding environment variables (such as <code>CXX</code> or <code>LDFLAGS</code> or <code>CCFLAGS</code>) <em>prior</em> to the configure call. Alternatively, you can pass the variables to be used to <code>configure</code> through arguments (<code>./configure CXX=icpc ...</code>, e.g.). Please consult the <code>--help</code> output for details.</p>
<p>Most Linux tools prefer you to specify a dedicated installation directory via <code>--prefix</code>. For Peano, things are slightly different: Peano is a mere set of libraries, i.e. not "useful" per se. It is applications built on top of Peano that become tools that you might later want to install/deploy on your system. Therefore, I ship Peano with static libraries only, and most users work with the code in the download/installation directory. So no need to specify a proper installation directory via <code>--prefix</code>.</p>
<h2><a class="anchor" id="autotoc_md948"></a>
CMake</h2>
<div style="background-color: #fcc ; padding: 10px; border: 1px solid green;"> CMake's functionality mirrors the capabilities of the Autotools. </div><p>Using CMake is again relatively simple. First, we create a new directory. Typically it is recommended to create a new build directory within the Peano repository's clone:</p>
<div class="fragment"><div class="line">mkdir build</div>
<div class="line">cd build</div>
<div class="line">cmake ..</div>
</div><!-- fragment --><p>Alternatively, you can also create a new build directory anywhere else on your workstation:</p>
<div class="fragment"><div class="line">mkdir build</div>
<div class="line">cd build</div>
<div class="line">cmake Peano-src</div>
</div><!-- fragment --><p>where Peano-src points to the checkout.</p>
<p>Next, you might want to type in <code>cmake help</code> but this might be a little bit overwhelmning. Try</p>
<div class="fragment"><div class="line">ccmake Peano-dir</div>
</div><!-- fragment --><p>instead, where you replace Peano-dir with the directory of Peano's sources. Handing in .. does the job for most of the setups.</p>
<div style="background-color: #cfc ; padding: 10px; border: 1px solid green;"> This might be the right time to look ahead and study the tutorials of the codes you wanna use. All of them need different toolboxes and extensions. ExaHyPE, for example, requires you to activate BLOCKSTRUCTURED and EXAHYPE at least (LOADBALANCING is recommended), while the SPH code Swift needs at least PARTICLES and SWIFT. </div><p>Configure by pressing c and then q to finish the configuration. Next, continue with building the code.</p>
<h1><a class="anchor" id="autotoc_md949"></a>
Build</h1>
<p>Once the configuration has been successful, a simple </p><pre class="fragment">make
</pre><p> should build the core. It also builds some examples and all the extensions and toolboxes you have manually enabled. All of these go into static libraries. The code is not small and you thus might prefer </p><pre class="fragment">make -jx
</pre><p> with x being the number of parallel builds to use.</p>
<h1><a class="anchor" id="autotoc_md950"></a>
Test</h1>
<p>Once you have compiled, we recommend that you run all tests using </p><pre class="fragment">make check
</pre><p> for the autotools or </p><pre class="fragment">make test
</pre><p> for CMake.</p>
<p>The call launches Peano's unit test, i.e. all the unit tests for the core plus the extensions that you have enabled.</p>
<p>The test target is written such that it works out-of-the-box for non-MPI calls. If you have configured with MPI, then the unit tests will fail. But this does not mean that the unit tests are broken. It is simply due to the fact that the Makefile's test target does not know that you have to use the <code>mpirun</code> prefix. To make a long story short: If you use MPI and you want to run the unit tests, you have to do so manually.</p>
<p>To run 2D and 3D tests individually, use </p><pre class="fragment">src/unittests/UnitTests2d
src/unittests/UnitTests3d
</pre><p> You can run these builds with different core counts and also MPI support if you have compiled with MPI. The executables contain both node correctness tests and MPI ping-pong tests, i.e. you can both assess a valid build plus a working MPI environment.</p>
<div style="background-color: #ccf ; padding: 10px; border: 1px solid green;"> Good time to stop. Jump straight into one of the tutorials if you want to. If things don't work (Python complains for example), return to this page and read through the text below. But maybe it is the right time just to play around with code. </div><h1><a class="anchor" id="autotoc_md951"></a>
Install</h1>
<p>CMake allows to install all targets in a self-contained bundle. You need to specify the installation path by amending the <code>CMAKE_INSTALL_PREFIX</code> variable:</p>
<div class="fragment"><div class="line">mkdir build</div>
<div class="line">cd build</div>
<div class="line">cmake Peano-src -DCMAKE_INSTALL_PREFIX=&lt;install_path&gt;</div>
<div class="line">make install</div>
</div><!-- fragment --><p>The autotools allow you to do the same by passing in &ndash;prefix=mydir into the ./configure command and then you call</p>
<div class="fragment"><div class="line">./configure --prefix=mydir -- all the other parameters</div>
<div class="line">make</div>
<div class="line">make install</div>
</div><!-- fragment --><div style="background-color: #fcc ; padding: 10px; border: 1px solid green;"> Peano is <em><b>not</b></em> a piece of software that you use as a black box. It is an engine that you use to write your own code. You can install Peano and its extensions. That means basically that you move its static libraries to a separate directory. But there is no such thing as a Peano application. </div><h1><a class="anchor" id="autotoc_md952"></a>
Python Configuration</h1>
<p>Peano's Python front-end (API) is developed with Python 3. Python 2 is not supported.</p>
<h2><a class="anchor" id="autotoc_md953"></a>
Package Installation</h2>
<p>Our code base relies on several Python packages. There's a requirements specification file which you can use to ensure that all requirements are met:</p>
<div class="fragment"><div class="line">pip install -<a class="code hl_variable" href="../../d0/de2/hydro__iact_8h.html#a9275d161581a75241fbf34397c38c58e">r</a> requirements.txt</div>
<div class="ttc" id="ahydro__iact_8h_html_a9275d161581a75241fbf34397c38c58e"><div class="ttname"><a href="../../d0/de2/hydro__iact_8h.html#a9275d161581a75241fbf34397c38c58e">r</a></div><div class="ttdeci">const float r</div><div class="ttdef"><b>Definition</b> <a href="../../d0/de2/hydro__iact_8h_source.html#l00068">hydro_iact.h:68</a></div></div>
</div><!-- fragment --><p>where the requirements.txt file resides within Peano's root directory. Depending on your system, you might have to use pip3 or install the packages in your user space by adding <code>--user</code>.</p>
<p>The easiest way to install the Peano Python packages and to set the Python path directly is to navigate to <code>myPeanoDirectory/</code> first (you're in the right place if you see the <code>pyproject.toml</code> file), and then run </p><pre class="fragment">pip3 install -e .
</pre><p> to install the packages.</p>
<p>Note:</p><ul>
<li>The Python path is set automatically to the respective Peano modules.</li>
<li>It is strongly recommended to install the Python packages in editable mode (which is what the <code>-e</code> flag does). Otherwise, you'll have to re-install the packages every time something is changed.</li>
<li>The packages are not, and likely will never be, available through PyPI or other official Python package distributions. It simply doesn't make sense for them to be published this way.</li>
</ul>
<h2><a class="anchor" id="autotoc_md954"></a>
Manually Adding the Python Path</h2>
<p>As an alternative to installing the packages, you can modify your Python path manually. There are multiple ways to do so. The standard way is to set the <code>PYTHONPATH</code>, e.g.: </p><pre class="fragment">export PYTHONPATH=$PYTHONPATH:myPeanoDirectory/python
</pre><p> This can even be done in the <code>.bashrc</code>. If you "install" the Peano Python packages this way, you will also need to manually install additional dependencies, as noted below.</p>
<h2><a class="anchor" id="autotoc_md955"></a>
Python Dependencies</h2>
<p>Peano currently relies on the following Python packages/projects:</p>
<div class="fragment"><div class="line">Jinja2</div>
<div class="line">mpmath</div>
<div class="line">numpy</div>
<div class="line">matplotlib</div>
<div class="line">scipy</div>
<div class="line">sympy</div>
<div class="line">h5py</div>
<div class="line">vtk</div>
<div class="line">VTUinterface</div>
<div class="line">jupyter</div>
<div class="line">ast-comments</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md956"></a>
Fortran</h1>
<p>If you don't use Fortran in your own code, ignore this section.</p>
<p>Peano's core does not use any Fortran at all. However, some users use Fortran for their domain-specific programming. If you want to have a seemless integration of your particular Fortran choice through 's Python API, invoke <code>./configure</code> ensuring that the Fortran variables&mdash;in particular the environment variable <code>FC</code> identifying the compiler&mdash;are properly set.</p>
<p>For many codes and the GNU Fortran compiler, you need the flag <code>-fdefault-real-8</code>. You can export <code>FCFLAGS</code> and make it contain this argument before you invoke <code>configure</code>. As the Peano's core does not use Fortran&mdash;it is only applications built on top of &mdash;you can redefine the flags later on.</p>
<h1><a class="anchor" id="autotoc_md957"></a>
Sample Installation Script for Autotools</h1>
<p>Please find below a sample shell script for Autotools that will install Peano with ExaHyPE enabled. Here we use GCC and G++ as the C and C++ compiler, as well as OpenMP for the multithreading support. We also include some flags to suppress warnings.</p>
<div class="fragment"><div class="line">#!/bin/sh</div>
<div class="line"> </div>
<div class="line"># Cleanup the Peano directory if files from previous builds are present (comment-in to use)</div>
<div class="line">#make clean &amp;&amp; make distclean</div>
<div class="line"> </div>
<div class="line"># Prepare environment</div>
<div class="line">libtoolize; aclocal; autoconf; autoheader; cp src/config.h.in .; automake --add-missing;</div>
<div class="line"> </div>
<div class="line"># Configure Peano with whatever we need</div>
<div class="line">CC=gcc CXX=g++ ./configure --enable-exahype --enable-loadbalancing --enable-blockstructured --with-multithreading=omp CXXFLAGS=&quot;-std=c++20 -O3 -fopenmp -Wno-attributes&quot; LDFLAGS=&quot;-fopenmp&quot;</div>
<div class="line"> </div>
<div class="line"># Compile and check build. You might want to add -jX to build on X cores in parallel</div>
<div class="line">echo &quot;Starting compilation&quot;</div>
<div class="line">make</div>
<div class="line">echo &quot;Compilation complete. Now Checking...&quot;</div>
<div class="line"> </div>
<div class="line"># Checks installation and runs the unit tests</div>
<div class="line">make check</div>
<div class="line"> </div>
<div class="line">exit 0</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md958"></a>
Sample Installation Script for CMake</h1>
<p>Please find below a sample shell script for CMake that will install Peano with ExaHyPE enabled. Here we use GCC and G++ as the C and C++ compiler, as well as OpenMP for the multithreading support. All required flags are automatically added by CMake.</p>
<div class="fragment"><div class="line">#!/bin/sh</div>
<div class="line"> </div>
<div class="line"># Cleanup the Peano directory if files from previous builds are present (comment-in to use)</div>
<div class="line">#rm -rf build</div>
<div class="line"> </div>
<div class="line"># Prepare environment</div>
<div class="line">mkdir build &amp;&amp; cd build</div>
<div class="line"> </div>
<div class="line"># Configure Peano with whatever we need</div>
<div class="line">CC=gcc CXX=g++ cmake .. -DENABLE_EXAHYPE=ON -DENABLE_LOADBALANCING=ON -DENABLE_BLOCKSTRUCTURED=ON -DWITH_MULTITHREADING=omp</div>
<div class="line"> </div>
<div class="line"># Compile and check build. You might want to add -jX to build on X cores in parallel</div>
<div class="line">echo &quot;Starting compilation&quot;</div>
<div class="line">make</div>
<div class="line">echo &quot;Compilation complete. Now Checking...&quot;</div>
<div class="line"> </div>
<div class="line"># Checks installation and runs the unit tests</div>
<div class="line">make test</div>
<div class="line"> </div>
<div class="line">exit 0</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md959"></a>
Containers</h1>
<ul>
<li><a class="el" href="../../d6/db6/page_installation_with_spack.html">Installation with Spack</a> </li>
<li><a class="el" href="../../df/dbb/page_installation_with_docker.html">Installation with Docker</a> </li>
<li><a class="el" href="../../db/d56/page_installation_with_apptainer.html">Installation with Apptainer</a> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../index.html">Peano</a></li>
    <li class="footer">Generated on Tue Jul 1 2025 11:29:05 for Peano by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
