<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="icon" href="../../Peano-icon.png" type="image/x-icon" />
<title>Peano</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-tabs.js"></script>
<script type="text/javascript" src="../../toggle-alternative-theme.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeTabs.init()
</script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../custom.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="../../custom-alternative.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- https://tholman.com/github-corners/ -->
<!-- https://bryce.io/gitlab-corners/ -->
<style>.gitlab-corner-wrapper{overflow:hidden;width:100px;height:100px;position:absolute;top:0;right:0}.gitlab-corner{position:absolute;top:-16px;right:-50px;transform:rotate(45deg);background:#333;border:44px solid #333;border-bottom:none;border-top:#333 solid 16px}.gitlab-corner svg{width:60px;height:60px;margin-bottom:-4px}.cls-1{fill:#fc6d26}.cls-2{fill:#e24329}.cls-3{fill:#fca326}.gitlab-corner:hover .cls-1{animation:cycle .6s}.gitlab-corner:hover .cls-2{animation:cycleMid .6s}.gitlab-corner:hover .cls-3{animation:cycleEnd .6s}@keyframes cycle{100%,15%,60%{fill:#fc6d26}30%,75%{fill:#e24329}45%,90%{fill:#fca326}}@keyframes cycleMid{100%,15%,60%{fill:#e24329}30%,75%{fill:#fca326}45%,90%{fill:#fc6d26}}@keyframes cycleEnd{100%,15%,60%{fill:#fca326}30%,75%{fill:#fc6d26}45%,90%{fill:#e24329}}@media (max-width:500px){.gitlab-corner:hover .cls-1,.gitlab-corner:hover .cls-2,.gitlab-corner:hover .cls-3{animation:none}.gitlab-corner .cls-1{animation:cycle .6s}.gitlab-corner .cls-2{animation:cycleMid .6s}.gitlab-corner .cls-3{animation:cycleEnd .6s}}</style><div class="gitlab-corner-wrapper"><a href="https://gitlab.lrz.de/hpcsoftware/Peano" class="gitlab-corner" aria-label="View source on GitLab"><svg id="logo_art" data-name="logo art" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 586 559"><g id="g44"><path id="path46" class="cls-1" d="M461.17,301.83l-18.91-58.12L404.84,128.43a6.47,6.47,0,0,0-12.27,0L355.15,243.64H230.82L193.4,128.43a6.46,6.46,0,0,0-12.26,0L143.78,243.64l-18.91,58.19a12.88,12.88,0,0,0,4.66,14.39L293,435,456.44,316.22a12.9,12.9,0,0,0,4.73-14.39"/></g><g id="g48"><path id="path50" class="cls-2" d="M293,434.91h0l62.16-191.28H230.87L293,434.91Z"/></g><g id="g56"><path id="path58" class="cls-1" d="M293,434.91,230.82,243.63h-87L293,434.91Z"/></g><g id="g64"><path id="path66" class="cls-3" d="M143.75,243.69h0l-18.91,58.12a12.88,12.88,0,0,0,4.66,14.39L293,435,143.75,243.69Z"/></g><g id="g72"><path id="path74" class="cls-2" d="M143.78,243.69h87.11L193.4,128.49a6.47,6.47,0,0,0-12.27,0l-37.35,115.2Z"/></g><g id="g76"><path id="path78" class="cls-1" d="M293,434.91l62.16-191.28H442.3L293,434.91Z"/></g><g id="g80"><path id="path82" class="cls-3" d="M442.24,243.69h0l18.91,58.12a12.85,12.85,0,0,1-4.66,14.39L293,434.91l149.2-191.22Z"/></g><g id="g84"><path id="path86" class="cls-2" d="M442.28,243.69h-87.1l37.42-115.2a6.46,6.46,0,0,1,12.26,0l37.42,115.2Z"/></g></svg></a></div>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../Peano-icon.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Peano
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('df/df6/classpeano4_1_1grid_1_1Spacetree.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="#friends">Friends</a>  </div>
  <div class="headertitle"><div class="title">peano4::grid::Spacetree Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Represents one tree.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d1/d2e/Spacetree_8h_source.html">Spacetree.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for peano4::grid::Spacetree:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d35/classpeano4_1_1grid_1_1Spacetree__coll__graph.png" border="0" usemap="#apeano4_1_1grid_1_1Spacetree_coll__map" alt="Collaboration graph"/></div>
<map name="apeano4_1_1grid_1_1Spacetree_coll__map" id="apeano4_1_1grid_1_1Spacetree_coll__map">
<area shape="rect" title="Represents one tree." alt="" coords="1775,342,1951,367"/>
<area shape="rect" href="../../da/d79/classtarch_1_1logging_1_1Log.html" title="Log Device." alt="" coords="871,67,1014,93"/>
<area shape="poly" title=" " alt="" coords="1003,61,1146,33,1240,22,1342,17,1448,21,1555,37,1607,51,1657,68,1706,91,1752,118,1780,141,1803,170,1821,201,1835,234,1854,296,1862,341,1857,342,1849,298,1830,236,1816,204,1798,173,1776,145,1749,122,1704,95,1655,73,1605,56,1554,42,1448,26,1342,22,1240,27,1147,38,1004,67"/>
<area shape="rect" href="../../d1/d8e/classpeano4_1_1grid_1_1GridTraversalEventGenerator.html" title="Translate grid traversal automaton&#39;s transitions into user events." alt="" coords="1315,128,1512,168"/>
<area shape="poly" title=" " alt="" coords="1001,94,1075,111,1200,128,1315,139,1314,144,1199,134,1074,116,1000,99"/>
<area shape="rect" title=" " alt="" coords="559,67,646,93"/>
<area shape="poly" title=" " alt="" coords="660,77,871,77,871,83,660,83"/>
<area shape="rect" title=" " alt="" coords="165,60,303,100"/>
<area shape="poly" title=" " alt="" coords="317,77,559,77,559,83,317,83"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html" title=" " alt="" coords="1305,319,1522,345"/>
<area shape="poly" title=" " alt="" coords="1536,335,1775,348,1774,353,1535,341"/>
<area shape="rect" href="../../d7/d26/structtarch_1_1la_1_1Vector.html" title=" " alt="" coords="517,185,688,225"/>
<area shape="poly" title=" " alt="" coords="644,231,729,283,781,307,835,325,924,337,1048,340,1304,335,1304,340,1048,346,924,342,834,331,779,312,726,287,641,236"/>
<area shape="rect" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html" title=" " alt="" coords="1075,154,1273,179"/>
<area shape="poly" title=" " alt="" coords="660,178,726,157,819,145,914,142,1003,145,1079,151,1079,157,1002,150,914,147,820,150,727,163,662,183"/>
<area shape="rect" href="../../dd/de7/structpeano4_1_1grid_1_1GridControlEvent.html" title=" " alt="" coords="850,168,1035,208"/>
<area shape="poly" title=" " alt="" coords="701,204,811,201,849,198,850,203,811,207,702,210"/>
<area shape="rect" title=" " alt="" coords="845,393,1040,418"/>
<area shape="poly" title=" " alt="" coords="1053,397,1273,385,1775,357,1775,362,1273,391,1054,402"/>
<area shape="poly" title=" " alt="" coords="1053,390,1273,359,1356,342,1357,347,1274,364,1054,395"/>
<area shape="rect" href="../../d7/d26/structtarch_1_1la_1_1Vector.html" title=" " alt="" coords="857,233,1029,287"/>
<area shape="poly" title=" " alt="" coords="1043,272,1274,307,1336,317,1335,322,1273,312,1042,277"/>
<area shape="poly" title=" " alt="" coords="1241,180,1298,192,1367,203,1427,209,1529,214,1578,218,1630,226,1686,242,1752,267,1782,283,1810,303,1851,340,1847,344,1806,307,1779,288,1750,272,1685,247,1628,231,1577,223,1529,219,1426,214,1366,209,1297,197,1240,185"/>
<area shape="rect" title=" " alt="" coords="1355,453,1472,478"/>
<area shape="poly" title=" " alt="" coords="1481,478,1540,487,1609,490,1681,485,1716,477,1750,466,1784,445,1813,417,1852,366,1856,369,1817,421,1787,449,1752,470,1717,482,1682,490,1609,496,1540,492,1480,483"/>
<area shape="rect" title=" " alt="" coords="1297,502,1529,527"/>
<area shape="poly" title=" " alt="" coords="1476,528,1536,538,1607,542,1680,535,1716,525,1749,511,1771,497,1789,480,1820,439,1842,398,1855,367,1859,369,1847,401,1825,442,1793,483,1774,501,1752,516,1718,530,1681,540,1607,547,1536,543,1475,533"/>
<area shape="rect" href="../../dd/d3a/structpeano4_1_1SplitInstruction.html" title="Instruction to split." alt="" coords="855,499,1031,525"/>
<area shape="poly" title=" " alt="" coords="1044,510,1297,511,1297,517,1044,515"/>
<area shape="poly" title=" " alt="" coords="1526,136,1581,137,1640,145,1698,160,1752,186,1774,202,1793,222,1825,265,1847,308,1860,341,1855,343,1842,311,1820,268,1789,225,1770,206,1749,190,1696,165,1639,150,1581,143,1526,141"/>
<area shape="rect" href="../../de/d6d/classpeano4_1_1maps_1_1HierarchicalStackMap.html" title=" " alt="" coords="1313,552,1513,592"/>
<area shape="poly" title=" " alt="" coords="1509,592,1567,598,1629,598,1692,588,1721,577,1749,563,1774,543,1796,519,1813,491,1828,463,1847,408,1857,367,1862,368,1852,409,1832,465,1818,494,1800,522,1778,547,1752,568,1724,582,1693,593,1630,604,1566,604,1508,597"/>
<area shape="rect" title=" " alt="" coords="835,549,1051,603"/>
<area shape="poly" title=" " alt="" coords="1064,572,1313,570,1313,576,1064,578"/>
<area shape="rect" href="../../d5/d26/structpeano4_1_1maps_1_1HierarchicalStackMap_1_1TreeData.html" title="Data of one tree." alt="" coords="503,556,703,596"/>
<area shape="poly" title=" " alt="" coords="717,573,834,573,834,579,717,579"/>
<area shape="rect" title=" " alt="" coords="157,563,311,589"/>
<area shape="poly" title=" " alt="" coords="324,573,502,573,502,579,324,579"/>
<area shape="rect" title=" " alt="" coords="5,563,44,589"/>
<area shape="poly" title=" " alt="" coords="58,573,157,573,157,579,58,579"/>
<area shape="rect" title=" " alt="" coords="1319,255,1508,295"/>
<area shape="poly" title=" " alt="" coords="1522,282,1633,296,1751,317,1827,339,1825,344,1750,323,1632,301,1521,287"/>
<area shape="poly" title=" " alt="" coords="1049,205,1319,255,1318,260,1048,210"/>
<area shape="rect" title=" " alt="" coords="1344,617,1483,642"/>
<area shape="poly" title=" " alt="" coords="1472,643,1534,654,1606,658,1644,656,1681,649,1717,637,1749,619,1779,593,1803,561,1821,525,1835,488,1852,417,1858,367,1863,368,1857,418,1840,489,1826,527,1807,564,1783,597,1752,624,1719,642,1683,654,1645,661,1606,664,1533,659,1471,648"/>
</map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0bf4a04dc8b6a707e0360a288085afb8" id="r_a0bf4a04dc8b6a707e0360a288085afb8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0bf4a04dc8b6a707e0360a288085afb8">Spacetree</a> (<a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../d7/d26/structtarch_1_1la_1_1Vector.html">tarch::la::Vector</a>&lt; Dimensions, <a class="el" href="../../db/d20/DiscontinuousGalerkinDiscretisation_8Abstract_8template_8cpp.html#a962c06c0fea2c76dd28c454654a79417">double</a> &gt; &amp;offset, <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../d7/d26/structtarch_1_1la_1_1Vector.html">tarch::la::Vector</a>&lt; Dimensions, <a class="el" href="../../db/d20/DiscontinuousGalerkinDiscretisation_8Abstract_8template_8cpp.html#a962c06c0fea2c76dd28c454654a79417">double</a> &gt; &amp;width, <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> std::bitset&lt; Dimensions &gt; &amp;<a class="el" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a57ebc38ae51b6d4b0e7e1dc43442f318">periodicBC</a>=0)</td></tr>
<tr class="separator:a0bf4a04dc8b6a707e0360a288085afb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3025834edd764def4888668b34a9a381" id="r_a3025834edd764def4888668b34a9a381"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3025834edd764def4888668b34a9a381">~Spacetree</a> ()=default</td></tr>
<tr class="separator:a3025834edd764def4888668b34a9a381"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc6197067d18531527465392bce7e3c0" id="r_acc6197067d18531527465392bce7e3c0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acc6197067d18531527465392bce7e3c0">traverse</a> (<a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html">TraversalObserver</a> &amp;observer, <a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a> calledFromSpacetreeSet=false)</td></tr>
<tr class="separator:acc6197067d18531527465392bce7e3c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a92ee6f9a9b343569d57077f921cb25" id="r_a1a92ee6f9a9b343569d57077f921cb25"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html">GridStatistics</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1a92ee6f9a9b343569d57077f921cb25">getGridStatistics</a> () <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a></td></tr>
<tr class="separator:a1a92ee6f9a9b343569d57077f921cb25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a97add868885a7f9684e776de755745" id="r_a4a97add868885a7f9684e776de755745"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4a97add868885a7f9684e776de755745">toString</a> () <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a></td></tr>
<tr class="separator:a4a97add868885a7f9684e776de755745"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cd8b7de81c054b808083b02007c54cd" id="r_a1cd8b7de81c054b808083b02007c54cd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1cd8b7de81c054b808083b02007c54cd">isInvolvedInJoinOrFork</a> () <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a></td></tr>
<tr class="separator:a1cd8b7de81c054b808083b02007c54cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a52cd21c8e3ba7bf1cb6bc32ea350da0e" id="r_a52cd21c8e3ba7bf1cb6bc32ea350da0e"><td class="memItemLeft" align="right" valign="top">static constexpr <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a52cd21c8e3ba7bf1cb6bc32ea350da0e">RankOfPeriodicBoundaryCondition</a> = -2</td></tr>
<tr class="memdesc:a52cd21c8e3ba7bf1cb6bc32ea350da0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Periodic boundary conditions are technically realised as domain decomposition, i.e.  <br /></td></tr>
<tr class="separator:a52cd21c8e3ba7bf1cb6bc32ea350da0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cc3059eb9aa4928de4289148ca25f0c" id="r_a8cc3059eb9aa4928de4289148ca25f0c"><td class="memItemLeft" align="right" valign="top">static constexpr <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8cc3059eb9aa4928de4289148ca25f0c">NumberOfStationarySweepsToWaitAtLeastTillJoin</a> = 2</td></tr>
<tr class="separator:a8cc3059eb9aa4928de4289148ca25f0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-types" name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a29db4d673d7176a7c717e704106f022a" id="r_a29db4d673d7176a7c717e704106f022a"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="../../de/d6d/classpeano4_1_1maps_1_1HierarchicalStackMap.html">peano4::maps::HierarchicalStackMap</a>&lt; <a class="el" href="../../dc/d7e/namespacepeano4_1_1stacks.html#ab77b59d2d06b6e70e0978db44399e54a">peano4::stacks::GridVertexStack</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a29db4d673d7176a7c717e704106f022a">GridVertexStackMap</a></td></tr>
<tr class="separator:a29db4d673d7176a7c717e704106f022a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:afe9730dc3126f08ec31186187c7a6b54" id="r_afe9730dc3126f08ec31186187c7a6b54"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afe9730dc3126f08ec31186187c7a6b54">isCellSplitCandidate</a> (<a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> coarseGridVertices[<a class="el" href="../../d9/df1/Globals_8h.html#ae7c038f02be8703e671d700496803857">TwoPowerD</a>], <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> fineGridVertices[<a class="el" href="../../d9/df1/Globals_8h.html#ae7c038f02be8703e671d700496803857">TwoPowerD</a>]) <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a></td></tr>
<tr class="memdesc:afe9730dc3126f08ec31186187c7a6b54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Can a cell be split (deployed to another rank)  <br /></td></tr>
<tr class="separator:afe9730dc3126f08ec31186187c7a6b54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d5fcd0227a21505b358dde6c3d3b039" id="r_a9d5fcd0227a21505b358dde6c3d3b039"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9d5fcd0227a21505b358dde6c3d3b039">evaluateGridControlEvents</a> (<a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html">AutomatonState</a> &amp;fineGridState, <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> coarseGridVertices[<a class="el" href="../../d9/df1/Globals_8h.html#ae7c038f02be8703e671d700496803857">TwoPowerD</a>], <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> fineGridVertices[<a class="el" href="../../d9/df1/Globals_8h.html#ae7c038f02be8703e671d700496803857">TwoPowerD</a>])</td></tr>
<tr class="memdesc:a9d5fcd0227a21505b358dde6c3d3b039"><td class="mdescLeft">&#160;</td><td class="mdescRight">Should only be called for inner cells.  <br /></td></tr>
<tr class="separator:a9d5fcd0227a21505b358dde6c3d3b039"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34325b1b9b768b73b9b0e38e3575617b" id="r_a34325b1b9b768b73b9b0e38e3575617b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a34325b1b9b768b73b9b0e38e3575617b">markVerticesAroundForkedCell</a> (<a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> coarseGridVertices[<a class="el" href="../../d9/df1/Globals_8h.html#ae7c038f02be8703e671d700496803857">TwoPowerD</a>], <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> fineGridVertices[<a class="el" href="../../d9/df1/Globals_8h.html#ae7c038f02be8703e671d700496803857">TwoPowerD</a>]) <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a></td></tr>
<tr class="memdesc:a34325b1b9b768b73b9b0e38e3575617b"><td class="mdescLeft">&#160;</td><td class="mdescRight">setIsAntecessorOfRefinedVertexInCurrentTreeSweep()  <br /></td></tr>
<tr class="separator:a34325b1b9b768b73b9b0e38e3575617b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1ea9e39e26b6d52d8d38c06cf4db78a" id="r_aa1ea9e39e26b6d52d8d38c06cf4db78a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa1ea9e39e26b6d52d8d38c06cf4db78a">isVertexAdjacentToLocalSpacetree</a> (<a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> vertex, <a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a> splittingIsConsideredLocal, <a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a> joiningIsConsideredLocal) <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a></td></tr>
<tr class="memdesc:aa1ea9e39e26b6d52d8d38c06cf4db78a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns if a vertex is local to adjacent tree.  <br /></td></tr>
<tr class="separator:aa1ea9e39e26b6d52d8d38c06cf4db78a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac653a490c1610c6aeaf7344ee3e4033f" id="r_ac653a490c1610c6aeaf7344ee3e4033f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac653a490c1610c6aeaf7344ee3e4033f">doesRankIndexIdentifyHorizontalDataExchange</a> (<a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> rank, <a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a> calledByReceivingProcess) <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a></td></tr>
<tr class="memdesc:ac653a490c1610c6aeaf7344ee3e4033f"><td class="mdescLeft">&#160;</td><td class="mdescRight">You may exchange data horizontally with rank if and only if.  <br /></td></tr>
<tr class="separator:ac653a490c1610c6aeaf7344ee3e4033f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a367c9546982d88a9d25f7b5e722349" id="r_a6a367c9546982d88a9d25f7b5e722349"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6a367c9546982d88a9d25f7b5e722349">descend</a> (<a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html">AutomatonState</a> &amp;<a class="el" href="../../d0/d31/GridTraversalEventGeneratorTest_8cpp.html#a3b6f08cc1aee02c7b40b0a2d503beeb8">state</a>, <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> vertices[<a class="el" href="../../d9/df1/Globals_8h.html#ae7c038f02be8703e671d700496803857">TwoPowerD</a>], <a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html">TraversalObserver</a> &amp;observer)</td></tr>
<tr class="separator:a6a367c9546982d88a9d25f7b5e722349"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c4ee0edb468eab3002d773ee7c855ad" id="r_a6c4ee0edb468eab3002d773ee7c855ad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6c4ee0edb468eab3002d773ee7c855ad">isSpacetreeNodeLocal</a> (<a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> vertices[<a class="el" href="../../d9/df1/Globals_8h.html#ae7c038f02be8703e671d700496803857">TwoPowerD</a>], <a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a> splittingIsConsideredLocal, <a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a> joiningIsConsideredLocal) <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a></td></tr>
<tr class="memdesc:a6c4ee0edb468eab3002d773ee7c855ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrapper around <a class="el" href="../../d1/d8e/classpeano4_1_1grid_1_1GridTraversalEventGenerator.html#a3f57dfd8e99015fa5956d0a368773748" title="A spacetree node has 2^d adjacent vertices.">GridTraversalEventGenerator::isSpacetreeNodeLocal()</a>  <br /></td></tr>
<tr class="separator:a6c4ee0edb468eab3002d773ee7c855ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46da4ba68116500f1747eb82a52a8a2c" id="r_a46da4ba68116500f1747eb82a52a8a2c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a46da4ba68116500f1747eb82a52a8a2c">areAllVerticesRefined</a> (<a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> vertices[<a class="el" href="../../d9/df1/Globals_8h.html#ae7c038f02be8703e671d700496803857">TwoPowerD</a>]) <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a></td></tr>
<tr class="separator:a46da4ba68116500f1747eb82a52a8a2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a652f2e7f1761d3ca5e8168b50db2bd04" id="r_a652f2e7f1761d3ca5e8168b50db2bd04"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a652f2e7f1761d3ca5e8168b50db2bd04">areAllVerticesUnrefined</a> (<a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> vertices[<a class="el" href="../../d9/df1/Globals_8h.html#ae7c038f02be8703e671d700496803857">TwoPowerD</a>]) <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a></td></tr>
<tr class="separator:a652f2e7f1761d3ca5e8168b50db2bd04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc2d2a39b057120020876c1a675b7d81" id="r_afc2d2a39b057120020876c1a675b7d81"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afc2d2a39b057120020876c1a675b7d81">areAllVerticesNonHanging</a> (<a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> vertices[<a class="el" href="../../d9/df1/Globals_8h.html#ae7c038f02be8703e671d700496803857">TwoPowerD</a>]) <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a></td></tr>
<tr class="memdesc:afc2d2a39b057120020876c1a675b7d81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Could also be called areAllVerticesPersistent() in the Peano terminology.  <br /></td></tr>
<tr class="separator:afc2d2a39b057120020876c1a675b7d81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47661502ff6b61cb8ebbe69193bc16ea" id="r_a47661502ff6b61cb8ebbe69193bc16ea"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a47661502ff6b61cb8ebbe69193bc16ea">loadVertices</a> (<a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html">AutomatonState</a> &amp;fineGridState, <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> coarseGridVertices[<a class="el" href="../../d9/df1/Globals_8h.html#ae7c038f02be8703e671d700496803857">TwoPowerD</a>], <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> fineGridVertices[<a class="el" href="../../d9/df1/Globals_8h.html#ae7c038f02be8703e671d700496803857">TwoPowerD</a>], <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../d7/d26/structtarch_1_1la_1_1Vector.html">tarch::la::Vector</a>&lt; Dimensions, <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> &gt; &amp;cellPositionWithin3x3Patch, <a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html">TraversalObserver</a> &amp;observer)</td></tr>
<tr class="memdesc:a47661502ff6b61cb8ebbe69193bc16ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load the vertices of one cell.  <br /></td></tr>
<tr class="separator:a47661502ff6b61cb8ebbe69193bc16ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a152bba0306a93aded392c84ad9686c6f" id="r_a152bba0306a93aded392c84ad9686c6f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a152bba0306a93aded392c84ad9686c6f">storeVertices</a> (<a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html">AutomatonState</a> &amp;fineGridState, <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> coarseGridVertices[<a class="el" href="../../d9/df1/Globals_8h.html#ae7c038f02be8703e671d700496803857">TwoPowerD</a>], <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> fineGridVertices[<a class="el" href="../../d9/df1/Globals_8h.html#ae7c038f02be8703e671d700496803857">TwoPowerD</a>], <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../d7/d26/structtarch_1_1la_1_1Vector.html">tarch::la::Vector</a>&lt; Dimensions, <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> &gt; &amp;cellPositionWithin3x3Patch, <a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html">TraversalObserver</a> &amp;observer)</td></tr>
<tr class="separator:a152bba0306a93aded392c84ad9686c6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f19f9be10874eb4bd606fafb9050f00" id="r_a1f19f9be10874eb4bd606fafb9050f00"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1f19f9be10874eb4bd606fafb9050f00">updateVertexAfterLoad</a> (<a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> &amp;vertex, <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> fineGridVertices[<a class="el" href="../../d9/df1/Globals_8h.html#ae7c038f02be8703e671d700496803857">TwoPowerD</a>], <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../d7/d26/structtarch_1_1la_1_1Vector.html">tarch::la::Vector</a>&lt; Dimensions, <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> &gt; &amp;fineVertexPositionWithinPatch, <a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html">TraversalObserver</a> &amp;observer)</td></tr>
<tr class="memdesc:a1f19f9be10874eb4bd606fafb9050f00"><td class="mdescLeft">&#160;</td><td class="mdescRight">This operation has multiple purposes.  <br /></td></tr>
<tr class="separator:a1f19f9be10874eb4bd606fafb9050f00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17f98eb4d6f868c1849af115277ba99a" id="r_a17f98eb4d6f868c1849af115277ba99a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a17f98eb4d6f868c1849af115277ba99a">removeDuplicateEntriesFromAdjancyListInEvent</a> (<a class="el" href="../../d2/d7c/structpeano4_1_1grid_1_1GridTraversalEvent.html">GridTraversalEvent</a> &amp;event) <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a></td></tr>
<tr class="memdesc:a17f98eb4d6f868c1849af115277ba99a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Some of the entries in the event are modelled as array (for example the set of neighbours of a vertex), though they are logically sets.  <br /></td></tr>
<tr class="separator:a17f98eb4d6f868c1849af115277ba99a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5eca5f0899a0745803432b1cf459ca8c" id="r_a5eca5f0899a0745803432b1cf459ca8c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5eca5f0899a0745803432b1cf459ca8c">receiveAndMergeUserData</a> (<a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html">AutomatonState</a> &amp;<a class="el" href="../../d0/d31/GridTraversalEventGeneratorTest_8cpp.html#a3b6f08cc1aee02c7b40b0a2d503beeb8">state</a>, <a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html">TraversalObserver</a> &amp;observer, <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../d2/d7c/structpeano4_1_1grid_1_1GridTraversalEvent.html">GridTraversalEvent</a> &amp;enterCellTraversalEvent, <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> fineGridVertices[<a class="el" href="../../d9/df1/Globals_8h.html#ae7c038f02be8703e671d700496803857">TwoPowerD</a>])</td></tr>
<tr class="separator:a5eca5f0899a0745803432b1cf459ca8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b1398413e236a31626e82abcf2e8432" id="r_a1b1398413e236a31626e82abcf2e8432"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1b1398413e236a31626e82abcf2e8432">sendUserData</a> (<a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html">AutomatonState</a> &amp;<a class="el" href="../../d0/d31/GridTraversalEventGeneratorTest_8cpp.html#a3b6f08cc1aee02c7b40b0a2d503beeb8">state</a>, <a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html">TraversalObserver</a> &amp;observer, <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../d2/d7c/structpeano4_1_1grid_1_1GridTraversalEvent.html">GridTraversalEvent</a> &amp;enterCellTraversalEvent, <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> fineGridVertices[<a class="el" href="../../d9/df1/Globals_8h.html#ae7c038f02be8703e671d700496803857">TwoPowerD</a>])</td></tr>
<tr class="memdesc:a1b1398413e236a31626e82abcf2e8432"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send user data.  <br /></td></tr>
<tr class="separator:a1b1398413e236a31626e82abcf2e8432"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85cba869defa7a1b32338f35f373de8c" id="r_a85cba869defa7a1b32338f35f373de8c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a85cba869defa7a1b32338f35f373de8c">splitOrJoinCellBottomUp</a> (<a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> vertex[<a class="el" href="../../d9/df1/Globals_8h.html#ae7c038f02be8703e671d700496803857">TwoPowerD</a>], <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> fineGridVertices[<a class="el" href="../../d9/df1/Globals_8h.html#ae7c038f02be8703e671d700496803857">TwoPowerD</a>])</td></tr>
<tr class="memdesc:a85cba869defa7a1b32338f35f373de8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Realise the splits and joins.  <br /></td></tr>
<tr class="separator:a85cba869defa7a1b32338f35f373de8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af60654c13930f6d542f840414fc56b0e" id="r_af60654c13930f6d542f840414fc56b0e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af60654c13930f6d542f840414fc56b0e">splitCellTopDown</a> (<a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> vertex[<a class="el" href="../../d9/df1/Globals_8h.html#ae7c038f02be8703e671d700496803857">TwoPowerD</a>], <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> fineGridVertices[<a class="el" href="../../d9/df1/Globals_8h.html#ae7c038f02be8703e671d700496803857">TwoPowerD</a>])</td></tr>
<tr class="memdesc:af60654c13930f6d542f840414fc56b0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Split cell in a top down fashion.  <br /></td></tr>
<tr class="separator:af60654c13930f6d542f840414fc56b0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3cd09a3902f2562495318fd7f7d78d0" id="r_af3cd09a3902f2562495318fd7f7d78d0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af3cd09a3902f2562495318fd7f7d78d0">mergeCellFromWorkerWithMasterThroughoutJoin</a> (<a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> vertex[<a class="el" href="../../d9/df1/Globals_8h.html#ae7c038f02be8703e671d700496803857">TwoPowerD</a>], <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> fineGridVertices[<a class="el" href="../../d9/df1/Globals_8h.html#ae7c038f02be8703e671d700496803857">TwoPowerD</a>])</td></tr>
<tr class="memdesc:af3cd09a3902f2562495318fd7f7d78d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Merge data from worker with master data throughout join.  <br /></td></tr>
<tr class="separator:af3cd09a3902f2562495318fd7f7d78d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3315fe85dcf07424dfd11852e6ec2ee" id="r_af3315fe85dcf07424dfd11852e6ec2ee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af3315fe85dcf07424dfd11852e6ec2ee">shouldEraseAdjacencyInformation</a> (<a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> &amp;vertex, <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> coarseGridVertices[<a class="el" href="../../d9/df1/Globals_8h.html#ae7c038f02be8703e671d700496803857">TwoPowerD</a>], <a class="el" href="../../d7/d26/structtarch_1_1la_1_1Vector.html">tarch::la::Vector</a>&lt; Dimensions, <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> &gt; fineVertexPositionWithinPatch) <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a></td></tr>
<tr class="separator:af3315fe85dcf07424dfd11852e6ec2ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba3992ab51cc5b4da5a3a2db7a1c976b" id="r_aba3992ab51cc5b4da5a3a2db7a1c976b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aba3992ab51cc5b4da5a3a2db7a1c976b">updateVertexBeforeStore</a> (<a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> &amp;vertex, <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> fineGridVertices[<a class="el" href="../../d9/df1/Globals_8h.html#ae7c038f02be8703e671d700496803857">TwoPowerD</a>], <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../d7/d26/structtarch_1_1la_1_1Vector.html">tarch::la::Vector</a>&lt; Dimensions, <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> &gt; &amp;fineVertexPositionWithinPatch)</td></tr>
<tr class="separator:aba3992ab51cc5b4da5a3a2db7a1c976b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbcb7502a460ccae3fed0c7dfed274d7" id="r_afbcb7502a460ccae3fed0c7dfed274d7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d26/structtarch_1_1la_1_1Vector.html">tarch::la::Vector</a>&lt; <a class="el" href="../../d9/df1/Globals_8h.html#ae7c038f02be8703e671d700496803857">TwoPowerD</a>, <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afbcb7502a460ccae3fed0c7dfed274d7">getAdjacentRanksForNewVertex</a> (<a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> coarseGridVertices[<a class="el" href="../../d9/df1/Globals_8h.html#ae7c038f02be8703e671d700496803857">TwoPowerD</a>], <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../d7/d26/structtarch_1_1la_1_1Vector.html">tarch::la::Vector</a>&lt; Dimensions, <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> &gt; &amp;vertexPositionWithin3x3Patch) <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a></td></tr>
<tr class="separator:afbcb7502a460ccae3fed0c7dfed274d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a8b43c5b6944614b0a69d0369d89166" id="r_a0a8b43c5b6944614b0a69d0369d89166"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0a8b43c5b6944614b0a69d0369d89166">split</a> (<a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> treeId, <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../dd/d3a/structpeano4_1_1SplitInstruction.html">SplitInstruction</a> &amp;instruction)</td></tr>
<tr class="memdesc:a0a8b43c5b6944614b0a69d0369d89166"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a split instruction.  <br /></td></tr>
<tr class="separator:a0a8b43c5b6944614b0a69d0369d89166"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84020161911e239fcf0c47a866499379" id="r_a84020161911e239fcf0c47a866499379"><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a84020161911e239fcf0c47a866499379">getNeighbourTrees</a> (<a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> &amp;vertex, <a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a> calledByReceivingProcess) <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a></td></tr>
<tr class="memdesc:a84020161911e239fcf0c47a866499379"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the ids of the surrounding cells of a vertex.  <br /></td></tr>
<tr class="separator:a84020161911e239fcf0c47a866499379"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab56cba94d9f56db9f0f156ba87d9ae36" id="r_ab56cba94d9f56db9f0f156ba87d9ae36"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab56cba94d9f56db9f0f156ba87d9ae36">getNeighbourTrees</a> (<a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> vertex[<a class="el" href="../../d9/df1/Globals_8h.html#ae7c038f02be8703e671d700496803857">TwoPowerD</a>], <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> faceNumber, <a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a> calledByReceivingProcess) <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a></td></tr>
<tr class="memdesc:ab56cba94d9f56db9f0f156ba87d9ae36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the ids of the surround ids of a face.  <br /></td></tr>
<tr class="separator:ab56cba94d9f56db9f0f156ba87d9ae36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67fc3fa43e6316d247082e34529a367e" id="r_a67fc3fa43e6316d247082e34529a367e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a67fc3fa43e6316d247082e34529a367e">isFaceAlongPeriodicBoundaryCondition</a> (<a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> vertex[<a class="el" href="../../d9/df1/Globals_8h.html#ae7c038f02be8703e671d700496803857">TwoPowerD</a>], <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> faceNumber, <a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a> calledByReceivingProcess) <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a></td></tr>
<tr class="separator:a67fc3fa43e6316d247082e34529a367e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a925ed44a0fcbbaf3c75561e8fe820578" id="r_a925ed44a0fcbbaf3c75561e8fe820578"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a925ed44a0fcbbaf3c75561e8fe820578">sendGridVertex</a> (<a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> &amp;vertex)</td></tr>
<tr class="memdesc:a925ed44a0fcbbaf3c75561e8fe820578"><td class="mdescLeft">&#160;</td><td class="mdescRight">This one is to be invoked if and only if a vertex goes to the in/out stacks.  <br /></td></tr>
<tr class="separator:a925ed44a0fcbbaf3c75561e8fe820578"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af17618a7075d40a9077c70f9a977ef13" id="r_af17618a7075d40a9077c70f9a977ef13"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af17618a7075d40a9077c70f9a977ef13">receiveAndMergeGridVertexAtHorizontalBoundary</a> (<a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> &amp;vertex)</td></tr>
<tr class="memdesc:af17618a7075d40a9077c70f9a977ef13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Manage the data exchange after a vertex is loaded for the first time.  <br /></td></tr>
<tr class="separator:af17618a7075d40a9077c70f9a977ef13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adef9ca9697ef0e6909a628f0edb873f0" id="r_adef9ca9697ef0e6909a628f0edb873f0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adef9ca9697ef0e6909a628f0edb873f0">receiveAndMergeGridVertexAtVerticalBoundary</a> (<a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> &amp;vertex)</td></tr>
<tr class="memdesc:adef9ca9697ef0e6909a628f0edb873f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is a merge routine for vertical data exchange.  <br /></td></tr>
<tr class="separator:adef9ca9697ef0e6909a628f0edb873f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8cb46c419661f9a8a0df9834cd3192f" id="r_ab8cb46c419661f9a8a0df9834cd3192f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab8cb46c419661f9a8a0df9834cd3192f">mergeGridVertexRefinementStateAtHorizontalDomainBoundary</a> (<a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> &amp;vertex, <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> &amp;inVertex, <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> neighbour)</td></tr>
<tr class="memdesc:ab8cb46c419661f9a8a0df9834cd3192f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by <a class="el" href="#af17618a7075d40a9077c70f9a977ef13" title="Manage the data exchange after a vertex is loaded for the first time.">receiveAndMergeGridVertexAtHorizontalBoundary()</a>.  <br /></td></tr>
<tr class="separator:ab8cb46c419661f9a8a0df9834cd3192f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1480cbddf447852df6400d2d2c547ec7" id="r_a1480cbddf447852df6400d2d2c547ec7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1480cbddf447852df6400d2d2c547ec7">mergeGridVertexAdjacencyListsAtHorizontalDomainBoundary</a> (<a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> &amp;vertex, <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> &amp;inVertex, <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> neighbour)</td></tr>
<tr class="separator:a1480cbddf447852df6400d2d2c547ec7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7facddf19cb3d428928d26afad92ae69" id="r_a7facddf19cb3d428928d26afad92ae69"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7facddf19cb3d428928d26afad92ae69">Spacetree</a> (<a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> newId, <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> masterId, <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../d7/d26/structtarch_1_1la_1_1Vector.html">tarch::la::Vector</a>&lt; Dimensions, <a class="el" href="../../db/d20/DiscontinuousGalerkinDiscretisation_8Abstract_8template_8cpp.html#a962c06c0fea2c76dd28c454654a79417">double</a> &gt; &amp;offset, <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../d7/d26/structtarch_1_1la_1_1Vector.html">tarch::la::Vector</a>&lt; Dimensions, <a class="el" href="../../db/d20/DiscontinuousGalerkinDiscretisation_8Abstract_8template_8cpp.html#a962c06c0fea2c76dd28c454654a79417">double</a> &gt; &amp;width, <a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a> traversalInverted)</td></tr>
<tr class="memdesc:a7facddf19cb3d428928d26afad92ae69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Only used by SpacetreeSet to create children of the original tree.  <br /></td></tr>
<tr class="separator:a7facddf19cb3d428928d26afad92ae69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87283bad86c00b4de5aa6bcf2603e8c4" id="r_a87283bad86c00b4de5aa6bcf2603e8c4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a87283bad86c00b4de5aa6bcf2603e8c4">joinWithMaster</a> ()</td></tr>
<tr class="memdesc:a87283bad86c00b4de5aa6bcf2603e8c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Join with master.  <br /></td></tr>
<tr class="separator:a87283bad86c00b4de5aa6bcf2603e8c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4af4790f189126dc5f474dc3ed51749d" id="r_a4af4790f189126dc5f474dc3ed51749d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4af4790f189126dc5f474dc3ed51749d">joinWithWorker</a> (<a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> id)</td></tr>
<tr class="separator:a4af4790f189126dc5f474dc3ed51749d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a84681b2885b26caa065f6efc3126f3" id="r_a4a84681b2885b26caa065f6efc3126f3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4a84681b2885b26caa065f6efc3126f3">mayJoinWithMaster</a> () <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a></td></tr>
<tr class="memdesc:a4a84681b2885b26caa065f6efc3126f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Only ranks that have no kids are allowed to join.  <br /></td></tr>
<tr class="separator:a4a84681b2885b26caa065f6efc3126f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc6c5e5006756a99a6a39af2e66b912e" id="r_acc6c5e5006756a99a6a39af2e66b912e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acc6c5e5006756a99a6a39af2e66b912e">mayJoinWithWorker</a> () <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a></td></tr>
<tr class="memdesc:acc6c5e5006756a99a6a39af2e66b912e"><td class="mdescLeft">&#160;</td><td class="mdescRight">We allow at most one join at a time and not while we split.  <br /></td></tr>
<tr class="separator:acc6c5e5006756a99a6a39af2e66b912e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac04db9c6c4c71ef0b7548b3aec6fc6d6" id="r_ac04db9c6c4c71ef0b7548b3aec6fc6d6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac04db9c6c4c71ef0b7548b3aec6fc6d6">maySplit</a> () <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a></td></tr>
<tr class="memdesc:ac04db9c6c4c71ef0b7548b3aec6fc6d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is the tree in principle allowed to split.  <br /></td></tr>
<tr class="separator:ac04db9c6c4c71ef0b7548b3aec6fc6d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6510a2107d2d67324de5604bd44837d7" id="r_a6510a2107d2d67324de5604bd44837d7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6510a2107d2d67324de5604bd44837d7">getSplittingTree</a> () <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a></td></tr>
<tr class="separator:a6510a2107d2d67324de5604bd44837d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af353cd24f9183881bff38296073aaa2c" id="r_af353cd24f9183881bff38296073aaa2c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af353cd24f9183881bff38296073aaa2c">updateSplittingCounter</a> (<a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> treeId)</td></tr>
<tr class="memdesc:af353cd24f9183881bff38296073aaa2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reduce splitting counter.  <br /></td></tr>
<tr class="separator:af353cd24f9183881bff38296073aaa2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-static-methods" name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a57076f641438bd9cbc7d21de3db04a83" id="r_a57076f641438bd9cbc7d21de3db04a83"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a57076f641438bd9cbc7d21de3db04a83">incrementNumberOfAdjacentRefinedLocalCells</a> (<a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> vertices[<a class="el" href="../../d9/df1/Globals_8h.html#ae7c038f02be8703e671d700496803857">TwoPowerD</a>])</td></tr>
<tr class="memdesc:a57076f641438bd9cbc7d21de3db04a83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Every local refined cell should call this routine.  <br /></td></tr>
<tr class="separator:a57076f641438bd9cbc7d21de3db04a83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31313b2d0893c7773414ba3964e9b312" id="r_a31313b2d0893c7773414ba3964e9b312"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a31313b2d0893c7773414ba3964e9b312">refineState</a> (<a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html">AutomatonState</a> &amp;coarseGrid, <a class="el" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html">AutomatonState</a> fineGrid[<a class="el" href="../../d9/df1/Globals_8h.html#ab318547449d48a539d5ee3949b7f5ace">ThreePowerD</a>], <a class="el" href="../../d7/d26/structtarch_1_1la_1_1Vector.html">tarch::la::Vector</a>&lt; Dimensions, <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> &gt; fineGridPosition=<a class="el" href="../../d7/d26/structtarch_1_1la_1_1Vector.html">tarch::la::Vector</a>&lt; Dimensions, <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> &gt;(0), <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> axis=Dimensions-1)</td></tr>
<tr class="memdesc:a31313b2d0893c7773414ba3964e9b312"><td class="mdescLeft">&#160;</td><td class="mdescRight">Takes a state (describing a node in the tree) and returns the \( 3^d \) states on the next finer level along the Peano SFC.  <br /></td></tr>
<tr class="separator:a31313b2d0893c7773414ba3964e9b312"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8084d269f34edcd706de664261bc449d" id="r_a8084d269f34edcd706de664261bc449d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d7/d26/structtarch_1_1la_1_1Vector.html">tarch::la::Vector</a>&lt; Dimensions, <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8084d269f34edcd706de664261bc449d">convertToIntegerVector</a> (<a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> std::bitset&lt; Dimensions &gt; &amp;in)</td></tr>
<tr class="memdesc:a8084d269f34edcd706de664261bc449d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Little helper.  <br /></td></tr>
<tr class="separator:a8084d269f34edcd706de664261bc449d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01ddbfe8413bb5e1d08eef954d4c078a" id="r_a01ddbfe8413bb5e1d08eef954d4c078a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a01ddbfe8413bb5e1d08eef954d4c078a">restrictToCoarseGrid</a> (<a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../d7/d26/structtarch_1_1la_1_1Vector.html">tarch::la::Vector</a>&lt; Dimensions, <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> &gt; &amp;coarseVertexPosition, <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../d7/d26/structtarch_1_1la_1_1Vector.html">tarch::la::Vector</a>&lt; Dimensions, <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> &gt; &amp;fineVertexPosition)</td></tr>
<tr class="memdesc:a01ddbfe8413bb5e1d08eef954d4c078a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines whether to restrict a vertex to the coarser level or not.  <br /></td></tr>
<tr class="separator:a01ddbfe8413bb5e1d08eef954d4c078a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab12be43f734a505bbed7973c84f68935" id="r_ab12be43f734a505bbed7973c84f68935"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab12be43f734a505bbed7973c84f68935">updateVertexRanksWithinCell</a> (<a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> fineGridVertices[<a class="el" href="../../d9/df1/Globals_8h.html#ae7c038f02be8703e671d700496803857">TwoPowerD</a>], <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> newId)</td></tr>
<tr class="memdesc:ab12be43f734a505bbed7973c84f68935"><td class="mdescLeft">&#160;</td><td class="mdescRight">If a cell gets a new id, we have to update its vertices.  <br /></td></tr>
<tr class="separator:ab12be43f734a505bbed7973c84f68935"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ad23db650a5d067d8936c9ca2c63f5198" id="r_ad23db650a5d067d8936c9ca2c63f5198"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad23db650a5d067d8936c9ca2c63f5198">_id</a></td></tr>
<tr class="separator:ad23db650a5d067d8936c9ca2c63f5198"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86a897e19ba94294c3916524d4075c03" id="r_a86a897e19ba94294c3916524d4075c03"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37c">SpacetreeState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a86a897e19ba94294c3916524d4075c03">_spacetreeState</a></td></tr>
<tr class="separator:a86a897e19ba94294c3916524d4075c03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9272ac1f4b1f85d8a878e795f93873d2" id="r_a9272ac1f4b1f85d8a878e795f93873d2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html">AutomatonState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9272ac1f4b1f85d8a878e795f93873d2">_root</a></td></tr>
<tr class="memdesc:a9272ac1f4b1f85d8a878e795f93873d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">The root of a spacetree corresponds to the initial state of the tree traversal automaton.  <br /></td></tr>
<tr class="separator:a9272ac1f4b1f85d8a878e795f93873d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fafcec806752872a89bd0cc93327056" id="r_a4fafcec806752872a89bd0cc93327056"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html">GridStatistics</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4fafcec806752872a89bd0cc93327056">_statistics</a></td></tr>
<tr class="separator:a4fafcec806752872a89bd0cc93327056"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa31a525d2058afc7dcdd92b0c07c0b6e" id="r_aa31a525d2058afc7dcdd92b0c07c0b6e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa31a525d2058afc7dcdd92b0c07c0b6e">_masterId</a></td></tr>
<tr class="memdesc:aa31a525d2058afc7dcdd92b0c07c0b6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is not a static master.  <br /></td></tr>
<tr class="separator:aa31a525d2058afc7dcdd92b0c07c0b6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c9686a0e4bdabd4e96f8264c410af42" id="r_a5c9686a0e4bdabd4e96f8264c410af42"><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5c9686a0e4bdabd4e96f8264c410af42">_childrenIds</a></td></tr>
<tr class="separator:a5c9686a0e4bdabd4e96f8264c410af42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cfd46f6490180f28f0ceed912f6a227" id="r_a7cfd46f6490180f28f0ceed912f6a227"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> std::bitset&lt; Dimensions &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7cfd46f6490180f28f0ceed912f6a227">_periodicBC</a></td></tr>
<tr class="memdesc:a7cfd46f6490180f28f0ceed912f6a227"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate per axis whether we have periodic boundary conditions.  <br /></td></tr>
<tr class="separator:a7cfd46f6490180f28f0ceed912f6a227"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add189b52e38a6baf4685dcb5f941b09d" id="r_add189b52e38a6baf4685dcb5f941b09d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d8f/namespacepeano4.html#a62941648b96f43493b3a40d50c93cc78">SplitSpecification</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#add189b52e38a6baf4685dcb5f941b09d">_splitTriggered</a></td></tr>
<tr class="memdesc:add189b52e38a6baf4685dcb5f941b09d"><td class="mdescLeft">&#160;</td><td class="mdescRight">A split is identified by a tuple of id and cell count which tells the code how many cells should go to a particular id.  <br /></td></tr>
<tr class="separator:add189b52e38a6baf4685dcb5f941b09d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9749743a41fd0ab6dc1ea93dfe2104db" id="r_a9749743a41fd0ab6dc1ea93dfe2104db"><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9749743a41fd0ab6dc1ea93dfe2104db">_splitting</a></td></tr>
<tr class="separator:a9749743a41fd0ab6dc1ea93dfe2104db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1ad30e33d5294679965e167dfc2a978" id="r_ab1ad30e33d5294679965e167dfc2a978"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d8e/classpeano4_1_1grid_1_1GridTraversalEventGenerator.html">GridTraversalEventGenerator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab1ad30e33d5294679965e167dfc2a978">_gridTraversalEventGenerator</a></td></tr>
<tr class="separator:ab1ad30e33d5294679965e167dfc2a978"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2972811ba242c73a7b2075b71fac782d" id="r_a2972811ba242c73a7b2075b71fac782d"><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2972811ba242c73a7b2075b71fac782d">_hasSplit</a></td></tr>
<tr class="memdesc:a2972811ba242c73a7b2075b71fac782d"><td class="mdescLeft">&#160;</td><td class="mdescRight">I need this post-mortem list to identify which tree structures have to be copied/replicated where.  <br /></td></tr>
<tr class="separator:a2972811ba242c73a7b2075b71fac782d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc5bd139626596a65c4068b21fbd6f2c" id="r_adc5bd139626596a65c4068b21fbd6f2c"><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adc5bd139626596a65c4068b21fbd6f2c">_joinTriggered</a></td></tr>
<tr class="memdesc:adc5bd139626596a65c4068b21fbd6f2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This should be -1 if no join is triggered.  <br /></td></tr>
<tr class="separator:adc5bd139626596a65c4068b21fbd6f2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e7bfe86b3825259ab8bcd6a21e33769" id="r_a3e7bfe86b3825259ab8bcd6a21e33769"><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3e7bfe86b3825259ab8bcd6a21e33769">_joining</a></td></tr>
<tr class="memdesc:a3e7bfe86b3825259ab8bcd6a21e33769"><td class="mdescLeft">&#160;</td><td class="mdescRight">If master: Set of workers that should join.  <br /></td></tr>
<tr class="separator:a3e7bfe86b3825259ab8bcd6a21e33769"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99f9e0c8a37831a9ce086a8717822a64" id="r_a99f9e0c8a37831a9ce086a8717822a64"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../dd/de7/structpeano4_1_1grid_1_1GridControlEvent.html">peano4::grid::GridControlEvent</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a99f9e0c8a37831a9ce086a8717822a64">_gridControlEvents</a></td></tr>
<tr class="memdesc:a99f9e0c8a37831a9ce086a8717822a64"><td class="mdescLeft">&#160;</td><td class="mdescRight">We get these control events when we kick off the traversal and then realise/interpret them.  <br /></td></tr>
<tr class="separator:a99f9e0c8a37831a9ce086a8717822a64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4da69058444af40a595eab7b2d9b3d1" id="r_ad4da69058444af40a595eab7b2d9b3d1"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad4da69058444af40a595eab7b2d9b3d1">_splittedCells</a></td></tr>
<tr class="separator:ad4da69058444af40a595eab7b2d9b3d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-static-attribs" name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a0bd07c28cebb863ec00ddbdd65071440" id="r_a0bd07c28cebb863ec00ddbdd65071440"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../da/d79/classtarch_1_1logging_1_1Log.html">tarch::logging::Log</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0bd07c28cebb863ec00ddbdd65071440">_log</a></td></tr>
<tr class="separator:a0bd07c28cebb863ec00ddbdd65071440"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a240b5db7ec9a3b3c71ca23f647c4fdbc" id="r_a240b5db7ec9a3b3c71ca23f647c4fdbc"><td class="memItemLeft" align="right" valign="top">static constexpr <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a240b5db7ec9a3b3c71ca23f647c4fdbc">NoJoin</a> = -1</td></tr>
<tr class="separator:a240b5db7ec9a3b3c71ca23f647c4fdbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2994c142309786241aacae1df7737b19" id="r_a2994c142309786241aacae1df7737b19"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="#a29db4d673d7176a7c717e704106f022a">GridVertexStackMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2994c142309786241aacae1df7737b19">_vertexStack</a></td></tr>
<tr class="separator:a2994c142309786241aacae1df7737b19"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="friends" name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a6bc6afd728bcbf8e3017dced46e017a4" id="r_a6bc6afd728bcbf8e3017dced46e017a4"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6bc6afd728bcbf8e3017dced46e017a4">peano4::parallel::SpacetreeSet</a></td></tr>
<tr class="separator:a6bc6afd728bcbf8e3017dced46e017a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af77f3675b94774aa254e909a414693ae" id="r_af77f3675b94774aa254e909a414693ae"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af77f3675b94774aa254e909a414693ae">peano4::grid::tests::SpacetreeTest</a></td></tr>
<tr class="separator:af77f3675b94774aa254e909a414693ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Represents one tree. </p>

<p class="definition">Definition at line <a class="el" href="../../d1/d2e/Spacetree_8h_source.html#l00040">40</a> of file <a class="el" href="../../d1/d2e/Spacetree_8h_source.html">Spacetree.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a29db4d673d7176a7c717e704106f022a" name="a29db4d673d7176a7c717e704106f022a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29db4d673d7176a7c717e704106f022a">&#9670;&#160;</a></span>GridVertexStackMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="../../de/d6d/classpeano4_1_1maps_1_1HierarchicalStackMap.html">peano4::maps::HierarchicalStackMap</a>&lt; <a class="el" href="../../dc/d7e/namespacepeano4_1_1stacks.html#ab77b59d2d06b6e70e0978db44399e54a">peano4::stacks::GridVertexStack</a> &gt; <a class="el" href="#a29db4d673d7176a7c717e704106f022a">peano4::grid::Spacetree::GridVertexStackMap</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d2e/Spacetree_8h_source.html#l00150">150</a> of file <a class="el" href="../../d1/d2e/Spacetree_8h_source.html">Spacetree.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a7facddf19cb3d428928d26afad92ae69" name="a7facddf19cb3d428928d26afad92ae69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7facddf19cb3d428928d26afad92ae69">&#9670;&#160;</a></span>Spacetree() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;<a class="el" href="../../da/d67/structSpacetree.html">::Spacetree</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a></td>          <td class="paramname"><span class="paramname"><em>newId</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a></td>          <td class="paramname"><span class="paramname"><em>masterId</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../d7/d26/structtarch_1_1la_1_1Vector.html">tarch::la::Vector</a>&lt; Dimensions, <a class="el" href="../../db/d20/DiscontinuousGalerkinDiscretisation_8Abstract_8template_8cpp.html#a962c06c0fea2c76dd28c454654a79417">double</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>offset</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../d7/d26/structtarch_1_1la_1_1Vector.html">tarch::la::Vector</a>&lt; Dimensions, <a class="el" href="../../db/d20/DiscontinuousGalerkinDiscretisation_8Abstract_8template_8cpp.html#a962c06c0fea2c76dd28c454654a79417">double</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>width</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a></td>          <td class="paramname"><span class="paramname"><em>traversalInverted</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Only used by SpacetreeSet to create children of the original tree. </p>
<p>We have to set the stats's stationary counter manually, as <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a158928299065d46b9b5cf110ea08b219" title="The term clear() is not 100% correct, as the number of stationary traversals is not reset to a dummy ...">clear()</a> does not reset it. We furthermore set it to -2, as we'll need two iterations to set a new remote spacetree up. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l00049">49</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d2e/Spacetree_8h_source.html#l00088">_id</a>, <a class="el" href="../../d1/d2e/Spacetree_8h_source.html#l00097">_root</a>, <a class="el" href="../../d1/d2e/Spacetree_8h_source.html#l00099">_statistics</a>, <a class="el" href="../../d7/d70/grid_8cpp_source.html#l00230">peano4::grid::clear()</a>, <a class="el" href="../../d9/df1/Globals_8h_source.html#l00017">DimensionsTimesTwo</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00050">logDebug</a>, <a class="el" href="../../d1/d2e/Spacetree_8h_source.html#l00055">NumberOfStationarySweepsToWaitAtLeastTillJoin</a>, <a class="el" href="../../d4/df5/AutomatonState_8h_source.html#l00070">peano4::grid::AutomatonState::setAccessNumber()</a>, <a class="el" href="../../d4/df5/AutomatonState_8h_source.html#l00064">peano4::grid::AutomatonState::setEvenFlags()</a>, <a class="el" href="../../d4/df5/AutomatonState_8h_source.html#l00056">peano4::grid::AutomatonState::setH()</a>, <a class="el" href="../../d4/df5/AutomatonState_8h_source.html#l00061">peano4::grid::AutomatonState::setInverted()</a>, <a class="el" href="../../d4/df5/AutomatonState_8h_source.html#l00048">peano4::grid::AutomatonState::setLevel()</a>, <a class="el" href="../../d2/d00/GridStatistics_8cpp_source.html#l00075">peano4::grid::GridStatistics::setStationarySweeps()</a>, <a class="el" href="../../d4/df5/AutomatonState_8h_source.html#l00051">peano4::grid::AutomatonState::setX()</a>, and <a class="el" href="../../d9/db4/AutomatonState_8cpp_source.html#l00048">peano4::grid::AutomatonState::toString()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/df6/classpeano4_1_1grid_1_1Spacetree_a7facddf19cb3d428928d26afad92ae69_cgraph.png" border="0" usemap="#adf/df6/classpeano4_1_1grid_1_1Spacetree_a7facddf19cb3d428928d26afad92ae69_cgraph" alt=""/></div>
<map name="adf/df6/classpeano4_1_1grid_1_1Spacetree_a7facddf19cb3d428928d26afad92ae69_cgraph" id="adf/df6/classpeano4_1_1grid_1_1Spacetree_a7facddf19cb3d428928d26afad92ae69_cgraph">
<area shape="rect" title="Only used by SpacetreeSet to create children of the original tree." alt="" coords="5,600,181,640"/>
<area shape="rect" href="../../d7/d7c/namespacepeano4_1_1grid.html#a158928299065d46b9b5cf110ea08b219" title="The term clear() is not 100% correct, as the number of stationary traversals is not reset to a dummy ..." alt="" coords="267,301,409,326"/>
<area shape="poly" title=" " alt="" coords="104,598,154,516,189,464,227,414,269,370,309,333,313,337,273,374,231,418,193,467,158,519,108,601"/>
<area shape="rect" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html#a4c8c0a9884a0ab017782933ff7a68aca" title=" " alt="" coords="527,517,725,557"/>
<area shape="poly" title=" " alt="" coords="102,599,120,566,148,526,184,487,205,471,228,458,287,435,337,429,388,437,448,458,464,468,473,480,482,492,496,503,515,512,512,517,493,508,478,496,469,483,460,472,446,462,387,442,337,434,288,440,230,462,208,475,188,491,152,529,125,568,106,601"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#a0bb7285a602aeb3c1217fc5b67f0b950" title=" " alt="" coords="229,472,447,512"/>
<area shape="poly" title=" " alt="" coords="116,598,166,559,228,522,244,515,246,519,231,526,169,564,120,602"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#ad93f78d6541eac4f21cfacc8cf59f0cf" title=" " alt="" coords="229,536,447,576"/>
<area shape="poly" title=" " alt="" coords="170,597,247,577,249,582,171,603"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#a5b48361811143deb96985e54f31eba09" title=" " alt="" coords="229,600,447,640"/>
<area shape="poly" title=" " alt="" coords="181,617,216,617,216,623,181,623"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#a32ce87452daef49114017db0efd36181" title=" " alt="" coords="229,664,447,704"/>
<area shape="poly" title=" " alt="" coords="171,637,249,658,247,663,170,643"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#af11900fae33799483a10d15b786594b0" title=" " alt="" coords="229,728,447,768"/>
<area shape="poly" title=" " alt="" coords="120,638,169,676,231,714,246,721,244,725,228,718,166,681,116,642"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#addcd78613242c54fe483b1fd7e11b53b" title=" " alt="" coords="229,792,447,832"/>
<area shape="poly" title=" " alt="" coords="109,639,156,707,191,745,231,778,241,784,238,788,228,782,187,749,152,711,104,642"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#a0d6a37b729dd985044059247f39732ea" title=" " alt="" coords="229,856,447,896"/>
<area shape="poly" title=" " alt="" coords="104,639,120,682,146,736,183,793,206,819,231,842,238,847,235,851,228,846,202,823,179,797,142,739,115,684,99,641"/>
<area shape="rect" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html#a52255667d6d7ced4d8204a30b037918c" title=" " alt="" coords="527,5,725,45"/>
<area shape="poly" title=" " alt="" coords="341,299,358,253,388,186,433,116,461,83,493,55,513,44,515,48,496,59,465,87,437,119,393,189,362,255,346,301"/>
<area shape="rect" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html#a4918d46044110aca2f596ed107ff766b" title=" " alt="" coords="513,69,739,109"/>
<area shape="poly" title=" " alt="" coords="343,299,364,263,397,214,440,163,466,139,493,119,504,113,507,117,496,124,469,143,444,167,401,218,368,266,348,302"/>
<area shape="rect" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html#a24d2a32dcb94a166f17b7ea641b10892" title=" " alt="" coords="527,133,725,173"/>
<area shape="poly" title=" " alt="" coords="349,299,407,243,448,210,493,183,513,175,515,179,496,188,451,215,411,247,353,303"/>
<area shape="rect" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html#a0460de4a97713de06b6bb543c2363703" title=" " alt="" coords="510,197,742,237"/>
<area shape="poly" title=" " alt="" coords="366,298,424,273,494,247,522,238,523,243,496,252,426,278,368,303"/>
<area shape="rect" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html#aaa3d88c8985b5c2600055d68081d80bb" title=" " alt="" coords="503,261,749,301"/>
<area shape="poly" title=" " alt="" coords="409,303,489,294,489,299,410,308"/>
<area shape="rect" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html#ac05ad58a46de98d23e3b83d2975fdd40" title=" " alt="" coords="501,325,751,365"/>
<area shape="poly" title=" " alt="" coords="410,319,487,327,487,333,409,324"/>
<area shape="rect" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html#a1fca817bd75a3a659746c2188ace5a38" title=" " alt="" coords="495,389,757,429"/>
<area shape="poly" title=" " alt="" coords="368,324,426,349,496,375,523,383,522,388,494,380,424,354,366,329"/>
<area shape="rect" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html#af7c05762262cb60344edb50f23fe00c7" title=" " alt="" coords="524,453,728,493"/>
<area shape="poly" title=" " alt="" coords="353,324,411,380,451,412,496,439,512,446,510,451,493,444,448,416,407,384,349,328"/>
<area shape="poly" title=" " alt="" coords="358,324,401,362,449,414,463,440,470,463,478,483,496,503,515,515,512,519,493,507,474,486,465,465,458,442,445,418,397,366,354,328"/>
</map>
</div>

</div>
</div>
<a id="a0bf4a04dc8b6a707e0360a288085afb8" name="a0bf4a04dc8b6a707e0360a288085afb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bf4a04dc8b6a707e0360a288085afb8">&#9670;&#160;</a></span>Spacetree() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;<a class="el" href="../../da/d67/structSpacetree.html">::Spacetree</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../d7/d26/structtarch_1_1la_1_1Vector.html">tarch::la::Vector</a>&lt; Dimensions, <a class="el" href="../../db/d20/DiscontinuousGalerkinDiscretisation_8Abstract_8template_8cpp.html#a962c06c0fea2c76dd28c454654a79417">double</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>offset</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../d7/d26/structtarch_1_1la_1_1Vector.html">tarch::la::Vector</a>&lt; Dimensions, <a class="el" href="../../db/d20/DiscontinuousGalerkinDiscretisation_8Abstract_8template_8cpp.html#a962c06c0fea2c76dd28c454654a79417">double</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>width</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> std::bitset&lt; Dimensions &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>periodicBC</em><span class="paramdefsep"> = </span><span class="paramdefval">0</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l00021">21</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d2e/Spacetree_8h_source.html#l00088">_id</a>, <a class="el" href="../../d1/d2e/Spacetree_8h_source.html#l00115">_periodicBC</a>, <a class="el" href="../../d1/d2e/Spacetree_8h_source.html#l00097">_root</a>, <a class="el" href="../../d1/d2e/Spacetree_8h_source.html#l00099">_statistics</a>, <a class="el" href="../../d7/d70/grid_8cpp_source.html#l00230">peano4::grid::clear()</a>, <a class="el" href="../../d9/df1/Globals_8h_source.html#l00017">DimensionsTimesTwo</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00050">logDebug</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37ca42d4b80664fa5cf4266ffb09f3f4ca6c">peano4::grid::NewRoot</a>, <a class="el" href="../../d4/df5/AutomatonState_8h_source.html#l00070">peano4::grid::AutomatonState::setAccessNumber()</a>, <a class="el" href="../../d4/df5/AutomatonState_8h_source.html#l00064">peano4::grid::AutomatonState::setEvenFlags()</a>, <a class="el" href="../../d4/df5/AutomatonState_8h_source.html#l00056">peano4::grid::AutomatonState::setH()</a>, <a class="el" href="../../d4/df5/AutomatonState_8h_source.html#l00061">peano4::grid::AutomatonState::setInverted()</a>, <a class="el" href="../../d4/df5/AutomatonState_8h_source.html#l00048">peano4::grid::AutomatonState::setLevel()</a>, <a class="el" href="../../d2/d00/GridStatistics_8cpp_source.html#l00075">peano4::grid::GridStatistics::setStationarySweeps()</a>, and <a class="el" href="../../d4/df5/AutomatonState_8h_source.html#l00051">peano4::grid::AutomatonState::setX()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/df6/classpeano4_1_1grid_1_1Spacetree_a0bf4a04dc8b6a707e0360a288085afb8_cgraph.png" border="0" usemap="#adf/df6/classpeano4_1_1grid_1_1Spacetree_a0bf4a04dc8b6a707e0360a288085afb8_cgraph" alt=""/></div>
<map name="adf/df6/classpeano4_1_1grid_1_1Spacetree_a0bf4a04dc8b6a707e0360a288085afb8_cgraph" id="adf/df6/classpeano4_1_1grid_1_1Spacetree_a0bf4a04dc8b6a707e0360a288085afb8_cgraph">
<area shape="rect" title=" " alt="" coords="5,568,181,608"/>
<area shape="rect" href="../../d7/d7c/namespacepeano4_1_1grid.html#a158928299065d46b9b5cf110ea08b219" title="The term clear() is not 100% correct, as the number of stationary traversals is not reset to a dummy ..." alt="" coords="267,301,409,326"/>
<area shape="poly" title=" " alt="" coords="107,566,158,497,227,414,310,333,314,337,231,418,163,501,111,569"/>
<area shape="rect" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html#a4c8c0a9884a0ab017782933ff7a68aca" title=" " alt="" coords="527,517,725,557"/>
<area shape="poly" title=" " alt="" coords="106,566,127,539,155,509,189,480,228,458,288,437,338,431,388,437,448,458,464,468,473,480,482,492,496,503,515,512,512,517,493,508,478,496,469,483,460,472,446,462,387,443,338,436,289,442,230,462,192,484,158,513,131,543,110,569"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#a0bb7285a602aeb3c1217fc5b67f0b950" title=" " alt="" coords="229,472,447,512"/>
<area shape="poly" title=" " alt="" coords="132,565,228,522,250,514,252,519,230,526,134,570"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#ad93f78d6541eac4f21cfacc8cf59f0cf" title=" " alt="" coords="229,536,447,576"/>
<area shape="poly" title=" " alt="" coords="181,574,215,569,216,575,182,579"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#a5b48361811143deb96985e54f31eba09" title=" " alt="" coords="229,600,447,640"/>
<area shape="poly" title=" " alt="" coords="182,597,216,601,215,607,181,602"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#a32ce87452daef49114017db0efd36181" title=" " alt="" coords="229,664,447,704"/>
<area shape="poly" title=" " alt="" coords="134,606,230,650,252,657,250,662,228,654,132,611"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#af11900fae33799483a10d15b786594b0" title=" " alt="" coords="229,728,447,768"/>
<area shape="poly" title=" " alt="" coords="113,607,162,660,195,689,231,714,243,720,241,725,228,718,191,693,158,664,109,610"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#addcd78613242c54fe483b1fd7e11b53b" title=" " alt="" coords="229,792,447,832"/>
<area shape="poly" title=" " alt="" coords="106,607,124,644,151,690,187,737,231,778,239,783,237,788,228,782,183,741,147,693,119,646,101,609"/>
<area shape="rect" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html#a52255667d6d7ced4d8204a30b037918c" title=" " alt="" coords="527,5,725,45"/>
<area shape="poly" title=" " alt="" coords="341,299,358,253,388,186,433,116,461,83,493,55,513,44,515,48,496,59,465,87,437,119,393,189,362,255,346,301"/>
<area shape="rect" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html#a4918d46044110aca2f596ed107ff766b" title=" " alt="" coords="513,69,739,109"/>
<area shape="poly" title=" " alt="" coords="343,299,364,263,397,214,440,163,466,139,493,119,504,113,507,117,496,124,469,143,444,167,401,218,368,266,348,302"/>
<area shape="rect" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html#a24d2a32dcb94a166f17b7ea641b10892" title=" " alt="" coords="527,133,725,173"/>
<area shape="poly" title=" " alt="" coords="349,299,407,243,448,210,493,183,513,175,515,179,496,188,451,215,411,247,353,303"/>
<area shape="rect" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html#a0460de4a97713de06b6bb543c2363703" title=" " alt="" coords="510,197,742,237"/>
<area shape="poly" title=" " alt="" coords="366,298,424,273,494,247,522,238,523,243,496,252,426,278,368,303"/>
<area shape="rect" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html#aaa3d88c8985b5c2600055d68081d80bb" title=" " alt="" coords="503,261,749,301"/>
<area shape="poly" title=" " alt="" coords="409,303,489,294,489,299,410,308"/>
<area shape="rect" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html#ac05ad58a46de98d23e3b83d2975fdd40" title=" " alt="" coords="501,325,751,365"/>
<area shape="poly" title=" " alt="" coords="410,319,487,327,487,333,409,324"/>
<area shape="rect" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html#a1fca817bd75a3a659746c2188ace5a38" title=" " alt="" coords="495,389,757,429"/>
<area shape="poly" title=" " alt="" coords="368,324,426,349,496,375,523,383,522,388,494,380,424,354,366,329"/>
<area shape="rect" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html#af7c05762262cb60344edb50f23fe00c7" title=" " alt="" coords="524,453,728,493"/>
<area shape="poly" title=" " alt="" coords="353,324,411,380,451,412,496,439,512,446,510,451,493,444,448,416,407,384,349,328"/>
<area shape="poly" title=" " alt="" coords="358,324,401,362,449,414,463,440,470,463,478,483,496,503,515,515,512,519,493,507,474,486,465,465,458,442,445,418,397,366,354,328"/>
</map>
</div>

</div>
</div>
<a id="a3025834edd764def4888668b34a9a381" name="a3025834edd764def4888668b34a9a381"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3025834edd764def4888668b34a9a381">&#9670;&#160;</a></span>~Spacetree()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">peano4::grid::Spacetree::~Spacetree </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="afc2d2a39b057120020876c1a675b7d81" name="afc2d2a39b057120020876c1a675b7d81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc2d2a39b057120020876c1a675b7d81">&#9670;&#160;</a></span>areAllVerticesNonHanging()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::areAllVerticesNonHanging </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a></td>          <td class="paramname"><span class="paramname"><em>vertices</em>[TwoPowerD]</span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Could also be called areAllVerticesPersistent() in the Peano terminology. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l00096">96</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../db/d9e/Loop_8h_source.html#l00086">dfor2</a>, <a class="el" href="../../db/d9e/Loop_8h_source.html#l00117">enddforx</a>, and <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a30f260fb2246dd83692c70b1d1ff203ca5b8f04110f6cc6d3086bd9540844fb2b">peano4::grid::GridVertex::HangingVertex</a>.</p>

</div>
</div>
<a id="a46da4ba68116500f1747eb82a52a8a2c" name="a46da4ba68116500f1747eb82a52a8a2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46da4ba68116500f1747eb82a52a8a2c">&#9670;&#160;</a></span>areAllVerticesRefined()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::areAllVerticesRefined </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a></td>          <td class="paramname"><span class="paramname"><em>vertices</em>[TwoPowerD]</span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l00102">102</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../db/d9e/Loop_8h_source.html#l00086">dfor2</a>, <a class="el" href="../../db/d9e/Loop_8h_source.html#l00117">enddforx</a>, and <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a30f260fb2246dd83692c70b1d1ff203cae179f0bcf9190ee2b46fc8381d7ed9c3">peano4::grid::GridVertex::Refined</a>.</p>

</div>
</div>
<a id="a652f2e7f1761d3ca5e8168b50db2bd04" name="a652f2e7f1761d3ca5e8168b50db2bd04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a652f2e7f1761d3ca5e8168b50db2bd04">&#9670;&#160;</a></span>areAllVerticesUnrefined()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::areAllVerticesUnrefined </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a></td>          <td class="paramname"><span class="paramname"><em>vertices</em>[TwoPowerD]</span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l00108">108</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../db/d9e/Loop_8h_source.html#l00086">dfor2</a>, <a class="el" href="../../db/d9e/Loop_8h_source.html#l00117">enddforx</a>, and <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a30f260fb2246dd83692c70b1d1ff203ca27d974933532127b2ca94a6dc31123b3">peano4::grid::GridVertex::Unrefined</a>.</p>

</div>
</div>
<a id="a8084d269f34edcd706de664261bc449d" name="a8084d269f34edcd706de664261bc449d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8084d269f34edcd706de664261bc449d">&#9670;&#160;</a></span>convertToIntegerVector()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d26/structtarch_1_1la_1_1Vector.html">tarch::la::Vector</a>&lt; Dimensions, <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> &gt; <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::convertToIntegerVector </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> std::bitset&lt; Dimensions &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>in</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Little helper. </p>
<p>Should likely go into la or utils. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l00331">331</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

</div>
</div>
<a id="a6a367c9546982d88a9d25f7b5e722349" name="a6a367c9546982d88a9d25f7b5e722349"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a367c9546982d88a9d25f7b5e722349">&#9670;&#160;</a></span>descend()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::descend </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html">AutomatonState</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>state</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a></td>          <td class="paramname"><span class="paramname"><em>vertices</em>[TwoPowerD], </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html">TraversalObserver</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>observer</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<h2><a class="anchor" id="autotoc_md135"></a>
Veto erases</h2>
<p>The routine <a class="el" href="#a34325b1b9b768b73b9b0e38e3575617b" title="setIsAntecessorOfRefinedVertexInCurrentTreeSweep()">markVerticesAroundForkedCell()</a> is used in this routine to ensure that we don't erase the grid over a worker domain. We have to do this both on the master and the worker. The worker invokes the veto coarsening when it comes from a coarse remote tree and runs into local fine grid cell. The master does it the other way round: It sets the vetos if we hit a remote cell out from the local tree. In both cases, the bottom-up analysis of the flag ensures that the information propagates all the way up the grid hierarchies. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l01192">1192</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01017">assertion</a>, <a class="el" href="../../d1/dc2/Linearised_8cpph_source.html#l00034">peano4::utils::dLinearised()</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37cae2e6f897d049a5a191850fa42b37cf2a">peano4::grid::EmptyRun</a>, <a class="el" href="../../db/d9e/Loop_8h_source.html#l00228">endzfor</a>, <a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html#aef95cd14ab811b37c9e55a5242c9c767">peano4::grid::TraversalObserver::enterCell()</a>, <a class="el" href="../../d4/df5/AutomatonState_8h_source.html#l00055">peano4::grid::AutomatonState::getH()</a>, <a class="el" href="../../d2/d19/PeanoCurve_8cpp_source.html#l00024">peano4::grid::PeanoCurve::getLoopDirection()</a>, <a class="el" href="../../d7/d70/grid_8cpp_source.html#l00241">peano4::grid::isSpacetreeNodeRefined()</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37ca7d50c09f1ad7d098e0a847bcdcab7efb">peano4::grid::Joined</a>, <a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html#aee995e0120deb92bfc37ae236090f0b8">peano4::grid::TraversalObserver::leaveCell()</a>, <a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html#a7f4beead04cb5f57db46231b1a920aee">peano4::grid::TraversalObserver::loadCell()</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00371">logTraceInWith2Arguments</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00379">logTraceOut</a>, <a class="el" href="../../d8/d88/VectorOperations_8cpph_source.html#l00264">tarch::la::min()</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37ca09bce956ecf16a726820c33dc8fe3cc6">peano4::grid::NewFromSplit</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37ca5bda814c4aedb126839228f1a3d92f09">peano4::grid::Running</a>, <a class="el" href="../../d0/d31/GridTraversalEventGeneratorTest_8cpp_source.html#l00146">state</a>, <a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html#a9e4d78821027b19dad6331da8e666940">peano4::grid::TraversalObserver::storeCell()</a>, <a class="el" href="../../d9/df1/Globals_8h_source.html#l00027">ThreePowerD</a>, <a class="el" href="../../d9/db4/AutomatonState_8cpp_source.html#l00048">peano4::grid::AutomatonState::toString()</a>, <a class="el" href="../../d9/df1/Globals_8h_source.html#l00021">TwoPowerD</a>, and <a class="el" href="../../db/d9e/Loop_8h_source.html#l00225">zfor3</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/df6/classpeano4_1_1grid_1_1Spacetree_a6a367c9546982d88a9d25f7b5e722349_cgraph.png" border="0" usemap="#adf/df6/classpeano4_1_1grid_1_1Spacetree_a6a367c9546982d88a9d25f7b5e722349_cgraph" alt=""/></div>
<map name="adf/df6/classpeano4_1_1grid_1_1Spacetree_a6a367c9546982d88a9d25f7b5e722349_cgraph" id="adf/df6/classpeano4_1_1grid_1_1Spacetree_a6a367c9546982d88a9d25f7b5e722349_cgraph">
<area shape="rect" title=" " alt="" coords="5,279,181,319"/>
<area shape="rect" href="../../d9/d8e/namespacepeano4_1_1utils.html#a4f1a4f16c96662b344839f6beb4cd095" title="Map d&#45;dimensional vector onto integer index." alt="" coords="249,5,439,31"/>
<area shape="poly" title=" " alt="" coords="97,279,111,230,136,165,174,98,199,67,228,41,238,35,241,39,231,45,203,71,179,101,141,167,116,231,102,280"/>
<area shape="rect" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html#aef95cd14ab811b37c9e55a5242c9c767" title="Event is invoked per cell." alt="" coords="229,55,459,95"/>
<area shape="poly" title=" " alt="" coords="101,278,119,241,146,194,183,146,228,105,237,99,240,104,231,109,187,150,151,197,124,243,106,280"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#a4fe59e92998bf7fcda9f7e2b9b6f6a45" title=" " alt="" coords="235,119,453,159"/>
<area shape="poly" title=" " alt="" coords="108,278,158,224,191,194,228,169,241,162,244,167,231,174,194,198,161,227,112,281"/>
<area shape="rect" href="../../d5/d2c/classpeano4_1_1grid_1_1PeanoCurve.html#aad79232fcc44f685df577f9a72166309" title="Holds a set bit for each dimension along which the traversal is positive." alt="" coords="249,183,439,223"/>
<area shape="poly" title=" " alt="" coords="132,277,228,233,251,225,253,230,230,238,134,282"/>
<area shape="rect" href="../../d7/d7c/namespacepeano4_1_1grid.html#a05b1783e3f77d491637977ee2b266de5" title="A spacetree node is refined if any of its adjacent vertices holds one of the following flags:" alt="" coords="251,247,437,287"/>
<area shape="poly" title=" " alt="" coords="181,285,237,278,237,284,182,291"/>
<area shape="rect" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html#aee995e0120deb92bfc37ae236090f0b8" title=" " alt="" coords="229,311,459,351"/>
<area shape="poly" title=" " alt="" coords="182,308,216,312,215,318,181,313"/>
<area shape="rect" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html#a7f4beead04cb5f57db46231b1a920aee" title=" " alt="" coords="229,375,459,415"/>
<area shape="poly" title=" " alt="" coords="134,317,230,361,253,369,251,374,228,366,132,322"/>
<area shape="rect" href="../../d2/d45/namespacetarch_1_1la.html#af593db8b0c3c24bfae8b1aaeeda9782b" title="Returns the element with minimal value (NOT absolute value)." alt="" coords="290,440,398,465"/>
<area shape="poly" title=" " alt="" coords="112,318,161,372,194,401,231,425,277,442,276,447,228,430,191,405,157,376,108,322"/>
<area shape="rect" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html#a9e4d78821027b19dad6331da8e666940" title=" " alt="" coords="229,490,459,530"/>
<area shape="poly" title=" " alt="" coords="107,318,125,353,153,395,188,439,231,476,241,482,238,486,228,480,185,443,149,398,121,355,102,321"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#a0d6a37b729dd985044059247f39732ea" title=" " alt="" coords="235,554,453,594"/>
<area shape="poly" title=" " alt="" coords="103,319,118,364,144,424,181,487,204,515,231,540,238,545,235,549,228,544,201,519,177,490,139,427,113,366,97,320"/>
<area shape="rect" href="../../d7/d7c/namespacepeano4_1_1grid.html#a8d093974750d7e9f146378ca6146b6dd" title="A vertex has been refined if it is (already) refined or is erasing or the erase has been triggered." alt="" coords="507,215,716,255"/>
<area shape="poly" title=" " alt="" coords="437,254,493,247,493,252,438,259"/>
<area shape="rect" href="../../d7/d7c/namespacepeano4_1_1grid.html#acc91395a855f0bb48d81535a3d7631c1" title="A vertex will be refined if it is already refined or currently refining." alt="" coords="523,279,699,319"/>
<area shape="poly" title=" " alt="" coords="438,276,510,285,509,290,437,281"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#af0a4b4140aea5650feecb14cd5e5033c" title=" " alt="" coords="764,247,944,287"/>
<area shape="poly" title=" " alt="" coords="717,246,751,251,750,256,716,252"/>
<area shape="poly" title=" " alt="" coords="699,285,750,278,751,284,700,290"/>
</map>
</div>

</div>
</div>
<a id="ac653a490c1610c6aeaf7344ee3e4033f" name="ac653a490c1610c6aeaf7344ee3e4033f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac653a490c1610c6aeaf7344ee3e4033f">&#9670;&#160;</a></span>doesRankIndexIdentifyHorizontalDataExchange()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::doesRankIndexIdentifyHorizontalDataExchange </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a></td>          <td class="paramname"><span class="paramname"><em>rank</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a></td>          <td class="paramname"><span class="paramname"><em>calledByReceivingProcess</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>You may exchange data horizontally with rank if and only if. </p>
<ul>
<li>a grid entity is local</li>
<li>this predicate holds for rank</li>
</ul>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a84020161911e239fcf0c47a866499379" title="Get the ids of the surrounding cells of a vertex.">getNeighbourTrees()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l00794">794</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a704d65e0f79f2051e29ed86906ae5cf5">peano4::grid::InvalidRank()</a>, and <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37caf6807db4ae3a5c82b99bced82a0ca92b">peano4::grid::Joining</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/df6/classpeano4_1_1grid_1_1Spacetree_ac653a490c1610c6aeaf7344ee3e4033f_cgraph.png" border="0" usemap="#adf/df6/classpeano4_1_1grid_1_1Spacetree_ac653a490c1610c6aeaf7344ee3e4033f_cgraph" alt=""/></div>
<map name="adf/df6/classpeano4_1_1grid_1_1Spacetree_ac653a490c1610c6aeaf7344ee3e4033f_cgraph" id="adf/df6/classpeano4_1_1grid_1_1Spacetree_ac653a490c1610c6aeaf7344ee3e4033f_cgraph">
<area shape="rect" title="You may exchange data horizontally with rank if and only if." alt="" coords="5,5,252,60"/>
<area shape="rect" href="../../d7/d7c/namespacepeano4_1_1grid.html#a704d65e0f79f2051e29ed86906ae5cf5" title=" " alt="" coords="300,20,488,45"/>
<area shape="poly" title=" " alt="" coords="252,30,286,30,286,35,252,35"/>
</map>
</div>

</div>
</div>
<a id="a9d5fcd0227a21505b358dde6c3d3b039" name="a9d5fcd0227a21505b358dde6c3d3b039"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d5fcd0227a21505b358dde6c3d3b039">&#9670;&#160;</a></span>evaluateGridControlEvents()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::evaluateGridControlEvents </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html">AutomatonState</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>fineGridState</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a></td>          <td class="paramname"><span class="paramname"><em>coarseGridVertices</em>[TwoPowerD], </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a></td>          <td class="paramname"><span class="paramname"><em>fineGridVertices</em>[TwoPowerD]</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Should only be called for inner cells. </p>
<p>We run over all the grid refinement/erase events and first check if there are overlaps (refinement) or if the state is completely embedded within the current cell.</p>
<p>If there's an overlap with a refinement event, then we refine all adjacent vertices which are not yet refined.</p>
<p>If there's an erase event that's relevant, then we erase all adjacent vertices which are refined. To avoid that we have oscillations, I make the cell twice as big along each coordinate axis. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l01116">1116</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d3/db1/VectorScalarOperations_8cpph_source.html#l00279">tarch::la::allGreaterEquals()</a>, <a class="el" href="../../d3/db1/VectorScalarOperations_8cpph_source.html#l00289">tarch::la::allSmaller()</a>, <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01018">assertion1</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37cae2e6f897d049a5a191850fa42b37cf2a">peano4::grid::EmptyRun</a>, <a class="el" href="../../dd/de7/structpeano4_1_1grid_1_1GridControlEvent.html#a794903045a986f95769e8b5ffda790f5aedc187bdea52d6e32b9c0f84e0849ec5">peano4::grid::GridControlEvent::Erase</a>, <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a30f260fb2246dd83692c70b1d1ff203ca69c32f43b3f5f87436887005efe9bf16">peano4::grid::GridVertex::EraseTriggered</a>, <a class="el" href="../../d4/df5/AutomatonState_8h_source.html#l00055">peano4::grid::AutomatonState::getH()</a>, <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a30f260fb2246dd83692c70b1d1ff203ca5b8f04110f6cc6d3086bd9540844fb2b">peano4::grid::GridVertex::HangingVertex</a>, <a class="el" href="../../d7/d70/grid_8cpp_source.html#l00040">peano4::grid::isContained()</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37caf6807db4ae3a5c82b99bced82a0ca92b">peano4::grid::Joining</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00050">logDebug</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00371">logTraceInWith2Arguments</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00382">logTraceOutWith3Arguments</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37ca09bce956ecf16a726820c33dc8fe3cc6">peano4::grid::NewFromSplit</a>, <a class="el" href="../../d7/d70/grid_8cpp_source.html#l00056">peano4::grid::overlaps()</a>, <a class="el" href="../../dd/de7/structpeano4_1_1grid_1_1GridControlEvent.html#a794903045a986f95769e8b5ffda790f5a9f79b65055f2201292e5f79666bf2579">peano4::grid::GridControlEvent::Refine</a>, <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a30f260fb2246dd83692c70b1d1ff203cae179f0bcf9190ee2b46fc8381d7ed9c3">peano4::grid::GridVertex::Refined</a>, <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a30f260fb2246dd83692c70b1d1ff203cacafc64bf8acbe7659c2b3ee0195e82c4">peano4::grid::GridVertex::RefinementTriggered</a>, <a class="el" href="../../d0/d31/GridTraversalEventGeneratorTest_8cpp_source.html#l00146">state</a>, <a class="el" href="../../d9/db4/AutomatonState_8cpp_source.html#l00048">peano4::grid::AutomatonState::toString()</a>, <a class="el" href="../../d7/d70/grid_8cpp_source.html#l00276">peano4::grid::toString()</a>, <a class="el" href="../../d9/df1/Globals_8h_source.html#l00021">TwoPowerD</a>, and <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a30f260fb2246dd83692c70b1d1ff203ca27d974933532127b2ca94a6dc31123b3">peano4::grid::GridVertex::Unrefined</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/df6/classpeano4_1_1grid_1_1Spacetree_a9d5fcd0227a21505b358dde6c3d3b039_cgraph.png" border="0" usemap="#adf/df6/classpeano4_1_1grid_1_1Spacetree_a9d5fcd0227a21505b358dde6c3d3b039_cgraph" alt=""/></div>
<map name="adf/df6/classpeano4_1_1grid_1_1Spacetree_a9d5fcd0227a21505b358dde6c3d3b039_cgraph" id="adf/df6/classpeano4_1_1grid_1_1Spacetree_a9d5fcd0227a21505b358dde6c3d3b039_cgraph">
<area shape="rect" title="Should only be called for inner cells." alt="" coords="5,153,211,193"/>
<area shape="rect" href="../../d2/d45/namespacetarch_1_1la.html#a1a6da58471823d62caa314a5d8c358af" title=" " alt="" coords="525,5,715,31"/>
<area shape="poly" title=" " alt="" coords="124,151,179,96,216,68,258,46,321,26,387,14,452,9,511,8,511,13,452,14,388,20,322,31,260,51,219,73,183,100,128,154"/>
<area shape="rect" href="../../d2/d45/namespacetarch_1_1la.html#ac8d4bce96bd99dc3d3e437040e304f1a" title=" " alt="" coords="293,160,442,185"/>
<area shape="poly" title=" " alt="" coords="211,170,279,170,279,175,211,175"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#a4fe59e92998bf7fcda9f7e2b9b6f6a45" title=" " alt="" coords="259,210,476,250"/>
<area shape="poly" title=" " alt="" coords="200,190,264,204,263,210,199,195"/>
<area shape="rect" href="../../d7/d7c/namespacepeano4_1_1grid.html#afce6597b41b25c379e4391f456a656a3" title="isContained() is defined over the closed interval, i.e." alt="" coords="273,111,461,136"/>
<area shape="poly" title=" " alt="" coords="210,151,286,136,287,141,211,156"/>
<area shape="rect" href="../../d7/d7c/namespacepeano4_1_1grid.html#a60d9d6d3268a9f6ecfae41fb5cb35017" title=" " alt="" coords="284,61,451,87"/>
<area shape="poly" title=" " alt="" coords="143,150,196,122,258,95,283,88,285,93,260,101,198,127,145,155"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#a0d6a37b729dd985044059247f39732ea" title=" " alt="" coords="259,274,476,314"/>
<area shape="poly" title=" " alt="" coords="139,190,194,225,260,260,278,267,276,272,258,264,191,230,136,195"/>
<area shape="rect" href="../../d7/d7c/namespacepeano4_1_1grid.html#a133e937a14fa2b8b6d077e9ce346ec69" title=" " alt="" coords="286,339,449,364"/>
<area shape="poly" title=" " alt="" coords="125,191,179,257,217,293,260,324,277,332,274,336,257,328,214,298,175,261,121,195"/>
<area shape="rect" href="../../d2/d45/namespacetarch_1_1la.html#a5e951ee2e1896bb641af43b495dc1e4a" title=" " alt="" coords="765,5,938,31"/>
<area shape="poly" title=" " alt="" coords="716,15,751,15,751,21,716,21"/>
<area shape="rect" href="../../d2/d45/namespacetarch_1_1la.html#ab3cd3664dd66aa6062b2e3feab03171e" title=" " alt="" coords="554,233,686,259"/>
<area shape="poly" title=" " alt="" coords="433,183,477,196,525,218,552,227,550,232,523,223,475,200,432,188"/>
<area shape="poly" title=" " alt="" coords="447,108,475,96,489,83,498,69,507,54,522,40,534,34,536,38,526,44,511,57,502,71,493,86,477,100,449,113"/>
<area shape="rect" href="../../d2/d45/namespacetarch_1_1la.html#ac8ceaae1b1e7086fe40fd2d9144ec57b" title=" " alt="" coords="524,55,716,80"/>
<area shape="poly" title=" " alt="" coords="425,108,548,80,549,86,426,113"/>
<area shape="rect" href="../../dd/de7/structpeano4_1_1grid_1_1GridControlEvent.html#ae156a1f19ce45c54f810e5355e0724f5" title=" " alt="" coords="527,105,713,145"/>
<area shape="poly" title=" " alt="" coords="461,121,514,121,514,127,461,126"/>
<area shape="rect" href="../../dd/de7/structpeano4_1_1grid_1_1GridControlEvent.html#a8b3ab058e0a891a4f4be0569a14ff606" title=" " alt="" coords="527,169,713,209"/>
<area shape="poly" title=" " alt="" coords="429,133,477,145,540,162,539,167,475,150,428,139"/>
<area shape="rect" href="../../d2/d45/namespacetarch_1_1la.html#a92121dc012abf37d9346be03fa866bbc" title=" " alt="" coords="764,55,939,80"/>
<area shape="poly" title=" " alt="" coords="716,65,750,65,750,70,716,70"/>
<area shape="poly" title=" " alt="" coords="425,59,548,31,549,36,426,64"/>
<area shape="poly" title=" " alt="" coords="451,69,510,68,510,73,451,74"/>
<area shape="poly" title=" " alt="" coords="432,84,515,101,514,106,431,89"/>
<area shape="poly" title=" " alt="" coords="452,84,477,96,494,110,503,125,511,140,526,155,534,160,532,165,522,159,507,144,498,128,490,114,475,100,450,89"/>
</map>
</div>

</div>
</div>
<a id="afbcb7502a460ccae3fed0c7dfed274d7" name="afbcb7502a460ccae3fed0c7dfed274d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbcb7502a460ccae3fed0c7dfed274d7">&#9670;&#160;</a></span>getAdjacentRanksForNewVertex()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d26/structtarch_1_1la_1_1Vector.html">tarch::la::Vector</a>&lt; <a class="el" href="../../d9/df1/Globals_8h.html#ae7c038f02be8703e671d700496803857">TwoPowerD</a>, <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> &gt; <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::getAdjacentRanksForNewVertex </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a></td>          <td class="paramname"><span class="paramname"><em>coarseGridVertices</em>[TwoPowerD], </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../d7/d26/structtarch_1_1la_1_1Vector.html">tarch::la::Vector</a>&lt; Dimensions, <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>vertexPositionWithin3x3Patch</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000017">Todo</a></b></dt><dd></dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l00581">581</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../db/d9e/Loop_8h_source.html#l00086">dfor2</a>, <a class="el" href="../../db/d9e/Loop_8h_source.html#l00117">enddforx</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a704d65e0f79f2051e29ed86906ae5cf5">peano4::grid::InvalidRank()</a>, and <a class="el" href="../../d1/d45/Log_8h_source.html#l00050">logDebug</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/df6/classpeano4_1_1grid_1_1Spacetree_afbcb7502a460ccae3fed0c7dfed274d7_cgraph.png" border="0" usemap="#adf/df6/classpeano4_1_1grid_1_1Spacetree_afbcb7502a460ccae3fed0c7dfed274d7_cgraph" alt=""/></div>
<map name="adf/df6/classpeano4_1_1grid_1_1Spacetree_afbcb7502a460ccae3fed0c7dfed274d7_cgraph" id="adf/df6/classpeano4_1_1grid_1_1Spacetree_afbcb7502a460ccae3fed0c7dfed274d7_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,244,45"/>
<area shape="rect" href="../../d7/d7c/namespacepeano4_1_1grid.html#a704d65e0f79f2051e29ed86906ae5cf5" title=" " alt="" coords="292,13,480,38"/>
<area shape="poly" title=" " alt="" coords="244,23,278,23,278,28,244,28"/>
</map>
</div>

</div>
</div>
<a id="a1a92ee6f9a9b343569d57077f921cb25" name="a1a92ee6f9a9b343569d57077f921cb25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a92ee6f9a9b343569d57077f921cb25">&#9670;&#160;</a></span>getGridStatistics()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html">peano4::grid::GridStatistics</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::getGridStatistics </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l01762">1762</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00564">peano4::parallel::SpacetreeSet::cleanUpTrees()</a>, and <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00659">peano4::parallel::SpacetreeSet::getGridStatistics()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/df6/classpeano4_1_1grid_1_1Spacetree_a1a92ee6f9a9b343569d57077f921cb25_icgraph.png" border="0" usemap="#adf/df6/classpeano4_1_1grid_1_1Spacetree_a1a92ee6f9a9b343569d57077f921cb25_icgraph" alt=""/></div>
<map name="adf/df6/classpeano4_1_1grid_1_1Spacetree_a1a92ee6f9a9b343569d57077f921cb25_icgraph" id="adf/df6/classpeano4_1_1grid_1_1Spacetree_a1a92ee6f9a9b343569d57077f921cb25_icgraph">
<area shape="rect" title=" " alt="" coords="743,79,919,119"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#aa07efe0ea318000757b2acd065b0a8ba" title=" " alt="" coords="495,47,695,87"/>
<area shape="poly" title=" " alt="" coords="729,88,694,84,695,78,730,83"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#aa05a1cea439ce5f863fd66b31e8fcc51" title=" " alt="" coords="495,111,695,151"/>
<area shape="poly" title=" " alt="" coords="730,116,695,120,694,115,729,110"/>
<area shape="rect" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#af3302644e7f7848b653167f1502f3554" title="Invoke traverse on all spacetrees in parallel." alt="" coords="247,47,447,87"/>
<area shape="poly" title=" " alt="" coords="481,70,447,70,447,65,481,65"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a63ad06a0041cb535df105cf2f445a73c" title=" " alt="" coords="108,5,199,31"/>
<area shape="poly" title=" " alt="" coords="254,46,198,32,199,27,255,41"/>
<area shape="rect" href="../../d6/d10/benchmarks_2peano4_2regulargridupscaling_2main_8cpp.html#a716631ca95d6176da3ed3886635e801e" title=" " alt="" coords="108,55,199,80"/>
<area shape="poly" title=" " alt="" coords="233,70,199,70,199,65,233,65"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#ac6bf1a12c5c98ddec5b65e07fe74cabe" title=" " alt="" coords="128,104,179,129"/>
<area shape="poly" title=" " alt="" coords="255,93,179,113,178,108,254,88"/>
<area shape="rect" href="../../dd/dbf/benchmarks_2peano4_2grid_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
<area shape="rect" href="../../d7/dbd/applications_2exahype2_2ccz4_2ccz4-main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main routine of the SPH code." alt="" coords="5,104,60,129"/>
<area shape="poly" title=" " alt="" coords="114,119,60,119,60,114,114,114"/>
</map>
</div>

</div>
</div>
<a id="a84020161911e239fcf0c47a866499379" name="a84020161911e239fcf0c47a866499379"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84020161911e239fcf0c47a866499379">&#9670;&#160;</a></span>getNeighbourTrees() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt; <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> &gt; <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::getNeighbourTrees </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>vertex</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a></td>          <td class="paramname"><span class="paramname"><em>calledByReceivingProcess</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the ids of the surrounding cells of a vertex. </p>
<p>This operation studies the vertex only. Please check manually whether your code is in the states <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37ca09bce956ecf16a726820c33dc8fe3cc6" title="Set if this tree results from a split and if this is the first grid sweep when the former owner actua...">SpacetreeState::NewFromSplit</a> or <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37cae2e6f897d049a5a191850fa42b37cf2a" title="Not yet a new root.">SpacetreeState::EmptyRun</a>. Joining is not taken into account either. So as a summary: I do analyse the vertex data and I do take into account whether subranks are currently joining or triggered to split. But I do ignore the current spacetree's state.</p>
<p>The operation returns the empty set if a vertex is not local. It also returns the empty set if a vertex is hanging.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">calledByReceivingProcess</td><td>The operation relies on <a class="el" href="../../d1/d8e/classpeano4_1_1grid_1_1GridTraversalEventGenerator.html#a3c8db41ce19e63785b9fb558f5361c56">GridTraversalEventGenerator::getAdjacentRanksOfFace()</a> to find the adjacent faces. This routine in turn uses getBackupOfAdjacentRanks() if you invoke it on the receiving side and the new adjacent ranks otherwise. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l00881">881</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d05/GridVertex_8h_source.html#l00058">peano4::grid::GridVertex::getAdjacentRanks()</a>, <a class="el" href="../../dc/d05/GridVertex_8h_source.html#l00063">peano4::grid::GridVertex::getBackupOfAdjacentRanks()</a>, and <a class="el" href="../../d9/df1/Globals_8h_source.html#l00021">TwoPowerD</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/df6/classpeano4_1_1grid_1_1Spacetree_a84020161911e239fcf0c47a866499379_cgraph.png" border="0" usemap="#adf/df6/classpeano4_1_1grid_1_1Spacetree_a84020161911e239fcf0c47a866499379_cgraph" alt=""/></div>
<map name="adf/df6/classpeano4_1_1grid_1_1Spacetree_a84020161911e239fcf0c47a866499379_cgraph" id="adf/df6/classpeano4_1_1grid_1_1Spacetree_a84020161911e239fcf0c47a866499379_cgraph">
<area shape="rect" title="Get the ids of the surrounding cells of a vertex." alt="" coords="5,37,181,77"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a03d9912c42e0139ed21ecf18b9a00599" title=" " alt="" coords="245,5,425,45"/>
<area shape="poly" title=" " alt="" coords="181,43,231,36,231,42,182,48"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a46ee97690a190bad804007e59bc5aa42" title=" " alt="" coords="229,69,440,109"/>
<area shape="poly" title=" " alt="" coords="182,66,216,71,215,76,181,72"/>
</map>
</div>

</div>
</div>
<a id="ab56cba94d9f56db9f0f156ba87d9ae36" name="ab56cba94d9f56db9f0f156ba87d9ae36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab56cba94d9f56db9f0f156ba87d9ae36">&#9670;&#160;</a></span>getNeighbourTrees() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::getNeighbourTrees </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a></td>          <td class="paramname"><span class="paramname"><em>vertex</em>[TwoPowerD], </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a></td>          <td class="paramname"><span class="paramname"><em>faceNumber</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a></td>          <td class="paramname"><span class="paramname"><em>calledByReceivingProcess</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the ids of the surround ids of a face. </p>
<p>We really return only neighbour ids, i.e. no ids of periodic boundary conditions.</p>
<h2>Implementation remarks </h2>
<p>The domain ids (adjacency lists) along the boundary tell us what the neighbour number is. If a neighbouring rank has triggered a split, we get an updated adjacency list for affected vertices. This list is immediately merged into the the local vertex. The new entries however are only to be taken into account when we send data. For receives, we should stick to the old entries. Therefore, we use the backup of the adjacency list when we receive data, but we use the updated/new list when we send out stuff.</p>
<p>If we bump into a new vertex, we should explicitly ignore it when we receive. After all, new vertices cannot yet have triggered incoming data. The counterpart is deleted vertices which should not contribute towards a send command.</p>
<dl class="section return"><dt>Returns</dt><dd>-1 (<a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html#abbe411399480e4585f40a167e7af23f9" title="Can this grid entity hold data.">TraversalObserver::NoData</a>) if there's no neighbour or face is not local. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l00829">829</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37cae2e6f897d049a5a191850fa42b37cf2a">peano4::grid::EmptyRun</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a704d65e0f79f2051e29ed86906ae5cf5">peano4::grid::InvalidRank()</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00050">logDebug</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00372">logTraceInWith3Arguments</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00380">logTraceOutWith1Argument</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37ca09bce956ecf16a726820c33dc8fe3cc6">peano4::grid::NewFromSplit</a>, <a class="el" href="../../df/d0a/TraversalObserver_8h_source.html#l00052">peano4::grid::TraversalObserver::NoData</a>, and <a class="el" href="../../d9/df1/Globals_8h_source.html#l00021">TwoPowerD</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/df6/classpeano4_1_1grid_1_1Spacetree_ab56cba94d9f56db9f0f156ba87d9ae36_cgraph.png" border="0" usemap="#adf/df6/classpeano4_1_1grid_1_1Spacetree_ab56cba94d9f56db9f0f156ba87d9ae36_cgraph" alt=""/></div>
<map name="adf/df6/classpeano4_1_1grid_1_1Spacetree_ab56cba94d9f56db9f0f156ba87d9ae36_cgraph" id="adf/df6/classpeano4_1_1grid_1_1Spacetree_ab56cba94d9f56db9f0f156ba87d9ae36_cgraph">
<area shape="rect" title="Get the ids of the surround ids of a face." alt="" coords="5,5,181,45"/>
<area shape="rect" href="../../d7/d7c/namespacepeano4_1_1grid.html#a704d65e0f79f2051e29ed86906ae5cf5" title=" " alt="" coords="229,13,417,38"/>
<area shape="poly" title=" " alt="" coords="182,23,216,23,216,28,182,28"/>
</map>
</div>

</div>
</div>
<a id="a6510a2107d2d67324de5604bd44837d7" name="a6510a2107d2d67324de5604bd44837d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6510a2107d2d67324de5604bd44837d7">&#9670;&#160;</a></span>getSplittingTree()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::getSplittingTree </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Id of splitting tree or -1 if there's none. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l01753">1753</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

</div>
</div>
<a id="a57076f641438bd9cbc7d21de3db04a83" name="a57076f641438bd9cbc7d21de3db04a83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57076f641438bd9cbc7d21de3db04a83">&#9670;&#160;</a></span>incrementNumberOfAdjacentRefinedLocalCells()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::incrementNumberOfAdjacentRefinedLocalCells </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a></td>          <td class="paramname"><span class="paramname"><em>vertices</em>[TwoPowerD]</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Every local refined cell should call this routine. </p>
<p>We increment the respective counter. Upon storage, we then refine if the counter equals 2^d. This way we avoid hanging vertices within the domain. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l01101">1101</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../db/d9e/Loop_8h_source.html#l00086">dfor2</a>, <a class="el" href="../../db/d9e/Loop_8h_source.html#l00117">enddforx</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00050">logDebug</a>, and <a class="el" href="../../d7/d70/grid_8cpp_source.html#l00276">peano4::grid::toString()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/df6/classpeano4_1_1grid_1_1Spacetree_a57076f641438bd9cbc7d21de3db04a83_cgraph.png" border="0" usemap="#adf/df6/classpeano4_1_1grid_1_1Spacetree_a57076f641438bd9cbc7d21de3db04a83_cgraph" alt=""/></div>
<map name="adf/df6/classpeano4_1_1grid_1_1Spacetree_a57076f641438bd9cbc7d21de3db04a83_cgraph" id="adf/df6/classpeano4_1_1grid_1_1Spacetree_a57076f641438bd9cbc7d21de3db04a83_cgraph">
<area shape="rect" title="Every local refined cell should call this routine." alt="" coords="5,5,275,60"/>
<area shape="rect" href="../../d7/d7c/namespacepeano4_1_1grid.html#a133e937a14fa2b8b6d077e9ce346ec69" title=" " alt="" coords="323,20,485,45"/>
<area shape="poly" title=" " alt="" coords="275,30,309,30,309,35,275,35"/>
</map>
</div>

</div>
</div>
<a id="afe9730dc3126f08ec31186187c7a6b54" name="afe9730dc3126f08ec31186187c7a6b54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe9730dc3126f08ec31186187c7a6b54">&#9670;&#160;</a></span>isCellSplitCandidate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::isCellSplitCandidate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a></td>          <td class="paramname"><span class="paramname"><em>coarseGridVertices</em>[TwoPowerD], </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a></td>          <td class="paramname"><span class="paramname"><em>fineGridVertices</em>[TwoPowerD]</span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Can a cell be split (deployed to another rank) </p>
<p>Not all cells are a fit and can be deployed to another rank even though the spacetree set wants to split a tree. Please read through Peano's domain decomposition discussion and the two splitting constraints therein to understand why this routine may or may not label a cell as splittable.</p>
<p>Cells that disqualify for splitting are</p>
<ul>
<li>Cells which a adjacent to a periodic boundary conditions. Such cells (including their adjacent vertices) all are kept on tree 0 so all periodic boundary data exchange happens on tree 0 only.</li>
<li>Non-local cells (obviously)</li>
<li>Local cells whose master is not local. If we'd move such cells to another rank, we'd destroy the logical tree topology.</li>
<li>Cells that are adjacent of hanging nodes, while the parent cell is not splitable. </li>
</ul>

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l01607">1607</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d88/VectorOperations_8cpph_source.html#l00048">tarch::la::contains()</a>, <a class="el" href="../../db/d9e/Loop_8h_source.html#l00086">dfor2</a>, and <a class="el" href="../../db/d9e/Loop_8h_source.html#l00117">enddforx</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/df6/classpeano4_1_1grid_1_1Spacetree_afe9730dc3126f08ec31186187c7a6b54_cgraph.png" border="0" usemap="#adf/df6/classpeano4_1_1grid_1_1Spacetree_afe9730dc3126f08ec31186187c7a6b54_cgraph" alt=""/></div>
<map name="adf/df6/classpeano4_1_1grid_1_1Spacetree_afe9730dc3126f08ec31186187c7a6b54_cgraph" id="adf/df6/classpeano4_1_1grid_1_1Spacetree_afe9730dc3126f08ec31186187c7a6b54_cgraph">
<area shape="rect" title="Can a cell be split (deployed to another rank)" alt="" coords="5,5,181,45"/>
<area shape="rect" href="../../d2/d45/namespacetarch_1_1la.html#ae4f5aabae51a4ad02358671747cb8fd9" title=" " alt="" coords="229,13,368,38"/>
<area shape="poly" title=" " alt="" coords="182,23,216,23,216,28,182,28"/>
</map>
</div>

</div>
</div>
<a id="a67fc3fa43e6316d247082e34529a367e" name="a67fc3fa43e6316d247082e34529a367e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67fc3fa43e6316d247082e34529a367e">&#9670;&#160;</a></span>isFaceAlongPeriodicBoundaryCondition()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::isFaceAlongPeriodicBoundaryCondition </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a></td>          <td class="paramname"><span class="paramname"><em>vertex</em>[TwoPowerD], </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a></td>          <td class="paramname"><span class="paramname"><em>faceNumber</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a></td>          <td class="paramname"><span class="paramname"><em>calledByReceivingProcess</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l00805">805</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d45/Log_8h_source.html#l00371">logTraceInWith2Arguments</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00381">logTraceOutWith2Arguments</a>, and <a class="el" href="../../d9/df1/Globals_8h_source.html#l00021">TwoPowerD</a>.</p>

</div>
</div>
<a id="a1cd8b7de81c054b808083b02007c54cd" name="a1cd8b7de81c054b808083b02007c54cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cd8b7de81c054b808083b02007c54cd">&#9670;&#160;</a></span>isInvolvedInJoinOrFork()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::isInvolvedInJoinOrFork </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l01873">1873</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

</div>
</div>
<a id="a6c4ee0edb468eab3002d773ee7c855ad" name="a6c4ee0edb468eab3002d773ee7c855ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c4ee0edb468eab3002d773ee7c855ad">&#9670;&#160;</a></span>isSpacetreeNodeLocal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::isSpacetreeNodeLocal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a></td>          <td class="paramname"><span class="paramname"><em>vertices</em>[TwoPowerD], </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a></td>          <td class="paramname"><span class="paramname"><em>splittingIsConsideredLocal</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a></td>          <td class="paramname"><span class="paramname"><em>joiningIsConsideredLocal</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Wrapper around <a class="el" href="../../d1/d8e/classpeano4_1_1grid_1_1GridTraversalEventGenerator.html#a3f57dfd8e99015fa5956d0a368773748" title="A spacetree node has 2^d adjacent vertices.">GridTraversalEventGenerator::isSpacetreeNodeLocal()</a> </p>
<p>This is a boolean which solely studies the vertices passed in. The generator is the more powerful routine. It offers, for example, an operation <a class="el" href="../../d1/d8e/classpeano4_1_1grid_1_1GridTraversalEventGenerator.html#a2036e13e560640981f7f090f2af5470a" title="We run over the  adjacent vertices of the cell and look at each vertex&#39;s adjacency list.">GridTraversalEventGenerator::getTreeOwningSpacetreeNode()</a> to find out who actually owns a cell. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l00114">114</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

</div>
</div>
<a id="aa1ea9e39e26b6d52d8d38c06cf4db78a" name="aa1ea9e39e26b6d52d8d38c06cf4db78a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1ea9e39e26b6d52d8d38c06cf4db78a">&#9670;&#160;</a></span>isVertexAdjacentToLocalSpacetree()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::isVertexAdjacentToLocalSpacetree </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a></td>          <td class="paramname"><span class="paramname"><em>vertex</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a></td>          <td class="paramname"><span class="paramname"><em>splittingIsConsideredLocal</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a></td>          <td class="paramname"><span class="paramname"><em>joiningIsConsideredLocal</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns if a vertex is local to adjacent tree. </p>
<p>In the definition here, hanging vertices are never adjacent to the local tree. This is different to the definition in the event generator, where hanging nodes are taken into account.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d1/d8e/classpeano4_1_1grid_1_1GridTraversalEventGenerator.html#a8e9066dc64656eea4707bd128aabd744" title="Study the adjacency flags and do ignore hanging nodes.">GridTraversalEventGenerator::isVertexAdjacentToLocalSpacetree()</a> <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a10aa502896b834c0d9eaeb3e8c8ab187">for</a> <a class="el" href="../../d0/de2/hydro__iact_8h.html#a8cbb00f59bca2c48d4560b23f07a4de2">a</a> slightly different notion of locality. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l00081">81</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d05/GridVertex_8h_source.html#l00055">peano4::grid::GridVertex::getState()</a>, and <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a30f260fb2246dd83692c70b1d1ff203ca5b8f04110f6cc6d3086bd9540844fb2b">peano4::grid::GridVertex::HangingVertex</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/df6/classpeano4_1_1grid_1_1Spacetree_aa1ea9e39e26b6d52d8d38c06cf4db78a_cgraph.png" border="0" usemap="#adf/df6/classpeano4_1_1grid_1_1Spacetree_aa1ea9e39e26b6d52d8d38c06cf4db78a_cgraph" alt=""/></div>
<map name="adf/df6/classpeano4_1_1grid_1_1Spacetree_aa1ea9e39e26b6d52d8d38c06cf4db78a_cgraph" id="adf/df6/classpeano4_1_1grid_1_1Spacetree_aa1ea9e39e26b6d52d8d38c06cf4db78a_cgraph">
<area shape="rect" title="Returns if a vertex is local to adjacent tree." alt="" coords="5,5,259,45"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#af0a4b4140aea5650feecb14cd5e5033c" title=" " alt="" coords="307,5,487,45"/>
<area shape="poly" title=" " alt="" coords="259,23,293,23,293,28,259,28"/>
</map>
</div>

</div>
</div>
<a id="a87283bad86c00b4de5aa6bcf2603e8c4" name="a87283bad86c00b4de5aa6bcf2603e8c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87283bad86c00b4de5aa6bcf2603e8c4">&#9670;&#160;</a></span>joinWithMaster()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::joinWithMaster </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Join with master. </p>
<p>Call this routine only for degenerated trees, i.e. for trees without any refined local cells.</p>
<p>We have to be careful with the merges. Often when we fork a tree, this tree first is not refined further. We need a couple of sweeps to see whether a tree is refined further or not. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l01856">1856</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01017">assertion</a>, <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01018">assertion1</a>, and <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37cad0ffc089d13c7947ef0ab4fda4ad1dd3">peano4::grid::JoinTriggered</a>.</p>

</div>
</div>
<a id="a4af4790f189126dc5f474dc3ed51749d" name="a4af4790f189126dc5f474dc3ed51749d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4af4790f189126dc5f474dc3ed51749d">&#9670;&#160;</a></span>joinWithWorker()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::joinWithWorker </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a></td>          <td class="paramname"><span class="paramname"><em>id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l01865">1865</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01019">assertion2</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00411">logInfo</a>, and <a class="el" href="../../d7/d70/grid_8cpp_source.html#l00276">peano4::grid::toString()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/df6/classpeano4_1_1grid_1_1Spacetree_a4af4790f189126dc5f474dc3ed51749d_cgraph.png" border="0" usemap="#adf/df6/classpeano4_1_1grid_1_1Spacetree_a4af4790f189126dc5f474dc3ed51749d_cgraph" alt=""/></div>
<map name="adf/df6/classpeano4_1_1grid_1_1Spacetree_a4af4790f189126dc5f474dc3ed51749d_cgraph" id="adf/df6/classpeano4_1_1grid_1_1Spacetree_a4af4790f189126dc5f474dc3ed51749d_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,181,45"/>
<area shape="rect" href="../../d7/d7c/namespacepeano4_1_1grid.html#a133e937a14fa2b8b6d077e9ce346ec69" title=" " alt="" coords="229,13,392,38"/>
<area shape="poly" title=" " alt="" coords="181,23,216,23,216,28,181,28"/>
</map>
</div>

</div>
</div>
<a id="a47661502ff6b61cb8ebbe69193bc16ea" name="a47661502ff6b61cb8ebbe69193bc16ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47661502ff6b61cb8ebbe69193bc16ea">&#9670;&#160;</a></span>loadVertices()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::loadVertices </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html">AutomatonState</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>fineGridState</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a></td>          <td class="paramname"><span class="paramname"><em>coarseGridVertices</em>[TwoPowerD], </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a></td>          <td class="paramname"><span class="paramname"><em>fineGridVertices</em>[TwoPowerD], </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../d7/d26/structtarch_1_1la_1_1Vector.html">tarch::la::Vector</a>&lt; Dimensions, <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>cellPositionWithin3x3Patch</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html">TraversalObserver</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>observer</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Load the vertices of one cell. </p>
<p>The load process has to be done along the local order of the Peano SFC. For this, I rely on <a class="el" href="../../d5/d2c/classpeano4_1_1grid_1_1PeanoCurve.html#af602ba144ee22232579adf50ace7da8c" title="Looks into a cell of the spacetree and gives the index of the first local vertex.">PeanoCurve::getFirstVertexIndex()</a>.</p>
<h2>Hanging vertices </h2>
<p>I originally thought that I might be able to run hanging vertices through the in/out stacks, too. In Peano 3, I had such a feature. Yet, there I had a way more complicated logic. In Peano 4, I simplify the logic. As a consequence, I don't know how many adjacent cells a hanging vertex has and thus create a hanging vertex per adjacent cell. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l00609">609</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01017">assertion</a>, <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01019">assertion2</a>, <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01020">assertion3</a>, <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01040">assertionEquals5</a>, <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01055">assertionNumericalEquals5</a>, <a class="el" href="../../d7/d70/grid_8cpp_source.html#l00061">peano4::grid::createVertex()</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#af8e5a430d46e861a3f32ee7671827be6af2a6c498fb90ee345d997f888fce3b18">peano4::grid::Delete</a>, <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a30f260fb2246dd83692c70b1d1ff203caf2a6c498fb90ee345d997f888fce3b18">peano4::grid::GridVertex::Delete</a>, <a class="el" href="../../d1/dc2/Linearised_8cpph_source.html#l00034">peano4::utils::dLinearised()</a>, <a class="el" href="../../d2/d19/PeanoCurve_8cpp_source.html#l00088">peano4::grid::PeanoCurve::getFirstVertexIndex()</a>, <a class="el" href="../../d4/df5/AutomatonState_8h_source.html#l00055">peano4::grid::AutomatonState::getH()</a>, <a class="el" href="../../d4/df5/AutomatonState_8h_source.html#l00047">peano4::grid::AutomatonState::getLevel()</a>, <a class="el" href="../../d2/d19/PeanoCurve_8cpp_source.html#l00145">peano4::grid::PeanoCurve::getVertexReadStackNumber()</a>, <a class="el" href="../../d4/df5/AutomatonState_8h_source.html#l00050">peano4::grid::AutomatonState::getX()</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#af8e5a430d46e861a3f32ee7671827be6aaefea37c8d478f0968d6606e6095beb7">peano4::grid::Hanging</a>, <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a30f260fb2246dd83692c70b1d1ff203ca5b8f04110f6cc6d3086bd9540844fb2b">peano4::grid::GridVertex::HangingVertex</a>, <a class="el" href="../../d2/d19/PeanoCurve_8cpp_source.html#l00169">peano4::grid::PeanoCurve::isInOutStack()</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00050">logDebug</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00372">logTraceInWith3Arguments</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00380">logTraceOutWith1Argument</a>, <a class="el" href="../../d0/deb/Scalar_8cpp_source.html#l00008">tarch::la::max()</a>, <a class="el" href="../../d2/d45/namespacetarch_1_1la.html#adca36f9134d5ca53daa05b82d9a1ce18">tarch::la::multiplyComponents()</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#af8e5a430d46e861a3f32ee7671827be6a03c2e7e41ffc181a4e84080b4710e81e">peano4::grid::New</a>, <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a30f260fb2246dd83692c70b1d1ff203ca03c2e7e41ffc181a4e84080b4710e81e">peano4::grid::GridVertex::New</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#af8e5a430d46e861a3f32ee7671827be6a5fe7b9358c9cb1b9eaa8d5aec000def4">peano4::grid::Persistent</a>, <a class="el" href="../../d9/db4/AutomatonState_8cpp_source.html#l00048">peano4::grid::AutomatonState::toString()</a>, <a class="el" href="../../d7/d70/grid_8cpp_source.html#l00276">peano4::grid::toString()</a>, and <a class="el" href="../../d9/df1/Globals_8h_source.html#l00021">TwoPowerD</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/df6/classpeano4_1_1grid_1_1Spacetree_a47661502ff6b61cb8ebbe69193bc16ea_cgraph.png" border="0" usemap="#adf/df6/classpeano4_1_1grid_1_1Spacetree_a47661502ff6b61cb8ebbe69193bc16ea_cgraph" alt=""/></div>
<map name="adf/df6/classpeano4_1_1grid_1_1Spacetree_a47661502ff6b61cb8ebbe69193bc16ea_cgraph" id="adf/df6/classpeano4_1_1grid_1_1Spacetree_a47661502ff6b61cb8ebbe69193bc16ea_cgraph">
<area shape="rect" title="Load the vertices of one cell." alt="" coords="5,849,181,889"/>
<area shape="rect" href="../../d7/d7c/namespacepeano4_1_1grid.html#a372822467e0ef7f65d03b618d19acf4f" title="Factory mechanism." alt="" coords="241,346,436,371"/>
<area shape="poly" title=" " alt="" coords="101,848,152,726,227,561,321,382,326,384,232,564,157,728,105,850"/>
<area shape="rect" href="../../d9/d8e/namespacepeano4_1_1utils.html#a4f1a4f16c96662b344839f6beb4cd095" title="Map d&#45;dimensional vector onto integer index." alt="" coords="244,575,433,601"/>
<area shape="poly" title=" " alt="" coords="97,848,111,799,136,735,174,668,199,638,228,611,238,604,241,609,231,615,203,641,179,671,141,737,116,801,102,850"/>
<area shape="rect" href="../../d5/d2c/classpeano4_1_1grid_1_1PeanoCurve.html#af602ba144ee22232579adf50ace7da8c" title="Looks into a cell of the spacetree and gives the index of the first local vertex." alt="" coords="244,625,433,665"/>
<area shape="poly" title=" " alt="" coords="101,848,119,811,147,764,183,716,228,675,237,669,239,674,231,679,187,720,151,767,124,814,106,850"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#a4fe59e92998bf7fcda9f7e2b9b6f6a45" title=" " alt="" coords="230,689,447,729"/>
<area shape="poly" title=" " alt="" coords="109,847,158,793,191,764,228,739,241,732,243,737,231,744,195,768,162,797,113,851"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#acc61d4d0c5d019a1cb8fcdf82b902328" title=" " alt="" coords="230,753,447,793"/>
<area shape="poly" title=" " alt="" coords="132,847,228,803,250,795,251,800,230,808,134,852"/>
<area shape="rect" href="../../d5/d2c/classpeano4_1_1grid_1_1PeanoCurve.html#a9b1142f6a8cba4435c54a407ff501326" title=" " alt="" coords="231,817,446,857"/>
<area shape="poly" title=" " alt="" coords="181,855,218,850,218,856,182,861"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#a08af438e2f45e488475971f7bda04126" title=" " alt="" coords="230,881,447,921"/>
<area shape="poly" title=" " alt="" coords="182,878,217,883,216,888,181,883"/>
<area shape="rect" href="../../d5/d2c/classpeano4_1_1grid_1_1PeanoCurve.html#a98b69a3b82a24c9a2c190cb3138e2119" title=" " alt="" coords="244,945,433,985"/>
<area shape="poly" title=" " alt="" coords="134,887,230,931,251,938,250,943,228,936,132,892"/>
<area shape="rect" href="../../d2/d45/namespacetarch_1_1la.html#a9ab5aa4e4252e6d78ba62df6a711c47a" title="I need the maximum of three values all the time, to I decided to write a function for this." alt="" coords="283,1010,395,1035"/>
<area shape="poly" title=" " alt="" coords="112,888,161,942,194,971,231,995,270,1010,269,1015,228,1000,191,975,157,946,108,891"/>
<area shape="rect" href="../../d2/d45/namespacetarch_1_1la.html#adca36f9134d5ca53daa05b82d9a1ce18" title=" " alt="" coords="229,1059,448,1085"/>
<area shape="poly" title=" " alt="" coords="106,888,125,923,152,966,188,1010,231,1046,241,1052,239,1056,228,1050,184,1013,148,969,120,926,102,891"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#a0d6a37b729dd985044059247f39732ea" title=" " alt="" coords="230,1109,447,1149"/>
<area shape="poly" title=" " alt="" coords="103,889,119,932,146,988,183,1046,206,1072,231,1095,238,1100,235,1105,228,1099,202,1076,179,1049,141,990,115,934,98,890"/>
<area shape="rect" href="../../d7/d7c/namespacepeano4_1_1grid.html#a133e937a14fa2b8b6d077e9ce346ec69" title=" " alt="" coords="257,1174,420,1199"/>
<area shape="poly" title=" " alt="" coords="100,889,112,944,136,1017,153,1056,175,1094,200,1129,231,1159,246,1169,243,1174,228,1163,196,1133,170,1097,149,1059,131,1019,107,945,95,890"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#ae4497bbc26bec13704edb43d07461645" title=" " alt="" coords="551,5,731,45"/>
<area shape="poly" title=" " alt="" coords="340,345,354,291,382,212,403,169,428,127,459,89,494,55,515,43,536,34,538,39,517,48,498,59,463,92,433,130,408,172,387,214,359,293,345,347"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a21fe5fe875aa335f2e8e9bdcf500fbde" title=" " alt="" coords="536,69,745,109"/>
<area shape="poly" title=" " alt="" coords="342,345,360,301,391,240,436,174,463,145,495,119,521,105,524,109,497,124,467,148,440,178,396,242,365,303,347,347"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#ad928d3408c14508cbe0cd3ff7b73bf8f" title=" " alt="" coords="519,134,763,189"/>
<area shape="poly" title=" " alt="" coords="347,344,403,274,446,233,495,198,505,192,508,197,497,202,449,237,407,278,351,347"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#aca66d33e9a8e7cd3cdba222dd488b8fe" title=" " alt="" coords="513,213,769,267"/>
<area shape="poly" title=" " alt="" coords="360,343,420,311,495,276,515,269,517,274,497,281,422,315,363,348"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a2397f37e06c5d16be1968bf25362baca" title=" " alt="" coords="521,291,760,346"/>
<area shape="poly" title=" " alt="" coords="435,343,507,334,508,339,435,349"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#ab205cac0da047e6bbd5f6de588428b1f" title=" " alt="" coords="530,370,751,425"/>
<area shape="poly" title=" " alt="" coords="437,368,517,379,516,384,436,374"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a887fe8e18a31014f9377209b4c73ca56" title=" " alt="" coords="551,449,731,489"/>
<area shape="poly" title=" " alt="" coords="363,369,422,401,497,433,538,446,536,451,495,439,420,406,360,374"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#aac31e231c4a1e772314843432a755415" title=" " alt="" coords="496,513,785,553"/>
<area shape="poly" title=" " alt="" coords="352,370,409,433,451,469,497,499,513,506,510,511,495,504,447,473,405,436,348,374"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#adaf00105304deb9a5164f4704a456ae8" title=" " alt="" coords="551,577,731,617"/>
<area shape="poly" title=" " alt="" coords="348,370,367,409,400,461,443,517,469,542,497,563,539,582,537,586,495,568,466,546,439,520,395,464,363,411,343,373"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#a16233fd8d3aef7513633715c548a9f1c" title=" " alt="" coords="532,721,749,761"/>
<area shape="poly" title=" " alt="" coords="410,663,449,675,567,714,566,719,447,680,408,668"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#afe7169749132d1a071e603c42b0ea96a" title=" " alt="" coords="532,641,749,681"/>
<area shape="poly" title=" " alt="" coords="434,648,519,652,518,658,433,653"/>
<area shape="poly" title=" " alt="" coords="408,815,447,803,567,763,569,768,449,808,410,820"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#a8f03ed68c1adde671ebe556873a06a96" title=" " alt="" coords="532,817,749,857"/>
<area shape="poly" title=" " alt="" coords="446,835,518,835,518,840,446,840"/>
</map>
</div>

</div>
</div>
<a id="a34325b1b9b768b73b9b0e38e3575617b" name="a34325b1b9b768b73b9b0e38e3575617b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34325b1b9b768b73b9b0e38e3575617b">&#9670;&#160;</a></span>markVerticesAroundForkedCell()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::markVerticesAroundForkedCell </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a></td>          <td class="paramname"><span class="paramname"><em>coarseGridVertices</em>[TwoPowerD], </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a></td>          <td class="paramname"><span class="paramname"><em>fineGridVertices</em>[TwoPowerD]</span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>setIsAntecessorOfRefinedVertexInCurrentTreeSweep() </p>
<p>If a cell is given away to another rank, we have to mark the vertices of its mother cell such that we do not coarsen above it and thus effectively remove our whole splitted subpartition. We do this by two means: First, we set the marker setIsAntecessorOfRefinedVertexInCurrentTreeSweep(). We erase at most one level at a time in Peano. Therefore, this flag effectively vetoes any erase call. This flag ensures that <a class="el" href="#a1f19f9be10874eb4bd606fafb9050f00" title="This operation has multiple purposes.">updateVertexAfterLoad()</a> in the next grid sweep will erase the mesh.</p>
<p>We do so on both the master and the worker. On the master cell, i.e. the one that forks another cell off, it is clear that we have to mark the vertices, as the vertex information ("hey, I have forked off a finer
grid cell and you therefore shall not erase the mesh here") has to propagate immediately. We also set it on the worker, as its vertices will be subject to boundary data exchange. This way, we inform neighbours about the topology, too. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l01764">1764</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01018">assertion1</a>, <a class="el" href="../../db/d9e/Loop_8h_source.html#l00086">dfor2</a>, <a class="el" href="../../db/d9e/Loop_8h_source.html#l00117">enddforx</a>, <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a30f260fb2246dd83692c70b1d1ff203ca5b8f04110f6cc6d3086bd9540844fb2b">peano4::grid::GridVertex::HangingVertex</a>, and <a class="el" href="../../d7/d70/grid_8cpp_source.html#l00276">peano4::grid::toString()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/df6/classpeano4_1_1grid_1_1Spacetree_a34325b1b9b768b73b9b0e38e3575617b_cgraph.png" border="0" usemap="#adf/df6/classpeano4_1_1grid_1_1Spacetree_a34325b1b9b768b73b9b0e38e3575617b_cgraph" alt=""/></div>
<map name="adf/df6/classpeano4_1_1grid_1_1Spacetree_a34325b1b9b768b73b9b0e38e3575617b_cgraph" id="adf/df6/classpeano4_1_1grid_1_1Spacetree_a34325b1b9b768b73b9b0e38e3575617b_cgraph">
<area shape="rect" title="setIsAntecessorOfRefinedVertexInCurrentTreeSweep()" alt="" coords="5,5,236,45"/>
<area shape="rect" href="../../d7/d7c/namespacepeano4_1_1grid.html#a133e937a14fa2b8b6d077e9ce346ec69" title=" " alt="" coords="284,13,447,38"/>
<area shape="poly" title=" " alt="" coords="236,23,270,23,270,28,236,28"/>
</map>
</div>

</div>
</div>
<a id="a4a84681b2885b26caa065f6efc3126f3" name="a4a84681b2885b26caa065f6efc3126f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a84681b2885b26caa065f6efc3126f3">&#9670;&#160;</a></span>mayJoinWithMaster()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::mayJoinWithMaster </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Only ranks that have no kids are allowed to join. </p>
<p>This is implicitly ensured as we have only degenerated trees here, i.e. we only allow a tree to join if it does not host local spacetree nodes. Furthermore, we require a tree to be stationary, i.e. to linger around like that for a while.</p>
<dl class="section see"><dt>See also</dt><dd>join() </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l01849">1849</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37ca5bda814c4aedb126839228f1a3d92f09">peano4::grid::Running</a>.</p>

</div>
</div>
<a id="acc6c5e5006756a99a6a39af2e66b912e" name="acc6c5e5006756a99a6a39af2e66b912e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc6c5e5006756a99a6a39af2e66b912e">&#9670;&#160;</a></span>mayJoinWithWorker()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::mayJoinWithWorker </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>We allow at most one join at a time and not while we split. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l01844">1844</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37ca5bda814c4aedb126839228f1a3d92f09">peano4::grid::Running</a>.</p>

</div>
</div>
<a id="ac04db9c6c4c71ef0b7548b3aec6fc6d6" name="ac04db9c6c4c71ef0b7548b3aec6fc6d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac04db9c6c4c71ef0b7548b3aec6fc6d6">&#9670;&#160;</a></span>maySplit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::maySplit </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Is the tree in principle allowed to split. </p>
<p>A tree cannot split if it is brand new or currently involved in some load balancing. Even if a tree is allowed to split, it does not mean that any split might be successful. A tree might for example be stationary yet host so few cells that it cannot split anymore without violating Peano's domain decomposition constraints. This per-cell decision is made by peano4::grid::Spacetree::isCellTopDownSplitCandidate() and peano4::grid::Spacetree::isCellBottomUpSplitCandidate(). </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l01838">1838</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37ca5bda814c4aedb126839228f1a3d92f09">peano4::grid::Running</a>.</p>

</div>
</div>
<a id="af3cd09a3902f2562495318fd7f7d78d0" name="af3cd09a3902f2562495318fd7f7d78d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3cd09a3902f2562495318fd7f7d78d0">&#9670;&#160;</a></span>mergeCellFromWorkerWithMasterThroughoutJoin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::mergeCellFromWorkerWithMasterThroughoutJoin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a></td>          <td class="paramname"><span class="paramname"><em>vertex</em>[TwoPowerD], </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a></td>          <td class="paramname"><span class="paramname"><em>fineGridVertices</em>[TwoPowerD]</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Merge data from worker with master data throughout join. </p>
<h2><a class="anchor" id="autotoc_md141"></a>
Join process</h2>
<p>If we receive a remote cell, then this cell is not refined. In this case the (former) workers holds all the valid adjacency data: We might on a master receive a cell right from the middle of the worker's domain where the master has no clue about any adjacency. So we might think that we can copy over the (former) worker's adjacency data.</p>
<p>As we also receive hanging vertices from the worker, we can safely (and pretty naively) copy over the adjacency. THe first non-hanging vertex will bring in the right adjacency information.</p>
<p>There is however one tricky special case. Assume that a rank A serves as master to B and C and both of these workers merge into A. We furthermore study one vertex in-between B and C. The merge runs as follows:</p>
<ul>
<li>Rank B tells rank C that it will merge its cell into A.</li>
<li>Rank C tells rank B that it will merge its cell into A.</li>
<li>Both ranks update their respective local adjacency lists.</li>
<li>Rank B streams its vertex up to rank A.</li>
</ul>
<p>If we now simply copied the adjacency list from B, we'd loose the information that a cell is adjacent to C. B has already updated its list, so it is slightly "ahead" of time.</p>
<p>So for a successful merge, it is important that we actually only reset the flags of this very cell. We do so through <a class="el" href="#ab12be43f734a505bbed7973c84f68935" title="If a cell gets a new id, we have to update its vertices.">updateVertexRanksWithinCell()</a>. This logic relies on the fact that we keep adjacency flags of all vertices which are remote yet just one level below the current rank. This check, realised in <a class="el" href="#aba3992ab51cc5b4da5a3a2db7a1c976b">updateVertexBeforeStore()</a>, ensures we kind of know what we do.</p>
<h2>Joins </h2>
<p>If we join (parts of) a worker into the local partition, it can happen that the rank receives a vertex that used to be remote before. As a consequence, the local copy of a vertex holds invalid data whereas the incoming data holds up-to-date adjacency information. So if a vertex is remote locally, we take the worker's vertex to deliver accurate adjacency data. The only alteration we make is that we replace the RankOfCellWitchWillBeJoined markers with the rank of the worker. RankOfCellWitchWillBeJoined is used to mark those cells which go to the worker in the join triggered phase, i.e. it is used only on the worker and only to prepare a join.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#aba3992ab51cc5b4da5a3a2db7a1c976b">updateVertexBeforeStore()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l01725">1725</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d45/Log_8h_source.html#l00050">logDebug</a>, <a class="el" href="../../d7/d70/grid_8cpp_source.html#l00276">peano4::grid::toString()</a>, and <a class="el" href="../../d9/df1/Globals_8h_source.html#l00021">TwoPowerD</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/df6/classpeano4_1_1grid_1_1Spacetree_af3cd09a3902f2562495318fd7f7d78d0_cgraph.png" border="0" usemap="#adf/df6/classpeano4_1_1grid_1_1Spacetree_af3cd09a3902f2562495318fd7f7d78d0_cgraph" alt=""/></div>
<map name="adf/df6/classpeano4_1_1grid_1_1Spacetree_af3cd09a3902f2562495318fd7f7d78d0_cgraph" id="adf/df6/classpeano4_1_1grid_1_1Spacetree_af3cd09a3902f2562495318fd7f7d78d0_cgraph">
<area shape="rect" title="Merge data from worker with master data throughout join." alt="" coords="5,5,256,60"/>
<area shape="rect" href="../../d7/d7c/namespacepeano4_1_1grid.html#a133e937a14fa2b8b6d077e9ce346ec69" title=" " alt="" coords="304,20,467,45"/>
<area shape="poly" title=" " alt="" coords="256,30,290,30,290,35,256,35"/>
</map>
</div>

</div>
</div>
<a id="a1480cbddf447852df6400d2d2c547ec7" name="a1480cbddf447852df6400d2d2c547ec7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1480cbddf447852df6400d2d2c547ec7">&#9670;&#160;</a></span>mergeGridVertexAdjacencyListsAtHorizontalDomainBoundary()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::mergeGridVertexAdjacencyListsAtHorizontalDomainBoundary </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>vertex</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>inVertex</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a></td>          <td class="paramname"><span class="paramname"><em>neighbour</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l00901">901</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d05/GridVertex_8h_source.html#l00058">peano4::grid::GridVertex::getAdjacentRanks()</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a704d65e0f79f2051e29ed86906ae5cf5">peano4::grid::InvalidRank()</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00050">logDebug</a>, <a class="el" href="../../dc/d05/GridVertex_8h_source.html#l00059">peano4::grid::GridVertex::setAdjacentRanks()</a>, <a class="el" href="../../d6/d2e/GridVertex_8cpp_source.html#l00071">peano4::grid::GridVertex::toString()</a>, and <a class="el" href="../../d9/df1/Globals_8h_source.html#l00021">TwoPowerD</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/df6/classpeano4_1_1grid_1_1Spacetree_a1480cbddf447852df6400d2d2c547ec7_cgraph.png" border="0" usemap="#adf/df6/classpeano4_1_1grid_1_1Spacetree_a1480cbddf447852df6400d2d2c547ec7_cgraph" alt=""/></div>
<map name="adf/df6/classpeano4_1_1grid_1_1Spacetree_a1480cbddf447852df6400d2d2c547ec7_cgraph" id="adf/df6/classpeano4_1_1grid_1_1Spacetree_a1480cbddf447852df6400d2d2c547ec7_cgraph">
<area shape="rect" title=" " alt="" coords="5,85,244,139"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a03d9912c42e0139ed21ecf18b9a00599" title=" " alt="" coords="296,5,476,45"/>
<area shape="poly" title=" " alt="" coords="207,82,311,47,313,52,209,87"/>
<area shape="rect" href="../../d7/d7c/namespacepeano4_1_1grid.html#a704d65e0f79f2051e29ed86906ae5cf5" title=" " alt="" coords="292,70,480,95"/>
<area shape="poly" title=" " alt="" coords="244,96,278,92,279,97,245,101"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#ae4497bbc26bec13704edb43d07461645" title=" " alt="" coords="296,120,476,160"/>
<area shape="poly" title=" " alt="" coords="245,122,283,126,282,132,244,127"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#ab20cc6d86af3640c852444f5b18277c9" title=" " alt="" coords="296,184,476,224"/>
<area shape="poly" title=" " alt="" coords="202,137,293,169,314,177,312,182,291,175,200,142"/>
</map>
</div>

</div>
</div>
<a id="ab8cb46c419661f9a8a0df9834cd3192f" name="ab8cb46c419661f9a8a0df9834cd3192f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8cb46c419661f9a8a0df9834cd3192f">&#9670;&#160;</a></span>mergeGridVertexRefinementStateAtHorizontalDomainBoundary()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::mergeGridVertexRefinementStateAtHorizontalDomainBoundary </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>vertex</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>inVertex</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a></td>          <td class="paramname"><span class="paramname"><em>neighbour</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called by <a class="el" href="#af17618a7075d40a9077c70f9a977ef13" title="Manage the data exchange after a vertex is loaded for the first time.">receiveAndMergeGridVertexAtHorizontalBoundary()</a>. </p>
<p>Besides tons of assertions, the routine realises the mergers of the refinement flags and the setIsAntecessorOfRefinedVertexInCurrentTreeSweep. Please consult <a class="el" href="#af17618a7075d40a9077c70f9a977ef13" title="Manage the data exchange after a vertex is loaded for the first time.">receiveAndMergeGridVertexAtHorizontalBoundary()</a> for a higher level overview. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l00922">922</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01020">assertion3</a>, <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01021">assertion4</a>, <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01023">assertion6</a>, <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01039">assertionEquals4</a>, <a class="el" href="../../d8/d88/VectorOperations_8cpph_source.html#l00048">tarch::la::contains()</a>, <a class="el" href="../../da/d48/VectorVectorOperations_8cpph_source.html#l00371">tarch::la::countEqualEntries()</a>, <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a30f260fb2246dd83692c70b1d1ff203caf2a6c498fb90ee345d997f888fce3b18">peano4::grid::GridVertex::Delete</a>, <a class="el" href="../../d5/d0e/MatrixMatrixOperations_8cpph_source.html#l00100">tarch::la::equals()</a>, <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a30f260fb2246dd83692c70b1d1ff203ca69c32f43b3f5f87436887005efe9bf16">peano4::grid::GridVertex::EraseTriggered</a>, <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a30f260fb2246dd83692c70b1d1ff203ca90d967f97414f39c4f8d2be5cdd888fe">peano4::grid::GridVertex::Erasing</a>, <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a30f260fb2246dd83692c70b1d1ff203ca5b8f04110f6cc6d3086bd9540844fb2b">peano4::grid::GridVertex::HangingVertex</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00050">logDebug</a>, <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a30f260fb2246dd83692c70b1d1ff203ca03c2e7e41ffc181a4e84080b4710e81e">peano4::grid::GridVertex::New</a>, <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a30f260fb2246dd83692c70b1d1ff203cae179f0bcf9190ee2b46fc8381d7ed9c3">peano4::grid::GridVertex::Refined</a>, <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a30f260fb2246dd83692c70b1d1ff203cacafc64bf8acbe7659c2b3ee0195e82c4">peano4::grid::GridVertex::RefinementTriggered</a>, <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a30f260fb2246dd83692c70b1d1ff203ca08a6d101dcdd1289048396872d433aef">peano4::grid::GridVertex::Refining</a>, and <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a30f260fb2246dd83692c70b1d1ff203ca27d974933532127b2ca94a6dc31123b3">peano4::grid::GridVertex::Unrefined</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/df6/classpeano4_1_1grid_1_1Spacetree_ab8cb46c419661f9a8a0df9834cd3192f_cgraph.png" border="0" usemap="#adf/df6/classpeano4_1_1grid_1_1Spacetree_ab8cb46c419661f9a8a0df9834cd3192f_cgraph" alt=""/></div>
<map name="adf/df6/classpeano4_1_1grid_1_1Spacetree_ab8cb46c419661f9a8a0df9834cd3192f_cgraph" id="adf/df6/classpeano4_1_1grid_1_1Spacetree_ab8cb46c419661f9a8a0df9834cd3192f_cgraph">
<area shape="rect" title="Called by receiveAndMergeGridVertexAtHorizontalBoundary()." alt="" coords="5,40,256,95"/>
<area shape="rect" href="../../d2/d45/namespacetarch_1_1la.html#ae4f5aabae51a4ad02358671747cb8fd9" title=" " alt="" coords="335,5,473,31"/>
<area shape="poly" title=" " alt="" coords="256,42,321,30,322,35,257,47"/>
<area shape="rect" href="../../d2/d45/namespacetarch_1_1la.html#a478dfb295c23d7775dc360471c09b9b2" title="Run through both vectors and count how many entries are the same." alt="" coords="304,55,504,80"/>
<area shape="poly" title=" " alt="" coords="256,65,290,65,290,70,256,70"/>
<area shape="rect" href="../../d2/d45/namespacetarch_1_1la.html#acc43ad318304ffefe5710bc3deec2800" title="Compares to matrices on equality by means of a numerical accuracy." alt="" coords="341,104,467,129"/>
<area shape="poly" title=" " alt="" coords="257,87,328,100,327,106,256,93"/>
</map>
</div>

</div>
</div>
<a id="af17618a7075d40a9077c70f9a977ef13" name="af17618a7075d40a9077c70f9a977ef13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af17618a7075d40a9077c70f9a977ef13">&#9670;&#160;</a></span>receiveAndMergeGridVertexAtHorizontalBoundary()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::receiveAndMergeGridVertexAtHorizontalBoundary </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>vertex</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Manage the data exchange after a vertex is loaded for the first time. </p>
<p>The operation has three jobs to do:</p><ul>
<li>We backup the adjacency ranks.</li>
<li>Exchange vertices along domain boundary.</li>
<li>Exchange vertices belonging to periodic boundaries.</li>
</ul>
<p>The order of these three steps is important. The first one is a simple copy. The other ones loop over neighbours and call a series of operations. Logically, domain boundaries and periodic boundaries for me are both realised by domain cuts. Therefore, we use the same routines within.</p>
<h2>Backup of adjacency data </h2>
<p>It is convenient to merge the adjacency flags straightaway after a vertex has been loaded and its boundary counterparts have dropped in. However, once we merge we loose the information about the previous traversal's adjacency. This means, when we construct the neighbour information (who merges with what) for the user data (createEnterCellTraversalEvent()) we lack the information we actually need. Therefore, this routine backups the adjacency information from the vertex.</p>
<h2>Boundary data exchange (grid) </h2>
<p>For a local vertex, i.e. one adjacent to the current active tree, which is neighbouring another tree, we do receive this tree's data copy and then merge it into the local tree.</p>
<p>This approach doesn't work straightforwardly when we split: Lets assume tree 0 is triggered to split into 0 and 1. In a first step, tree 0 enters the state split triggered. It now updates all adjacency lists, so boundary data is already sent out to 1 - even though 1 is not instantiated yet. Once we are done, we copy over (parts of) tree 0 into tree 1, so tree 1 now does exist and is well-prepared to receive the data already dropped by 0. This second step is the actual splitting step. Now, other ranks have still sent in data to 0 which actually should go to 1. We receive those guys, but we have to eliminate explicitly any incoming data we'd expect from 1 as 1 didn't have the chance yet to send it out.</p>
<p>The function is called directly after a vertex has been read from the input stream. Please note that an update of the refinement states (e.g. switch from refinement-triggered to refining) happens after the merge. <a class="el" href="../../db/d37/structAny.html">Any</a> update of the refinement state in this operation hence immediately affects the vertex updates in this very iteration.</p>
<p>The update of the adjacency information is simple: If a neighbour tells us that it has changed an adjacency entry in one of its own fields, i.e. if it has changed its own entry, we copy this information over. Otherwise, we ignore any updates (there should not be any).</p>
<h2>Periodic boundary conditions </h2>
<p>Periodic boundary conditions fall back to standard boundary data exchanges through specialised stacks. They are supported on tree 0 only. Different to standard boundaries, we don't have to update any adjacency data here, as all periodic values are always handled on spacetree 0.</p>
<h2>Horizontal vs. vertical </h2>
<p>Has to happen before <a class="el" href="#adef9ca9697ef0e6909a628f0edb873f0" title="This is a merge routine for vertical data exchange.">receiveAndMergeGridVertexAtVerticalBoundary()</a>. See the <a class="el" href="#adef9ca9697ef0e6909a628f0edb873f0" title="This is a merge routine for vertical data exchange.">receiveAndMergeGridVertexAtVerticalBoundary()</a>'s documentation for an explanation. Some more reasons are given in the guidebook.</p>
<h2>Context </h2>
<p>The routine is called by <a class="el" href="#a1f19f9be10874eb4bd606fafb9050f00" title="This operation has multiple purposes.">updateVertexAfterLoad()</a>. The counterpart of the routine is <a class="el" href="#a925ed44a0fcbbaf3c75561e8fe820578" title="This one is to be invoked if and only if a vertex goes to the in/out stacks.">sendGridVertex()</a>. However, as my sends are literally just memcopies, sends are way simpler than this routine. The operation affects solely the grid's vertices. It does not interfere with any user data. In principle, this follows my pattern that the grid has to be there first and then events are triggered afterwards. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l01000">1000</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01017">assertion</a>, <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01018">assertion1</a>, <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01020">assertion3</a>, <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01021">assertion4</a>, <a class="el" href="../../db/d9e/Loop_8h_source.html#l00086">dfor2</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37cae2e6f897d049a5a191850fa42b37cf2a">peano4::grid::EmptyRun</a>, <a class="el" href="../../db/d9e/Loop_8h_source.html#l00117">enddforx</a>, <a class="el" href="../../dc/d05/GridVertex_8h_source.html#l00058">peano4::grid::GridVertex::getAdjacentRanks()</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00184">peano4::parallel::Node::getInputStackNumberForHorizontalDataExchange()</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00077">peano4::parallel::Node::getInstance()</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00244">peano4::parallel::Node::getOutputStacksForPeriodicBoundaryExchange()</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00323">peano4::parallel::Node::getPeriodicBoundaryExchangeInputStackNumberForOutputStack()</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a704d65e0f79f2051e29ed86906ae5cf5">peano4::grid::InvalidRank()</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00050">logDebug</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00370">logTraceInWith1Argument</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00379">logTraceOut</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37ca09bce956ecf16a726820c33dc8fe3cc6">peano4::grid::NewFromSplit</a>, <a class="el" href="../../dc/d05/GridVertex_8h_source.html#l00064">peano4::grid::GridVertex::setBackupOfAdjacentRanks()</a>, and <a class="el" href="../../d6/d2e/GridVertex_8cpp_source.html#l00071">peano4::grid::GridVertex::toString()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/df6/classpeano4_1_1grid_1_1Spacetree_af17618a7075d40a9077c70f9a977ef13_cgraph.png" border="0" usemap="#adf/df6/classpeano4_1_1grid_1_1Spacetree_af17618a7075d40a9077c70f9a977ef13_cgraph" alt=""/></div>
<map name="adf/df6/classpeano4_1_1grid_1_1Spacetree_af17618a7075d40a9077c70f9a977ef13_cgraph" id="adf/df6/classpeano4_1_1grid_1_1Spacetree_af17618a7075d40a9077c70f9a977ef13_cgraph">
<area shape="rect" title="Manage the data exchange after a vertex is loaded for the first time." alt="" coords="5,254,232,309"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a03d9912c42e0139ed21ecf18b9a00599" title=" " alt="" coords="319,5,499,45"/>
<area shape="poly" title=" " alt="" coords="129,253,151,209,184,155,226,101,251,76,279,55,305,41,308,46,281,60,255,80,230,105,188,158,156,211,134,255"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a8096813161850edf1708ac7e6fff93b3" title="Counterpart of getOutputStackNumberOfBoundaryExchange(int)" alt="" coords="280,70,539,125"/>
<area shape="poly" title=" " alt="" coords="142,252,200,193,238,162,279,135,292,128,295,133,281,140,241,166,204,197,146,255"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0" title=" " alt="" coords="325,149,494,189"/>
<area shape="poly" title=" " alt="" coords="167,252,220,224,279,199,311,189,312,194,281,204,222,229,169,256"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#ab69e9474d044a353ecdc7484b0156304" title="You hand in a the flags of a vertex and you get the boundary stack identifiers including their direct..." alt="" coords="304,214,515,269"/>
<area shape="poly" title=" " alt="" coords="232,263,290,255,291,260,233,268"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#aec952331c346f6880bbdc6dcd0c64fe6" title="Hand in an output stack number of a face and you get back the input stack number." alt="" coords="288,293,531,347"/>
<area shape="poly" title=" " alt="" coords="233,294,275,299,274,305,232,299"/>
<area shape="rect" href="../../d7/d7c/namespacepeano4_1_1grid.html#a704d65e0f79f2051e29ed86906ae5cf5" title=" " alt="" coords="315,371,503,397"/>
<area shape="poly" title=" " alt="" coords="170,306,222,333,281,356,315,366,313,371,279,361,220,337,167,311"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a21fe5fe875aa335f2e8e9bdcf500fbde" title=" " alt="" coords="305,421,514,461"/>
<area shape="poly" title=" " alt="" coords="149,307,207,358,243,384,281,406,301,414,299,419,279,410,240,388,204,362,146,311"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#ab20cc6d86af3640c852444f5b18277c9" title=" " alt="" coords="319,485,499,525"/>
<area shape="poly" title=" " alt="" coords="137,308,161,345,194,389,234,434,281,471,308,484,305,489,279,476,231,438,190,393,157,348,133,310"/>
</map>
</div>

</div>
</div>
<a id="adef9ca9697ef0e6909a628f0edb873f0" name="adef9ca9697ef0e6909a628f0edb873f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adef9ca9697ef0e6909a628f0edb873f0">&#9670;&#160;</a></span>receiveAndMergeGridVertexAtVerticalBoundary()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::receiveAndMergeGridVertexAtVerticalBoundary </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>vertex</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This is a merge routine for vertical data exchange. </p>
<p>It is important that you merge</p>
<h2>Join behaviour </h2>
<p>If we are joining in another rank, we might get update adjacency information for this rank. Such adjacency updates are important for the outgoing data, i.e. for the send. Logically, the master and the dying worker run in parallel, that is the updates on the worker belong logically into steps after the actual load.</p>
<p>It therefore is important that you invoke this operation afer <a class="el" href="#adef9ca9697ef0e6909a628f0edb873f0" title="This is a merge routine for vertical data exchange.">receiveAndMergeGridVertexAtVerticalBoundary()</a> and that this routine overwrites the adjacentRanks yet not the backup of this field. This way, we are consistent with any horizontal merges on the worker.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#af17618a7075d40a9077c70f9a977ef13" title="Manage the data exchange after a vertex is loaded for the first time.">receiveAndMergeGridVertexAtHorizontalBoundary()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l00339">339</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01020">assertion3</a>, <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01068">assertionVectorNumericalEquals3</a>, <a class="el" href="../../d8/d88/VectorOperations_8cpph_source.html#l00048">tarch::la::contains()</a>, <a class="el" href="../../dc/d05/GridVertex_8h_source.html#l00058">peano4::grid::GridVertex::getAdjacentRanks()</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00192">peano4::parallel::Node::getInputStackNumberForVerticalDataExchange()</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00077">peano4::parallel::Node::getInstance()</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00050">logDebug</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00371">logTraceInWith2Arguments</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00379">logTraceOut</a>, <a class="el" href="../../dc/d05/GridVertex_8h_source.html#l00059">peano4::grid::GridVertex::setAdjacentRanks()</a>, and <a class="el" href="../../d6/d2e/GridVertex_8cpp_source.html#l00071">peano4::grid::GridVertex::toString()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/df6/classpeano4_1_1grid_1_1Spacetree_adef9ca9697ef0e6909a628f0edb873f0_cgraph.png" border="0" usemap="#adf/df6/classpeano4_1_1grid_1_1Spacetree_adef9ca9697ef0e6909a628f0edb873f0_cgraph" alt=""/></div>
<map name="adf/df6/classpeano4_1_1grid_1_1Spacetree_adef9ca9697ef0e6909a628f0edb873f0_cgraph" id="adf/df6/classpeano4_1_1grid_1_1Spacetree_adef9ca9697ef0e6909a628f0edb873f0_cgraph">
<area shape="rect" title="This is a merge routine for vertical data exchange." alt="" coords="5,156,232,211"/>
<area shape="rect" href="../../d2/d45/namespacetarch_1_1la.html#ae4f5aabae51a4ad02358671747cb8fd9" title=" " alt="" coords="331,5,470,31"/>
<area shape="poly" title=" " alt="" coords="142,154,200,96,238,66,279,41,317,27,319,32,281,46,241,70,203,100,145,157"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a03d9912c42e0139ed21ecf18b9a00599" title=" " alt="" coords="311,55,491,95"/>
<area shape="poly" title=" " alt="" coords="170,153,222,128,279,105,303,97,305,102,281,110,224,133,173,158"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#abe843c459f5502f4d69d0689acf9bf22" title="Get the input stack where a tree writes all of its vertical data to/from when it exchanges informatio..." alt="" coords="280,120,521,175"/>
<area shape="poly" title=" " alt="" coords="232,166,266,162,267,167,232,172"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0" title=" " alt="" coords="316,199,485,239"/>
<area shape="poly" title=" " alt="" coords="232,195,302,204,302,209,232,200"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#ae4497bbc26bec13704edb43d07461645" title=" " alt="" coords="311,263,491,303"/>
<area shape="poly" title=" " alt="" coords="180,208,281,249,306,257,304,262,279,254,178,213"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#ab20cc6d86af3640c852444f5b18277c9" title=" " alt="" coords="311,327,491,367"/>
<area shape="poly" title=" " alt="" coords="148,209,206,262,242,290,281,313,299,321,297,326,279,318,240,294,203,266,144,213"/>
</map>
</div>

</div>
</div>
<a id="a5eca5f0899a0745803432b1cf459ca8c" name="a5eca5f0899a0745803432b1cf459ca8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5eca5f0899a0745803432b1cf459ca8c">&#9670;&#160;</a></span>receiveAndMergeUserData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::receiveAndMergeUserData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html">AutomatonState</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>state</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html">TraversalObserver</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>observer</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../d2/d7c/structpeano4_1_1grid_1_1GridTraversalEvent.html">GridTraversalEvent</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>enterCellTraversalEvent</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a></td>          <td class="paramname"><span class="paramname"><em>fineGridVertices</em>[TwoPowerD]</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<h2>Implementation </h2>
<p>Run through the vertices in the Peano vertex order (modified z depending on curve orientation). This information is already implicitly encoded in the order of the indices within the event. So no fancy arithmetics is required here anymore. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l01319">1319</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01017">assertion</a>, <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01020">assertion3</a>, <a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html#a3504d372e0af2124da7c2309c63fab96aead618ceb8f010c2bd28be9447cc9173">peano4::grid::TraversalObserver::BoundaryExchange</a>, <a class="el" href="../../df/d0a/TraversalObserver_8h_source.html#l00062">peano4::grid::TraversalObserver::CreateOrDestroyHangingGridEntity</a>, <a class="el" href="../../df/d0a/TraversalObserver_8h_source.html#l00057">peano4::grid::TraversalObserver::CreateOrDestroyPersistentGridEntity</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37cae2e6f897d049a5a191850fa42b37cf2a">peano4::grid::EmptyRun</a>, <a class="el" href="../../dd/d5b/GridTraversalEvent_8h_source.html#l00168">peano4::grid::GridTraversalEvent::getFaceDataFrom()</a>, <a class="el" href="../../dd/d5b/GridTraversalEvent_8h_source.html#l00173">peano4::grid::GridTraversalEvent::getFaceDataTo()</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00184">peano4::parallel::Node::getInputStackNumberForHorizontalDataExchange()</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00077">peano4::parallel::Node::getInstance()</a>, <a class="el" href="../../dd/d5b/GridTraversalEvent_8h_source.html#l00097">peano4::grid::GridTraversalEvent::getIsFaceLocal()</a>, <a class="el" href="../../dd/d5b/GridTraversalEvent_8h_source.html#l00077">peano4::grid::GridTraversalEvent::getIsVertexLocal()</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00212">peano4::parallel::Node::getOutputStackForPeriodicBoundaryExchange()</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00244">peano4::parallel::Node::getOutputStacksForPeriodicBoundaryExchange()</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00323">peano4::parallel::Node::getPeriodicBoundaryExchangeInputStackNumberForOutputStack()</a>, <a class="el" href="../../dd/d5b/GridTraversalEvent_8h_source.html#l00158">peano4::grid::GridTraversalEvent::getVertexDataFrom()</a>, <a class="el" href="../../dd/d5b/GridTraversalEvent_8h_source.html#l00163">peano4::grid::GridTraversalEvent::getVertexDataTo()</a>, <a class="el" href="../../d2/d19/PeanoCurve_8cpp_source.html#l00169">peano4::grid::PeanoCurve::isInOutStack()</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37ca7d50c09f1ad7d098e0a847bcdcab7efb">peano4::grid::Joined</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00050">logDebug</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00372">logTraceInWith3Arguments</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00379">logTraceOut</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37ca09bce956ecf16a726820c33dc8fe3cc6">peano4::grid::NewFromSplit</a>, <a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html#a3504d372e0af2124da7c2309c63fab96afe417302dbcb1217571bd36fb4724c8e">peano4::grid::TraversalObserver::PeriodicBoundaryDataSwap</a>, <a class="el" href="../../df/d0a/TraversalObserver_8h_source.html#l00244">peano4::grid::TraversalObserver::receiveAndMergeFace()</a>, <a class="el" href="../../df/d0a/TraversalObserver_8h_source.html#l00243">peano4::grid::TraversalObserver::receiveAndMergeVertex()</a>, <a class="el" href="../../d0/d31/GridTraversalEventGeneratorTest_8cpp_source.html#l00146">state</a>, <a class="el" href="../../d9/db4/AutomatonState_8cpp_source.html#l00048">peano4::grid::AutomatonState::toString()</a>, <a class="el" href="../../d0/de3/GridTraversalEvent_8cpp_source.html#l00083">peano4::grid::GridTraversalEvent::toString()</a>, <a class="el" href="../../d7/d70/grid_8cpp_source.html#l00276">peano4::grid::toString()</a>, and <a class="el" href="../../d9/df1/Globals_8h_source.html#l00021">TwoPowerD</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/df6/classpeano4_1_1grid_1_1Spacetree_a5eca5f0899a0745803432b1cf459ca8c_cgraph.png" border="0" usemap="#adf/df6/classpeano4_1_1grid_1_1Spacetree_a5eca5f0899a0745803432b1cf459ca8c_cgraph" alt=""/></div>
<map name="adf/df6/classpeano4_1_1grid_1_1Spacetree_a5eca5f0899a0745803432b1cf459ca8c_cgraph" id="adf/df6/classpeano4_1_1grid_1_1Spacetree_a5eca5f0899a0745803432b1cf459ca8c_cgraph">
<area shape="rect" title=" " alt="" coords="5,571,211,611"/>
<area shape="rect" href="../../d2/d7c/structpeano4_1_1grid_1_1GridTraversalEvent.html#a2299517c065a58980f38cc9efca0e2b8" title=" " alt="" coords="293,5,490,45"/>
<area shape="poly" title=" " alt="" coords="110,570,127,462,159,308,179,228,203,155,228,96,257,55,278,40,281,45,261,59,233,98,208,157,185,230,164,309,133,463,115,571"/>
<area shape="rect" href="../../d2/d7c/structpeano4_1_1grid_1_1GridTraversalEvent.html#a71459b9984d47a74c2a333ea61118d49" title=" " alt="" coords="293,69,490,109"/>
<area shape="poly" title=" " alt="" coords="107,570,111,488,118,430,131,366,149,299,176,234,211,173,257,119,278,104,281,109,260,123,215,176,180,236,154,301,136,367,124,431,116,488,112,571"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a8096813161850edf1708ac7e6fff93b3" title="Counterpart of getOutputStackNumberOfBoundaryExchange(int)" alt="" coords="262,134,521,189"/>
<area shape="poly" title=" " alt="" coords="108,570,118,500,142,400,162,346,187,293,218,243,257,199,262,195,266,199,261,203,222,246,191,296,167,348,147,402,124,501,114,571"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0" title=" " alt="" coords="307,213,476,253"/>
<area shape="poly" title=" " alt="" coords="110,570,123,510,149,427,168,382,193,338,222,298,257,263,292,244,295,248,260,267,226,302,197,341,173,384,154,428,128,511,115,571"/>
<area shape="rect" href="../../d2/d7c/structpeano4_1_1grid_1_1GridTraversalEvent.html#a11e6f790b61ae1de6b6d4fef7b4d8f1f" title=" " alt="" coords="293,277,490,317"/>
<area shape="poly" title=" " alt="" coords="112,570,129,520,158,454,200,386,227,354,257,327,279,314,282,319,260,331,231,358,204,389,163,457,134,522,117,571"/>
<area shape="rect" href="../../d2/d7c/structpeano4_1_1grid_1_1GridTraversalEvent.html#ab5fc5362c12d223d40f686ece38ff544" title=" " alt="" coords="293,341,490,381"/>
<area shape="poly" title=" " alt="" coords="116,569,137,531,168,482,208,433,257,391,279,380,281,384,260,396,212,437,172,485,141,533,121,571"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#ae271981fdcc5db2024f73ffabcf233c3" title="Identify output stack for periodic boundary data written by face." alt="" coords="259,406,524,461"/>
<area shape="poly" title=" " alt="" coords="128,569,183,519,219,493,257,470,270,464,272,468,260,474,222,497,187,524,131,573"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#ab69e9474d044a353ecdc7484b0156304" title="You hand in a the flags of a vertex and you get the boundary stack identifiers including their direct..." alt="" coords="286,485,497,539"/>
<area shape="poly" title=" " alt="" coords="180,568,278,541,280,546,182,573"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#aec952331c346f6880bbdc6dcd0c64fe6" title="Hand in an output stack number of a face and you get back the input stack number." alt="" coords="270,563,513,618"/>
<area shape="poly" title=" " alt="" coords="211,588,256,588,256,593,211,593"/>
<area shape="rect" href="../../d2/d7c/structpeano4_1_1grid_1_1GridTraversalEvent.html#a5a0647085f10f5b0d0337c507ea196e6" title=" " alt="" coords="293,643,490,683"/>
<area shape="poly" title=" " alt="" coords="187,608,259,627,298,637,297,642,258,632,186,613"/>
<area shape="rect" href="../../d2/d7c/structpeano4_1_1grid_1_1GridTraversalEvent.html#aae47c076d0ff0df672911491c667e1e3" title=" " alt="" coords="293,707,490,747"/>
<area shape="poly" title=" " alt="" coords="134,609,189,651,224,673,260,692,281,700,279,705,258,697,221,678,186,656,131,613"/>
<area shape="rect" href="../../d5/d2c/classpeano4_1_1grid_1_1PeanoCurve.html#a98b69a3b82a24c9a2c190cb3138e2119" title=" " alt="" coords="297,771,486,811"/>
<area shape="poly" title=" " alt="" coords="124,609,145,642,177,682,215,722,260,756,285,768,282,773,257,761,212,726,173,685,141,645,119,612"/>
<area shape="rect" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html#afc434376120f85a8d193a654f798d32a" title=" " alt="" coords="277,835,506,875"/>
<area shape="poly" title=" " alt="" coords="119,610,137,654,167,711,208,771,233,797,260,821,269,826,266,831,257,825,229,801,204,774,162,714,132,656,114,612"/>
<area shape="rect" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html#a068ebd88939f01da8eeeb1342f7d4bde" title=" " alt="" coords="277,899,506,939"/>
<area shape="poly" title=" " alt="" coords="116,610,131,665,158,740,177,780,200,818,228,854,260,885,267,889,264,894,257,889,224,858,196,821,173,782,153,742,125,667,111,612"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#a0d6a37b729dd985044059247f39732ea" title=" " alt="" coords="283,963,500,1003"/>
<area shape="poly" title=" " alt="" coords="114,611,125,676,150,768,169,817,193,866,224,910,260,949,272,957,269,961,257,953,219,914,189,868,164,820,145,770,120,678,109,612"/>
<area shape="rect" href="../../d2/d7c/structpeano4_1_1grid_1_1GridTraversalEvent.html#a3219a9095e40f6048b4881c030a645f8" title=" " alt="" coords="293,1027,490,1067"/>
<area shape="poly" title=" " alt="" coords="113,610,120,686,128,738,141,795,160,854,186,912,219,966,260,1013,282,1027,279,1031,257,1017,214,969,181,915,155,856,136,796,123,739,114,687,107,611"/>
<area shape="rect" href="../../d7/d7c/namespacepeano4_1_1grid.html#a133e937a14fa2b8b6d077e9ce346ec69" title=" " alt="" coords="310,1091,473,1117"/>
<area shape="poly" title=" " alt="" coords="111,611,114,697,120,757,132,824,150,893,177,960,213,1023,235,1051,260,1077,278,1089,298,1097,296,1102,275,1093,257,1081,231,1055,209,1026,172,963,145,894,127,825,115,758,109,697,106,611"/>
<area shape="rect" href="../../d9/d8e/namespacepeano4_1_1utils.html#a4f1a4f16c96662b344839f6beb4cd095" title="Map d&#45;dimensional vector onto integer index." alt="" coords="572,421,761,446"/>
<area shape="poly" title=" " alt="" coords="524,431,558,431,558,436,524,436"/>
</map>
</div>

</div>
</div>
<a id="a31313b2d0893c7773414ba3964e9b312" name="a31313b2d0893c7773414ba3964e9b312"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31313b2d0893c7773414ba3964e9b312">&#9670;&#160;</a></span>refineState()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::refineState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html">AutomatonState</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>coarseGrid</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html">AutomatonState</a></td>          <td class="paramname"><span class="paramname"><em>fineGrid</em>[ThreePowerD], </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d26/structtarch_1_1la_1_1Vector.html">tarch::la::Vector</a>&lt; Dimensions, <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> &gt;</td>          <td class="paramname"><span class="paramname"><em>fineGridPosition</em><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="../../d7/d26/structtarch_1_1la_1_1Vector.html">tarch::la::Vector</a>&lt;Dimensions,<a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&gt;(0)</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a></td>          <td class="paramname"><span class="paramname"><em>axis</em><span class="paramdefsep"> = </span><span class="paramdefval">Dimensions-1</span></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Takes a state (describing a node in the tree) and returns the \( 3^d \) states on the next finer level along the Peano SFC. </p>
<p>This routine is basically the grammar generation of Bader et al. It relies internally on a recursive call of the other <a class="el" href="#a31313b2d0893c7773414ba3964e9b312" title="Takes a state (describing a node in the tree) and returns the  states on the next finer level along t...">refineState()</a> routine along the spatial dimensions.</p>
<p>The array fineGrid is filled along the Peano SFC. So you don't have to traverse the array with a zfor - a simple for is sufficient. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l00258">258</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01017">assertion</a>, <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01023">assertion6</a>, <a class="el" href="../../d1/dc2/Linearised_8cpph_source.html#l00034">peano4::utils::dLinearised()</a>, <a class="el" href="../../d4/df5/AutomatonState_8h_source.html#l00055">peano4::grid::AutomatonState::getH()</a>, <a class="el" href="../../d4/df5/AutomatonState_8h_source.html#l00047">peano4::grid::AutomatonState::getLevel()</a>, <a class="el" href="../../d4/df5/AutomatonState_8h_source.html#l00050">peano4::grid::AutomatonState::getX()</a>, <a class="el" href="../../d2/d19/PeanoCurve_8cpp_source.html#l00059">peano4::grid::PeanoCurve::invertEvenFlag()</a>, <a class="el" href="../../d2/d19/PeanoCurve_8cpp_source.html#l00009">peano4::grid::PeanoCurve::isTraversePositiveAlongAxis()</a>, <a class="el" href="../../d2/d19/PeanoCurve_8cpp_source.html#l00047">peano4::grid::PeanoCurve::setEntryFace()</a>, <a class="el" href="../../d2/d19/PeanoCurve_8cpp_source.html#l00035">peano4::grid::PeanoCurve::setExitFace()</a>, <a class="el" href="../../d4/df5/AutomatonState_8h_source.html#l00056">peano4::grid::AutomatonState::setH()</a>, <a class="el" href="../../d4/df5/AutomatonState_8h_source.html#l00048">peano4::grid::AutomatonState::setLevel()</a>, <a class="el" href="../../d4/df5/AutomatonState_8h_source.html#l00051">peano4::grid::AutomatonState::setX()</a>, <a class="el" href="../../d9/df1/Globals_8h_source.html#l00027">ThreePowerD</a>, <a class="el" href="../../d9/db4/AutomatonState_8cpp_source.html#l00048">peano4::grid::AutomatonState::toString()</a>, <a class="el" href="../../d7/d70/grid_8cpp_source.html#l00276">peano4::grid::toString()</a>, and <a class="el" href="../../d9/df1/Globals_8h_source.html#l00018">TwoTimesD</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/df6/classpeano4_1_1grid_1_1Spacetree_a31313b2d0893c7773414ba3964e9b312_cgraph.png" border="0" usemap="#adf/df6/classpeano4_1_1grid_1_1Spacetree_a31313b2d0893c7773414ba3964e9b312_cgraph" alt=""/></div>
<map name="adf/df6/classpeano4_1_1grid_1_1Spacetree_a31313b2d0893c7773414ba3964e9b312_cgraph" id="adf/df6/classpeano4_1_1grid_1_1Spacetree_a31313b2d0893c7773414ba3964e9b312_cgraph">
<area shape="rect" title="Takes a state (describing a node in the tree) and returns the &#160;states on the next finer level along t..." alt="" coords="5,375,181,415"/>
<area shape="rect" href="../../d9/d8e/namespacepeano4_1_1utils.html#a4f1a4f16c96662b344839f6beb4cd095" title="Map d&#45;dimensional vector onto integer index." alt="" coords="243,5,433,31"/>
<area shape="poly" title=" " alt="" coords="93,375,102,310,123,220,140,171,163,124,192,80,228,41,235,36,238,40,231,45,196,83,168,126,145,173,128,221,107,311,99,375"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#a4fe59e92998bf7fcda9f7e2b9b6f6a45" title=" " alt="" coords="229,55,447,95"/>
<area shape="poly" title=" " alt="" coords="96,375,108,321,133,248,150,210,172,172,197,136,228,105,233,101,237,105,231,109,201,140,176,175,155,212,138,250,113,322,101,376"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#acc61d4d0c5d019a1cb8fcdf82b902328" title=" " alt="" coords="229,119,447,159"/>
<area shape="poly" title=" " alt="" coords="99,374,115,332,142,276,179,219,202,192,228,169,235,164,238,168,231,173,206,196,183,222,146,279,120,334,104,376"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#a08af438e2f45e488475971f7bda04126" title=" " alt="" coords="229,183,447,223"/>
<area shape="poly" title=" " alt="" coords="104,373,152,305,187,266,228,233,238,227,241,232,231,238,191,270,156,308,109,376"/>
<area shape="rect" href="../../d5/d2c/classpeano4_1_1grid_1_1PeanoCurve.html#a78f6ef9049ba0d26e5ec8ab1da2c8e9c" title=" " alt="" coords="243,247,433,287"/>
<area shape="poly" title=" " alt="" coords="116,373,166,335,228,297,244,290,246,295,231,302,169,339,120,377"/>
<area shape="rect" href="../../d5/d2c/classpeano4_1_1grid_1_1PeanoCurve.html#ad3d74f43d58b637e99cecd015958d6fc" title=" " alt="" coords="231,311,445,351"/>
<area shape="poly" title=" " alt="" coords="170,373,247,352,249,357,171,378"/>
<area shape="rect" href="../../d5/d2c/classpeano4_1_1grid_1_1PeanoCurve.html#ab5951a0fa4a014230212d0eb9e20f1da" title=" " alt="" coords="243,375,433,415"/>
<area shape="poly" title=" " alt="" coords="181,393,230,393,230,398,181,398"/>
<area shape="rect" href="../../d5/d2c/classpeano4_1_1grid_1_1PeanoCurve.html#af69d2e8ede0b42c86fab37c9f0c4ec13" title=" " alt="" coords="243,439,433,479"/>
<area shape="poly" title=" " alt="" coords="171,413,249,433,247,438,170,418"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#a5b48361811143deb96985e54f31eba09" title=" " alt="" coords="229,503,447,543"/>
<area shape="poly" title=" " alt="" coords="120,413,169,452,231,489,246,496,244,501,228,494,166,456,116,418"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#af11900fae33799483a10d15b786594b0" title=" " alt="" coords="229,567,447,607"/>
<area shape="poly" title=" " alt="" coords="109,414,156,483,191,521,231,553,241,559,238,564,228,558,187,525,152,486,104,417"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#addcd78613242c54fe483b1fd7e11b53b" title=" " alt="" coords="229,631,447,671"/>
<area shape="poly" title=" " alt="" coords="104,415,120,457,146,512,183,569,206,595,231,617,238,622,235,627,228,621,202,598,179,572,142,514,115,459,99,416"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#a0d6a37b729dd985044059247f39732ea" title=" " alt="" coords="229,695,447,735"/>
<area shape="poly" title=" " alt="" coords="101,415,113,468,138,540,155,579,176,616,201,651,231,681,237,686,233,690,228,685,197,654,172,619,150,581,133,542,108,470,96,416"/>
<area shape="rect" href="../../d7/d7c/namespacepeano4_1_1grid.html#a133e937a14fa2b8b6d077e9ce346ec69" title=" " alt="" coords="257,760,419,785"/>
<area shape="poly" title=" " alt="" coords="99,415,107,480,128,569,145,617,168,664,196,708,231,745,245,755,242,759,228,749,192,711,163,667,140,619,123,571,102,481,93,416"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#a892a6818e3fd53303da1634723b370e3" title=" " alt="" coords="495,247,712,287"/>
<area shape="poly" title=" " alt="" coords="433,265,481,265,481,270,433,270"/>
</map>
</div>

</div>
</div>
<a id="a17f98eb4d6f868c1849af115277ba99a" name="a17f98eb4d6f868c1849af115277ba99a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17f98eb4d6f868c1849af115277ba99a">&#9670;&#160;</a></span>removeDuplicateEntriesFromAdjancyListInEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> peano4::grid::Spacetree::removeDuplicateEntriesFromAdjancyListInEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d7c/structpeano4_1_1grid_1_1GridTraversalEvent.html">GridTraversalEvent</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>event</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Some of the entries in the event are modelled as array (for example the set of neighbours of a vertex), though they are logically sets. </p>
<p>So I befill the lists and then eventually remove duplicates from the lists before I hand out the event. As a result, the lists hold set data, i.e. each entry only once.</p>
<p>Routine could even be static. Nothing changes in the spacetree state. We actually don't even need it. </p>

</div>
</div>
<a id="a01ddbfe8413bb5e1d08eef954d4c078a" name="a01ddbfe8413bb5e1d08eef954d4c078a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01ddbfe8413bb5e1d08eef954d4c078a">&#9670;&#160;</a></span>restrictToCoarseGrid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::restrictToCoarseGrid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../d7/d26/structtarch_1_1la_1_1Vector.html">tarch::la::Vector</a>&lt; Dimensions, <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>coarseVertexPosition</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../d7/d26/structtarch_1_1la_1_1Vector.html">tarch::la::Vector</a>&lt; Dimensions, <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>fineVertexPosition</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determines whether to restrict a vertex to the coarser level or not. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l00447">447</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01019">assertion2</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d9a/SpacetreeTest_8cpp_source.html#l00025">peano4::grid::tests::SpacetreeTest::testRestrictToCoarseGrid()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/df6/classpeano4_1_1grid_1_1Spacetree_a01ddbfe8413bb5e1d08eef954d4c078a_icgraph.png" border="0" usemap="#adf/df6/classpeano4_1_1grid_1_1Spacetree_a01ddbfe8413bb5e1d08eef954d4c078a_icgraph" alt=""/></div>
<map name="adf/df6/classpeano4_1_1grid_1_1Spacetree_a01ddbfe8413bb5e1d08eef954d4c078a_icgraph" id="adf/df6/classpeano4_1_1grid_1_1Spacetree_a01ddbfe8413bb5e1d08eef954d4c078a_icgraph">
<area shape="rect" title="Determines whether to restrict a vertex to the coarser level or not." alt="" coords="257,13,433,53"/>
<area shape="rect" href="../../db/d8c/classpeano4_1_1grid_1_1tests_1_1SpacetreeTest.html#a93f10bdb4fce450075316ad7d8426f67" title=" " alt="" coords="5,5,209,60"/>
<area shape="poly" title=" " alt="" coords="243,35,210,35,210,30,243,30"/>
</map>
</div>

</div>
</div>
<a id="a925ed44a0fcbbaf3c75561e8fe820578" name="a925ed44a0fcbbaf3c75561e8fe820578"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a925ed44a0fcbbaf3c75561e8fe820578">&#9670;&#160;</a></span>sendGridVertex()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::sendGridVertex </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>vertex</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This one is to be invoked if and only if a vertex goes to the in/out stacks. </p>
<p>The routine should be called just before the vertex goes to the output stack. We call it in <a class="el" href="#aba3992ab51cc5b4da5a3a2db7a1c976b">updateVertexBeforeStore()</a> here, so this constraints automatically is followed.</p>
<p>The routine builds up a set over integers into which it adds all ranks that have to receive a copy. Once this is done, it iterates over the set and sends out data. The two-step scheme becomes necessary, as we have to avoid that vertices are sent around multiple times.</p>
<p>As this routine is called from within <a class="el" href="#aba3992ab51cc5b4da5a3a2db7a1c976b">updateVertexBeforeStore()</a>, we may assume that this is not an empty tree run. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l01060">1060</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01019">assertion2</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37cae2e6f897d049a5a191850fa42b37cf2a">peano4::grid::EmptyRun</a>, <a class="el" href="../../dc/d05/GridVertex_8h_source.html#l00058">peano4::grid::GridVertex::getAdjacentRanks()</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00077">peano4::parallel::Node::getInstance()</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00180">peano4::parallel::Node::getOutputStackNumberForHorizontalDataExchange()</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00244">peano4::parallel::Node::getOutputStacksForPeriodicBoundaryExchange()</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37cad0ffc089d13c7947ef0ab4fda4ad1dd3">peano4::grid::JoinTriggered</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00050">logDebug</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00371">logTraceInWith2Arguments</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00380">logTraceOutWith1Argument</a>, <a class="el" href="../../dc/d05/GridVertex_8h_source.html#l00059">peano4::grid::GridVertex::setAdjacentRanks()</a>, <a class="el" href="../../d6/d2e/GridVertex_8cpp_source.html#l00071">peano4::grid::GridVertex::toString()</a>, <a class="el" href="../../d7/d70/grid_8cpp_source.html#l00276">peano4::grid::toString()</a>, and <a class="el" href="../../d9/df1/Globals_8h_source.html#l00021">TwoPowerD</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/df6/classpeano4_1_1grid_1_1Spacetree_a925ed44a0fcbbaf3c75561e8fe820578_cgraph.png" border="0" usemap="#adf/df6/classpeano4_1_1grid_1_1Spacetree_a925ed44a0fcbbaf3c75561e8fe820578_cgraph" alt=""/></div>
<map name="adf/df6/classpeano4_1_1grid_1_1Spacetree_a925ed44a0fcbbaf3c75561e8fe820578_cgraph" id="adf/df6/classpeano4_1_1grid_1_1Spacetree_a925ed44a0fcbbaf3c75561e8fe820578_cgraph">
<area shape="rect" title="This one is to be invoked if and only if a vertex goes to the in/out stacks." alt="" coords="5,220,181,260"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a03d9912c42e0139ed21ecf18b9a00599" title=" " alt="" coords="275,5,455,45"/>
<area shape="poly" title=" " alt="" coords="101,219,120,183,147,139,184,93,228,55,260,39,263,44,231,60,187,97,152,142,124,186,106,221"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0" title=" " alt="" coords="280,69,449,109"/>
<area shape="poly" title=" " alt="" coords="110,218,159,168,192,141,228,119,266,104,268,109,231,124,195,146,163,172,114,222"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a523cc39893323868831d22bf1b22d938" title="Hand in a spacetree id and get back the number that we should use to send something to this tree." alt="" coords="229,134,500,189"/>
<area shape="poly" title=" " alt="" coords="161,217,229,197,255,190,256,195,230,203,163,223"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#ab69e9474d044a353ecdc7484b0156304" title="You hand in a the flags of a vertex and you get the boundary stack identifiers including their direct..." alt="" coords="259,213,470,267"/>
<area shape="poly" title=" " alt="" coords="182,237,245,237,245,243,182,243"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#ae4497bbc26bec13704edb43d07461645" title=" " alt="" coords="275,292,455,332"/>
<area shape="poly" title=" " alt="" coords="163,257,230,276,268,286,267,291,229,281,162,263"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#ab20cc6d86af3640c852444f5b18277c9" title=" " alt="" coords="275,356,455,396"/>
<area shape="poly" title=" " alt="" coords="117,258,166,301,197,323,230,342,263,354,261,359,228,346,195,327,163,305,113,262"/>
<area shape="rect" href="../../d7/d7c/namespacepeano4_1_1grid.html#a133e937a14fa2b8b6d077e9ce346ec69" title=" " alt="" coords="283,421,446,446"/>
<area shape="poly" title=" " alt="" coords="107,259,126,292,153,332,189,373,231,406,271,422,269,427,228,410,185,377,149,336,121,295,102,262"/>
</map>
</div>

</div>
</div>
<a id="a1b1398413e236a31626e82abcf2e8432" name="a1b1398413e236a31626e82abcf2e8432"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b1398413e236a31626e82abcf2e8432">&#9670;&#160;</a></span>sendUserData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::sendUserData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html">AutomatonState</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>state</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html">TraversalObserver</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>observer</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../d2/d7c/structpeano4_1_1grid_1_1GridTraversalEvent.html">GridTraversalEvent</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>enterCellTraversalEvent</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a></td>          <td class="paramname"><span class="paramname"><em>fineGridVertices</em>[TwoPowerD]</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send user data. </p>
<p>Send out data along the MPI boundary (horizontal) and stream data to the splitting, new workers (vertical). This routine is called within <a class="el" href="#a6a367c9546982d88a9d25f7b5e722349">descend()</a> as epilogue, i.e. after all data have been stored savely away on the output streams.</p>
<h2><a class="anchor" id="autotoc_md136"></a>
Data order on output stacks</h2>
<p>When we send out data, we send that data from the output stack, i.e. we assume that the user code has already piped its stuff there. As the output data structure is a stack, we have to be careful: If a cell writes N pieces of data to the output stream and we want to copy the first piece of data into an output stream for MPI, then we have to pick the Nth entry from the output stream. With our modified top(), we can access these elements directly. We just have to be careful that top() equals actually a top(0), so picking the Nth element requires us to call top(N-1).</p>
<h2><a class="anchor" id="autotoc_md137"></a>
Masking and selecting transfer data</h2>
<p>The routine here does not realise the actual data transfer. It delegates the actual streaming to the observer's sendFace(), sendVertex() and sendCell(). As observers are provided by the user - most frequently generated through the Python API - we know which user data we have tied to the mesh and hence can champion the data transfer.</p>
<p>This separation of concerns implies that the sendXXX routines also can decide to mask out sent data. However, we have to be careful with this masking: We indeed want to be able to mask out horizontal data transfer and vertical data transfer which corresponds to the domain decomposition data exchange. We do not want to mask anything out that has to do with splits or joins.</p>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000016">Todo</a></b></dt><dd>Was passiert bei dynamic AMR?</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html#a1ef581ef75460202f1af9fa5c2ad7bfc" title="Copies (streams) data from the master to the worker.">peano4::parallel::SpacetreeSet::streamDataFromSplittingTreeToNewTree()</a> <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a10aa502896b834c0d9eaeb3e8c8ab187">for</a> <a class="el" href="../../d0/de2/hydro__iact_8h.html#a8cbb00f59bca2c48d4560b23f07a4de2">a</a> discussion of the splitting process and the required data flows. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l01432">1432</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01017">assertion</a>, <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01021">assertion4</a>, <a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html#a3504d372e0af2124da7c2309c63fab96aead618ceb8f010c2bd28be9447cc9173">peano4::grid::TraversalObserver::BoundaryExchange</a>, <a class="el" href="../../d8/d88/VectorOperations_8cpph_source.html#l00048">tarch::la::contains()</a>, <a class="el" href="../../df/d0a/TraversalObserver_8h_source.html#l00062">peano4::grid::TraversalObserver::CreateOrDestroyHangingGridEntity</a>, <a class="el" href="../../df/d0a/TraversalObserver_8h_source.html#l00057">peano4::grid::TraversalObserver::CreateOrDestroyPersistentGridEntity</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37cae2e6f897d049a5a191850fa42b37cf2a">peano4::grid::EmptyRun</a>, <a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html#a3504d372e0af2124da7c2309c63fab96abe4c9bf8c911fc19b6217e7f681b2a7f">peano4::grid::TraversalObserver::ForkDomain</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00077">peano4::parallel::Node::getInstance()</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00212">peano4::parallel::Node::getOutputStackForPeriodicBoundaryExchange()</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00180">peano4::parallel::Node::getOutputStackNumberForHorizontalDataExchange()</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00188">peano4::parallel::Node::getOutputStackNumberForVerticalDataExchange()</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00244">peano4::parallel::Node::getOutputStacksForPeriodicBoundaryExchange()</a>, <a class="el" href="../../d2/d19/PeanoCurve_8cpp_source.html#l00169">peano4::grid::PeanoCurve::isInOutStack()</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37ca7d50c09f1ad7d098e0a847bcdcab7efb">peano4::grid::Joined</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00050">logDebug</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00372">logTraceInWith3Arguments</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00382">logTraceOutWith3Arguments</a>, <a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html#a3504d372e0af2124da7c2309c63fab96afe417302dbcb1217571bd36fb4724c8e">peano4::grid::TraversalObserver::PeriodicBoundaryDataSwap</a>, <a class="el" href="../../d0/d31/GridTraversalEventGeneratorTest_8cpp_source.html#l00146">state</a>, <a class="el" href="../../d9/db4/AutomatonState_8cpp_source.html#l00048">peano4::grid::AutomatonState::toString()</a>, <a class="el" href="../../d7/d70/grid_8cpp_source.html#l00276">peano4::grid::toString()</a>, and <a class="el" href="../../d9/df1/Globals_8h_source.html#l00021">TwoPowerD</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/df6/classpeano4_1_1grid_1_1Spacetree_a1b1398413e236a31626e82abcf2e8432_cgraph.png" border="0" usemap="#adf/df6/classpeano4_1_1grid_1_1Spacetree_a1b1398413e236a31626e82abcf2e8432_cgraph" alt=""/></div>
<map name="adf/df6/classpeano4_1_1grid_1_1Spacetree_a1b1398413e236a31626e82abcf2e8432_cgraph" id="adf/df6/classpeano4_1_1grid_1_1Spacetree_a1b1398413e236a31626e82abcf2e8432_cgraph">
<area shape="rect" title="Send user data." alt="" coords="5,285,181,325"/>
<area shape="rect" href="../../d2/d45/namespacetarch_1_1la.html#ae4f5aabae51a4ad02358671747cb8fd9" title=" " alt="" coords="295,5,434,31"/>
<area shape="poly" title=" " alt="" coords="96,284,110,234,134,167,152,133,173,99,198,68,228,41,253,27,281,19,282,24,255,32,231,46,202,71,177,102,157,135,139,170,115,235,101,285"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0" title=" " alt="" coords="280,55,449,95"/>
<area shape="poly" title=" " alt="" coords="100,283,118,245,145,196,182,147,204,124,228,105,266,87,268,92,231,110,207,128,186,150,150,199,123,247,105,285"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#ae271981fdcc5db2024f73ffabcf233c3" title="Identify output stack for periodic boundary data written by face." alt="" coords="232,120,497,175"/>
<area shape="poly" title=" " alt="" coords="110,283,160,233,193,207,228,184,239,178,242,183,231,188,196,211,164,237,114,286"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a523cc39893323868831d22bf1b22d938" title="Hand in a spacetree id and get back the number that we should use to send something to this tree." alt="" coords="229,199,500,253"/>
<area shape="poly" title=" " alt="" coords="161,282,229,262,255,255,256,260,230,267,163,287"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a8e3b4ea37d72a26fc5a3a07ec565ba12" title=" " alt="" coords="239,277,491,332"/>
<area shape="poly" title=" " alt="" coords="182,302,225,302,225,307,182,307"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#ab69e9474d044a353ecdc7484b0156304" title="You hand in a the flags of a vertex and you get the boundary stack identifiers including their direct..." alt="" coords="259,356,470,411"/>
<area shape="poly" title=" " alt="" coords="164,322,257,350,256,355,162,327"/>
<area shape="rect" href="../../d5/d2c/classpeano4_1_1grid_1_1PeanoCurve.html#a98b69a3b82a24c9a2c190cb3138e2119" title=" " alt="" coords="270,435,459,475"/>
<area shape="poly" title=" " alt="" coords="114,323,163,372,196,398,231,420,258,431,256,436,228,424,193,402,160,376,110,327"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#a0d6a37b729dd985044059247f39732ea" title=" " alt="" coords="256,499,473,539"/>
<area shape="poly" title=" " alt="" coords="106,324,124,359,152,403,187,448,231,485,245,493,242,498,228,490,184,451,147,406,120,362,101,326"/>
<area shape="rect" href="../../d7/d7c/namespacepeano4_1_1grid.html#a133e937a14fa2b8b6d077e9ce346ec69" title=" " alt="" coords="283,564,446,589"/>
<area shape="poly" title=" " alt="" coords="102,324,116,371,141,433,179,497,203,525,231,549,250,560,271,568,269,573,248,565,228,554,199,529,175,500,137,435,111,373,97,326"/>
<area shape="rect" href="../../d9/d8e/namespacepeano4_1_1utils.html#a4f1a4f16c96662b344839f6beb4cd095" title="Map d&#45;dimensional vector onto integer index." alt="" coords="548,135,737,160"/>
<area shape="poly" title=" " alt="" coords="498,145,534,145,534,150,498,150"/>
</map>
</div>

</div>
</div>
<a id="af3315fe85dcf07424dfd11852e6ec2ee" name="af3315fe85dcf07424dfd11852e6ec2ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3315fe85dcf07424dfd11852e6ec2ee">&#9670;&#160;</a></span>shouldEraseAdjacencyInformation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::shouldEraseAdjacencyInformation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>vertex</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a></td>          <td class="paramname"><span class="paramname"><em>coarseGridVertices</em>[TwoPowerD], </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d26/structtarch_1_1la_1_1Vector.html">tarch::la::Vector</a>&lt; Dimensions, <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> &gt;</td>          <td class="paramname"><span class="paramname"><em>fineVertexPositionWithinPatch</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<h2>Implementation </h2>
<p>We only remove adjacency information for unrefined outside vertices and we are very restrictive what we consider to be outside. Indeed, we consider any vertex still local when we are in a join or fork. If a vertex is really outside but refined, we wait for the erase to pass through before we consider erasing any adjacency info.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a1f19f9be10874eb4bd606fafb9050f00" title="This operation has multiple purposes.">updateVertexAfterLoad</a> Erases refined vertices outside of local domain. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l00546">546</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d88/VectorOperations_8cpph_source.html#l00048">tarch::la::contains()</a>, <a class="el" href="../../d1/dc2/Linearised_8cpph_source.html#l00034">peano4::utils::dLinearised()</a>, <a class="el" href="../../dc/d05/GridVertex_8h_source.html#l00055">peano4::grid::GridVertex::getState()</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00371">logTraceInWith2Arguments</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00380">logTraceOutWith1Argument</a>, <a class="el" href="../../d6/d2e/GridVertex_8cpp_source.html#l00071">peano4::grid::GridVertex::toString()</a>, and <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a30f260fb2246dd83692c70b1d1ff203ca27d974933532127b2ca94a6dc31123b3">peano4::grid::GridVertex::Unrefined</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/df6/classpeano4_1_1grid_1_1Spacetree_af3315fe85dcf07424dfd11852e6ec2ee_cgraph.png" border="0" usemap="#adf/df6/classpeano4_1_1grid_1_1Spacetree_af3315fe85dcf07424dfd11852e6ec2ee_cgraph" alt=""/></div>
<map name="adf/df6/classpeano4_1_1grid_1_1Spacetree_af3315fe85dcf07424dfd11852e6ec2ee_cgraph" id="adf/df6/classpeano4_1_1grid_1_1Spacetree_af3315fe85dcf07424dfd11852e6ec2ee_cgraph">
<area shape="rect" title=" " alt="" coords="5,77,257,117"/>
<area shape="rect" href="../../d2/d45/namespacetarch_1_1la.html#ae4f5aabae51a4ad02358671747cb8fd9" title=" " alt="" coords="331,5,469,31"/>
<area shape="poly" title=" " alt="" coords="192,74,305,39,333,32,335,37,306,45,194,79"/>
<area shape="rect" href="../../d9/d8e/namespacepeano4_1_1utils.html#a4f1a4f16c96662b344839f6beb4cd095" title="Map d&#45;dimensional vector onto integer index." alt="" coords="305,55,495,80"/>
<area shape="poly" title=" " alt="" coords="257,80,291,76,292,82,258,86"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#af0a4b4140aea5650feecb14cd5e5033c" title=" " alt="" coords="310,105,490,145"/>
<area shape="poly" title=" " alt="" coords="258,107,297,111,296,117,257,112"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#ab20cc6d86af3640c852444f5b18277c9" title=" " alt="" coords="310,169,490,209"/>
<area shape="poly" title=" " alt="" coords="191,114,306,154,328,162,326,167,304,159,189,119"/>
</map>
</div>

</div>
</div>
<a id="a0a8b43c5b6944614b0a69d0369d89166" name="a0a8b43c5b6944614b0a69d0369d89166"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a8b43c5b6944614b0a69d0369d89166">&#9670;&#160;</a></span>split()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::split </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a></td>          <td class="paramname"><span class="paramname"><em>treeId</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../dd/d3a/structpeano4_1_1SplitInstruction.html">SplitInstruction</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>instruction</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a split instruction. </p>
<p>Add a new split instruction. Peano's documentation discusses splits in detail, and also clarifies why we need two different approaches to split (see <a class="el" href="../../dd/d3a/structpeano4_1_1SplitInstruction.html" title="Instruction to split.">SplitInstruction</a>).</p>
<p>If we add a split, we should commit to one split type: Either all of our splits are top-down or all of them are bottom-up. If we had both types in one grid sweep, we could run into inconsistent grid configurations. At the moment, this is an assumption, i.e. it might work, but I'm just not sure if it really holds.</p>
<p>This constrains (only one type of splitting) is not necessary algorithmically. The logic would support a sequence of different split types. However, both splits use the same helper data structures, and they might be messed up with different split types are combined. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l01774">1774</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01020">assertion3</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00440">logWarning</a>, <a class="el" href="../../da/df1/src_2peano4_2grid_2grid_8h_source.html#l00037">peano4::SplitInstruction::numberOfFineGridCells</a>, and <a class="el" href="../../d7/d70/grid_8cpp_source.html#l00276">peano4::grid::toString()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/df6/classpeano4_1_1grid_1_1Spacetree_a0a8b43c5b6944614b0a69d0369d89166_cgraph.png" border="0" usemap="#adf/df6/classpeano4_1_1grid_1_1Spacetree_a0a8b43c5b6944614b0a69d0369d89166_cgraph" alt=""/></div>
<map name="adf/df6/classpeano4_1_1grid_1_1Spacetree_a0a8b43c5b6944614b0a69d0369d89166_cgraph" id="adf/df6/classpeano4_1_1grid_1_1Spacetree_a0a8b43c5b6944614b0a69d0369d89166_cgraph">
<area shape="rect" title="Add a split instruction." alt="" coords="5,5,181,45"/>
<area shape="rect" href="../../d7/d7c/namespacepeano4_1_1grid.html#a133e937a14fa2b8b6d077e9ce346ec69" title=" " alt="" coords="229,13,392,38"/>
<area shape="poly" title=" " alt="" coords="181,23,216,23,216,28,181,28"/>
</map>
</div>

</div>
</div>
<a id="af60654c13930f6d542f840414fc56b0e" name="af60654c13930f6d542f840414fc56b0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af60654c13930f6d542f840414fc56b0e">&#9670;&#160;</a></span>splitCellTopDown()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::splitCellTopDown </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a></td>          <td class="paramname"><span class="paramname"><em>vertex</em>[TwoPowerD], </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a></td>          <td class="paramname"><span class="paramname"><em>fineGridVertices</em>[TwoPowerD]</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Split cell in a top down fashion. </p>
<p>The algorithm logic behind this splitting strategy is very simple: We first find out what the next split-off tree would be.</p>
<ul>
<li>If a cell's parent is deployed to this tree, deploy the current octant too. After all, we want to split in a top-down manner.</li>
<li>If an octant's parent is not yet deployed but the cell would be a split candidate, we trigger the split.</li>
<li>If we deploy an unrefined octant to a new tree, we have to decrease the internal counter by calling <a class="el" href="#af353cd24f9183881bff38296073aaa2c" title="Reduce splitting counter.">updateSplittingCounter()</a>.</li>
</ul>
<p>Unfortunately, the actual splitting is not that simple: We cannot alter the adjacency information of a vertex on-the-fly without running risk to change the vertex ownership. Therefore, we only realise the analysis here and deploy the actual split realisation to <a class="el" href="#a85cba869defa7a1b32338f35f373de8c" title="Realise the splits and joins.">splitOrJoinCellBottomUp()</a>. Analysis means that we push a marker on the helper stack _splittedCells whenever we want to split. And we update our internal splitting counters. But we do not realise the split itself, i.e. we do not alter adjacency information.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a85cba869defa7a1b32338f35f373de8c" title="Realise the splits and joins.">splitOrJoinCellBottomUp()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l01687">1687</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d3a/structpeano4_1_1SplitInstruction.html#a9356a55276299b8e6eb4898b31310798ab98b1d78c9116e8402f97f4e57937d1f">peano4::SplitInstruction::AggressiveTopDown</a>, <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01017">assertion</a>, <a class="el" href="../../d7/d70/grid_8cpp_source.html#l00241">peano4::grid::isSpacetreeNodeRefined()</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00050">logDebug</a>, and <a class="el" href="../../d7/d70/grid_8cpp_source.html#l00276">peano4::grid::toString()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/df6/classpeano4_1_1grid_1_1Spacetree_af60654c13930f6d542f840414fc56b0e_cgraph.png" border="0" usemap="#adf/df6/classpeano4_1_1grid_1_1Spacetree_af60654c13930f6d542f840414fc56b0e_cgraph" alt=""/></div>
<map name="adf/df6/classpeano4_1_1grid_1_1Spacetree_af60654c13930f6d542f840414fc56b0e_cgraph" id="adf/df6/classpeano4_1_1grid_1_1Spacetree_af60654c13930f6d542f840414fc56b0e_cgraph">
<area shape="rect" title="Split cell in a top down fashion." alt="" coords="5,67,181,107"/>
<area shape="rect" href="../../d7/d7c/namespacepeano4_1_1grid.html#a05b1783e3f77d491637977ee2b266de5" title="A spacetree node is refined if any of its adjacent vertices holds one of the following flags:" alt="" coords="229,37,416,77"/>
<area shape="poly" title=" " alt="" coords="181,73,216,68,216,74,182,78"/>
<area shape="rect" href="../../d7/d7c/namespacepeano4_1_1grid.html#a133e937a14fa2b8b6d077e9ce346ec69" title=" " alt="" coords="241,102,404,127"/>
<area shape="poly" title=" " alt="" coords="182,95,228,100,228,106,181,100"/>
<area shape="rect" href="../../d7/d7c/namespacepeano4_1_1grid.html#a8d093974750d7e9f146378ca6146b6dd" title="A vertex has been refined if it is (already) refined or is erasing or the erase has been triggered." alt="" coords="464,5,673,45"/>
<area shape="poly" title=" " alt="" coords="416,43,450,38,451,43,417,48"/>
<area shape="rect" href="../../d7/d7c/namespacepeano4_1_1grid.html#acc91395a855f0bb48d81535a3d7631c1" title="A vertex will be refined if it is already refined or currently refining." alt="" coords="481,69,657,109"/>
<area shape="poly" title=" " alt="" coords="417,67,467,73,467,79,416,72"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#af0a4b4140aea5650feecb14cd5e5033c" title=" " alt="" coords="721,37,901,77"/>
<area shape="poly" title=" " alt="" coords="674,36,708,41,708,46,673,42"/>
<area shape="poly" title=" " alt="" coords="657,75,707,68,708,74,657,80"/>
</map>
</div>

</div>
</div>
<a id="a85cba869defa7a1b32338f35f373de8c" name="a85cba869defa7a1b32338f35f373de8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85cba869defa7a1b32338f35f373de8c">&#9670;&#160;</a></span>splitOrJoinCellBottomUp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::splitOrJoinCellBottomUp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a></td>          <td class="paramname"><span class="paramname"><em>vertex</em>[TwoPowerD], </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a></td>          <td class="paramname"><span class="paramname"><em>fineGridVertices</em>[TwoPowerD]</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Realise the splits and joins. </p>
<p>This routine alters the vertex adjacency information. That is, it does not yet really split or join. It identifies where to split and join. The adjacency information will be exchanged with (potential) neighbours after this grid traversal and the actual splitting or joining then happens in the next grid sweep. That is, this routine realises the SplitTriggered or JoinTriggered phase. See the discussion in Peano's domain decomposition documentation for a discussion of these subsequent phases.</p>
<p>On the split side, we have two types of splits: Splits that are identified bottom-up. These splits are realised carefully and never split off too many cells. The other splits are top-down splits and they are more aggressive, i.e. they might split off too many cells eventually. What type of split you want to have is controlled by a flag within the split specification when you call <a class="el" href="#a0a8b43c5b6944614b0a69d0369d89166" title="Add a split instruction.">split()</a>.</p>
<h2><a class="anchor" id="autotoc_md138"></a>
Bottom-up splits</h2>
<p>The split logic is protected by one big check if splits are active. If no splits are triggered, there is no need to check things further. <a class="el" href="../../db/d37/structAny.html">Any</a> further logic is guided by the fact if a spacetree node is refined and if it is a potential split candidate. The latter is determined by evaluating <a class="el" href="#afe9730dc3126f08ec31186187c7a6b54" title="Can a cell be split (deployed to another rank)">isCellSplitCandidate()</a>.</p>
<p>Our logic is that we focus first of all on the fine grid cells: We aim to split a certain number of fine grid cells into a new tree. If all children of a refined node are split into the same new tree, and if this (parent) node is a potential split candidate, too, then we move it to the newly created tree as well.</p>
<p>We realise an \( LR(3^d) \) grammar to identify the latter situation. This grammar uses the container (stack) _splittedCells over integers.</p>
<ul>
<li>Every leaf pushes a marker into this container: _id if it is and remains local, the new id if the node has been split, and a -1 otherwise.</li>
<li>A refined cell induces a reduce on the container. \( 3^d\) markers are removed and analysed: If they all have the same id as the next split marker to be used, we add it.</li>
<li>A refined cell finally adds its marker again.</li>
</ul>
<p>It is important that I evaluate the reduce analysis even if no splits are do be done anymore. Because it might happen that I have just done exactly 9 splits for example (2d) and thus, the parent of these 9 guys should go to the remote node, too. The punchline is that only leaves check if they have to fork. The behaviour of refined octants follows the decisions made for their children before.</p>
<h2><a class="anchor" id="autotoc_md139"></a>
Top-down splits</h2>
<p>The down splits are discussed in <a class="el" href="#af60654c13930f6d542f840414fc56b0e" title="Split cell in a top down fashion.">splitCellTopDown()</a>. This is where all the logic sits. The present routine merely impleemnts the decisions made there.</p>
<h2><a class="anchor" id="autotoc_md140"></a>
Rationale</h2>
<p>I originally realised the splits solely bottom-up, i.e. decided to omit any analysis if the coarse node has already been split. This way, it is very easy to accommodate Peano's two fundamental splitting constraints: We simply veto the split-off of any cell with a hanging node. However, such an approach leads to the situation where adaptive mesh refinements severely constrain the algorithm. In the example in the general discussion</p>
<div class="image">
<img src="../.././" alt=""/>
<div class="caption">
../../documentation/Doxygen/domain-decomposition/regularity-constraint.png</div></div>
<p>we would not split off any of the cells that are adjacent to the AMR boundary. As we never split off a cell unless all of its children are of the same rank, we would never ever split off the green cell. This is bad in a situation where only splitting off the green cell and all of its children would yield a good domain decomposition. So a sole bottom-up approach is not an option.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#af60654c13930f6d542f840414fc56b0e" title="Split cell in a top down fashion.">splitCellTopDown()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l01626">1626</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d3a/structpeano4_1_1SplitInstruction.html#a9356a55276299b8e6eb4898b31310798ab98b1d78c9116e8402f97f4e57937d1f">peano4::SplitInstruction::AggressiveTopDown</a>, <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01017">assertion</a>, <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01076">assertionMsg</a>, <a class="el" href="../../dd/d3a/structpeano4_1_1SplitInstruction.html#a9356a55276299b8e6eb4898b31310798af2d845507c52a78228c1c50369aa852a">peano4::SplitInstruction::BottomUp</a>, <a class="el" href="../../d7/d70/grid_8cpp_source.html#l00241">peano4::grid::isSpacetreeNodeRefined()</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00050">logDebug</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00411">logInfo</a>, and <a class="el" href="../../d9/df1/Globals_8h_source.html#l00027">ThreePowerD</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/df6/classpeano4_1_1grid_1_1Spacetree_a85cba869defa7a1b32338f35f373de8c_cgraph.png" border="0" usemap="#adf/df6/classpeano4_1_1grid_1_1Spacetree_a85cba869defa7a1b32338f35f373de8c_cgraph" alt=""/></div>
<map name="adf/df6/classpeano4_1_1grid_1_1Spacetree_a85cba869defa7a1b32338f35f373de8c_cgraph" id="adf/df6/classpeano4_1_1grid_1_1Spacetree_a85cba869defa7a1b32338f35f373de8c_cgraph">
<area shape="rect" title="Realise the splits and joins." alt="" coords="5,37,193,77"/>
<area shape="rect" href="../../d7/d7c/namespacepeano4_1_1grid.html#a05b1783e3f77d491637977ee2b266de5" title="A spacetree node is refined if any of its adjacent vertices holds one of the following flags:" alt="" coords="241,37,428,77"/>
<area shape="poly" title=" " alt="" coords="194,55,228,55,228,60,194,60"/>
<area shape="rect" href="../../d7/d7c/namespacepeano4_1_1grid.html#a8d093974750d7e9f146378ca6146b6dd" title="A vertex has been refined if it is (already) refined or is erasing or the erase has been triggered." alt="" coords="476,5,685,45"/>
<area shape="poly" title=" " alt="" coords="428,43,462,38,463,43,429,48"/>
<area shape="rect" href="../../d7/d7c/namespacepeano4_1_1grid.html#acc91395a855f0bb48d81535a3d7631c1" title="A vertex will be refined if it is already refined or currently refining." alt="" coords="493,69,669,109"/>
<area shape="poly" title=" " alt="" coords="429,67,479,73,479,79,428,72"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#af0a4b4140aea5650feecb14cd5e5033c" title=" " alt="" coords="733,37,913,77"/>
<area shape="poly" title=" " alt="" coords="686,36,720,41,720,46,685,42"/>
<area shape="poly" title=" " alt="" coords="669,75,719,68,720,74,669,80"/>
</map>
</div>

</div>
</div>
<a id="a152bba0306a93aded392c84ad9686c6f" name="a152bba0306a93aded392c84ad9686c6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a152bba0306a93aded392c84ad9686c6f">&#9670;&#160;</a></span>storeVertices()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::storeVertices </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html">AutomatonState</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>fineGridState</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a></td>          <td class="paramname"><span class="paramname"><em>coarseGridVertices</em>[TwoPowerD], </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a></td>          <td class="paramname"><span class="paramname"><em>fineGridVertices</em>[TwoPowerD], </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../d7/d26/structtarch_1_1la_1_1Vector.html">tarch::la::Vector</a>&lt; Dimensions, <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>cellPositionWithin3x3Patch</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html">TraversalObserver</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>observer</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l00730">730</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01017">assertion</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#af8e5a430d46e861a3f32ee7671827be6af2a6c498fb90ee345d997f888fce3b18">peano4::grid::Delete</a>, <a class="el" href="../../d1/dc2/Linearised_8cpph_source.html#l00034">peano4::utils::dLinearised()</a>, <a class="el" href="../../d2/d19/PeanoCurve_8cpp_source.html#l00088">peano4::grid::PeanoCurve::getFirstVertexIndex()</a>, <a class="el" href="../../d2/d19/PeanoCurve_8cpp_source.html#l00179">peano4::grid::PeanoCurve::getVertexWriteStackNumber()</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#af8e5a430d46e861a3f32ee7671827be6aaefea37c8d478f0968d6606e6095beb7">peano4::grid::Hanging</a>, <a class="el" href="../../d2/d19/PeanoCurve_8cpp_source.html#l00169">peano4::grid::PeanoCurve::isInOutStack()</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00050">logDebug</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00370">logTraceInWith1Argument</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00380">logTraceOutWith1Argument</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#af8e5a430d46e861a3f32ee7671827be6a03c2e7e41ffc181a4e84080b4710e81e">peano4::grid::New</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#af8e5a430d46e861a3f32ee7671827be6a5fe7b9358c9cb1b9eaa8d5aec000def4">peano4::grid::Persistent</a>, <a class="el" href="../../d7/d70/grid_8cpp_source.html#l00276">peano4::grid::toString()</a>, and <a class="el" href="../../d9/df1/Globals_8h_source.html#l00021">TwoPowerD</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/df6/classpeano4_1_1grid_1_1Spacetree_a152bba0306a93aded392c84ad9686c6f_cgraph.png" border="0" usemap="#adf/df6/classpeano4_1_1grid_1_1Spacetree_a152bba0306a93aded392c84ad9686c6f_cgraph" alt=""/></div>
<map name="adf/df6/classpeano4_1_1grid_1_1Spacetree_a152bba0306a93aded392c84ad9686c6f_cgraph" id="adf/df6/classpeano4_1_1grid_1_1Spacetree_a152bba0306a93aded392c84ad9686c6f_cgraph">
<area shape="rect" title=" " alt="" coords="5,119,181,159"/>
<area shape="rect" href="../../d9/d8e/namespacepeano4_1_1utils.html#a4f1a4f16c96662b344839f6beb4cd095" title="Map d&#45;dimensional vector onto integer index." alt="" coords="243,5,432,31"/>
<area shape="poly" title=" " alt="" coords="116,117,165,78,228,41,251,32,253,37,230,46,168,83,119,121"/>
<area shape="rect" href="../../d5/d2c/classpeano4_1_1grid_1_1PeanoCurve.html#af602ba144ee22232579adf50ace7da8c" title="Looks into a cell of the spacetree and gives the index of the first local vertex." alt="" coords="243,55,432,95"/>
<area shape="poly" title=" " alt="" coords="170,117,247,96,248,101,171,122"/>
<area shape="rect" href="../../d5/d2c/classpeano4_1_1grid_1_1PeanoCurve.html#a03f74c8395ab5626fd730aff68e338b2" title=" " alt="" coords="229,119,445,159"/>
<area shape="poly" title=" " alt="" coords="181,137,215,137,215,142,181,142"/>
<area shape="rect" href="../../d5/d2c/classpeano4_1_1grid_1_1PeanoCurve.html#a98b69a3b82a24c9a2c190cb3138e2119" title=" " alt="" coords="243,183,432,223"/>
<area shape="poly" title=" " alt="" coords="171,157,248,177,247,182,170,162"/>
<area shape="rect" href="../../d7/d7c/namespacepeano4_1_1grid.html#a133e937a14fa2b8b6d077e9ce346ec69" title=" " alt="" coords="256,248,419,273"/>
<area shape="poly" title=" " alt="" coords="119,158,168,196,230,233,253,242,251,247,228,238,165,201,116,162"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#a16233fd8d3aef7513633715c548a9f1c" title=" " alt="" coords="493,87,711,127"/>
<area shape="poly" title=" " alt="" coords="432,84,480,90,479,95,432,89"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#afe7169749132d1a071e603c42b0ea96a" title=" " alt="" coords="493,23,711,63"/>
<area shape="poly" title=" " alt="" coords="432,61,479,55,480,61,432,67"/>
<area shape="poly" title=" " alt="" coords="445,124,480,119,480,125,446,129"/>
<area shape="rect" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html#a8f03ed68c1adde671ebe556873a06a96" title=" " alt="" coords="493,151,711,191"/>
<area shape="poly" title=" " alt="" coords="446,150,480,154,480,159,445,155"/>
</map>
</div>

</div>
</div>
<a id="a4a97add868885a7f9684e776de755745" name="a4a97add868885a7f9684e776de755745"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a97add868885a7f9684e776de755745">&#9670;&#160;</a></span>toString()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::toString </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l01800">1800</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d70/grid_8cpp_source.html#l00276">peano4::grid::toString()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/df6/classpeano4_1_1grid_1_1Spacetree_a4a97add868885a7f9684e776de755745_cgraph.png" border="0" usemap="#adf/df6/classpeano4_1_1grid_1_1Spacetree_a4a97add868885a7f9684e776de755745_cgraph" alt=""/></div>
<map name="adf/df6/classpeano4_1_1grid_1_1Spacetree_a4a97add868885a7f9684e776de755745_cgraph" id="adf/df6/classpeano4_1_1grid_1_1Spacetree_a4a97add868885a7f9684e776de755745_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,181,45"/>
<area shape="rect" href="../../d7/d7c/namespacepeano4_1_1grid.html#a133e937a14fa2b8b6d077e9ce346ec69" title=" " alt="" coords="229,13,392,38"/>
<area shape="poly" title=" " alt="" coords="181,23,216,23,216,28,181,28"/>
</map>
</div>

</div>
</div>
<a id="acc6197067d18531527465392bce7e3c0" name="acc6197067d18531527465392bce7e3c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc6197067d18531527465392bce7e3c0">&#9670;&#160;</a></span>traverse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::traverse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html">TraversalObserver</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>observer</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d8b/SWIFTMain_8template_8cpp.html#af6a258d8f3ee5206d682d799316314b1">bool</a></td>          <td class="paramname"><span class="paramname"><em>calledFromSpacetreeSet</em><span class="paramdefsep"> = </span><span class="paramdefval">false</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d2/d7c/structpeano4_1_1grid_1_1GridTraversalEvent.html">GridTraversalEvent</a> <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a10aa502896b834c0d9eaeb3e8c8ab187">for</a> <a class="el" href="../../d0/de2/hydro__iact_8h.html#a8cbb00f59bca2c48d4560b23f07a4de2">a</a> discussion of the arising actions. The traversal actually does not issue these actions. It invokes only an observer and hands in the <a class="el" href="../../d2/d7c/structpeano4_1_1grid_1_1GridTraversalEvent.html">GridTraversalEvent</a>. It is then up to the observer to read out the event and to issue the actions.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">calledFromSpacetreeSet</td><td>If you use traverse directly, please do not alter this value </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l00122">122</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01017">assertion</a>, <a class="el" href="../../dc/d46/Assertions_8h_source.html#l01019">assertion2</a>, <a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html#a9fcef74ba5e3d47f26bd9c3999118334">peano4::grid::TraversalObserver::beginTraversal()</a>, <a class="el" href="../../d7/d70/grid_8cpp_source.html#l00230">peano4::grid::clear()</a>, <a class="el" href="../../d7/d70/grid_8cpp_source.html#l00061">peano4::grid::createVertex()</a>, <a class="el" href="../../db/d9e/Loop_8h_source.html#l00086">dfor2</a>, <a class="el" href="../../d1/dc2/Linearised_8cpph_source.html#l00034">peano4::utils::dLinearised()</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37cae2e6f897d049a5a191850fa42b37cf2a">peano4::grid::EmptyRun</a>, <a class="el" href="../../db/d9e/Loop_8h_source.html#l00117">enddforx</a>, <a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html#aba891cd6821aa9bf44f1e57368b4c937">peano4::grid::TraversalObserver::endTraversal()</a>, <a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html#ae19b0152e0b128548250d87f67c1f98f">peano4::grid::TraversalObserver::getGridControlEvents()</a>, <a class="el" href="../../d6/da8/tarch_2logging_2Statistics_8cpp_source.html#l00016">tarch::logging::Statistics::getInstance()</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a704d65e0f79f2051e29ed86906ae5cf5">peano4::grid::InvalidRank()</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37ca7d50c09f1ad7d098e0a847bcdcab7efb">peano4::grid::Joined</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37caf6807db4ae3a5c82b99bced82a0ca92b">peano4::grid::Joining</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37cad0ffc089d13c7947ef0ab4fda4ad1dd3">peano4::grid::JoinTriggered</a>, <a class="el" href="../../d5/d95/tarch_2logging_2Statistics_8h_source.html#l00105">tarch::logging::Statistics::log()</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00050">logDebug</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00369">logTraceIn</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00379">logTraceOut</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00440">logWarning</a>, <a class="el" href="../../d0/deb/Scalar_8cpp_source.html#l00008">tarch::la::max()</a>, <a class="el" href="../../d7/d70/grid_8cpp_source.html#l00112">peano4::grid::merge()</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37ca09bce956ecf16a726820c33dc8fe3cc6">peano4::grid::NewFromSplit</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37ca42d4b80664fa5cf4266ffb09f3f4ca6c">peano4::grid::NewRoot</a>, <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a30f260fb2246dd83692c70b1d1ff203cae179f0bcf9190ee2b46fc8381d7ed9c3">peano4::grid::GridVertex::Refined</a>, <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a30f260fb2246dd83692c70b1d1ff203ca08a6d101dcdd1289048396872d433aef">peano4::grid::GridVertex::Refining</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37ca5bda814c4aedb126839228f1a3d92f09">peano4::grid::Running</a>, <a class="el" href="../../dc/d05/GridVertex_8h_source.html#l00059">peano4::grid::GridVertex::setAdjacentRanks()</a>, <a class="el" href="../../dc/d05/GridVertex_8h_source.html#l00087">peano4::grid::GridVertex::setHasBeenParentOfSubtreeVertexInPreviousTreeSweep()</a>, <a class="el" href="../../d7/d70/grid_8cpp_source.html#l00276">peano4::grid::toString()</a>, <a class="el" href="../../d9/df1/Globals_8h_source.html#l00021">TwoPowerD</a>, and <a class="el" href="../../d9/df1/Globals_8h_source.html#l00018">TwoTimesD</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/df6/classpeano4_1_1grid_1_1Spacetree_acc6197067d18531527465392bce7e3c0_cgraph.png" border="0" usemap="#adf/df6/classpeano4_1_1grid_1_1Spacetree_acc6197067d18531527465392bce7e3c0_cgraph" alt=""/></div>
<map name="adf/df6/classpeano4_1_1grid_1_1Spacetree_acc6197067d18531527465392bce7e3c0_cgraph" id="adf/df6/classpeano4_1_1grid_1_1Spacetree_acc6197067d18531527465392bce7e3c0_cgraph">
<area shape="rect" title=" " alt="" coords="5,987,181,1027"/>
<area shape="rect" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html#a9fcef74ba5e3d47f26bd9c3999118334" title="Begin the traversal." alt="" coords="229,268,459,308"/>
<area shape="poly" title=" " alt="" coords="93,986,104,853,127,652,145,548,167,452,195,373,210,342,227,318,231,315,234,319,231,322,215,344,199,375,172,453,150,549,133,653,109,854,98,987"/>
<area shape="rect" href="../../d7/d7c/namespacepeano4_1_1grid.html#a158928299065d46b9b5cf110ea08b219" title="The term clear() is not 100% correct, as the number of stationary traversals is not reset to a dummy ..." alt="" coords="273,333,415,358"/>
<area shape="poly" title=" " alt="" coords="100,986,331,370,336,372,105,987"/>
<area shape="rect" href="../../d7/d7c/namespacepeano4_1_1grid.html#a372822467e0ef7f65d03b618d19acf4f" title="Factory mechanism." alt="" coords="247,803,441,829"/>
<area shape="poly" title=" " alt="" coords="104,985,152,916,187,878,228,846,259,831,261,835,231,850,191,882,156,920,109,988"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#ae4497bbc26bec13704edb43d07461645" title=" " alt="" coords="561,581,741,621"/>
<area shape="poly" title=" " alt="" coords="101,985,147,894,184,839,227,789,296,730,356,692,421,663,506,631,547,618,549,623,508,636,423,668,358,697,299,734,231,793,188,842,152,897,105,988"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#aca66d33e9a8e7cd3cdba222dd488b8fe" title=" " alt="" coords="523,1139,779,1194"/>
<area shape="poly" title=" " alt="" coords="108,985,157,934,191,909,228,890,294,866,350,852,377,852,404,857,431,870,460,890,484,917,493,946,494,975,489,1006,484,1036,483,1066,490,1096,509,1125,514,1130,511,1134,505,1128,485,1098,477,1067,479,1036,484,1005,488,975,488,947,479,920,457,894,429,874,402,862,376,857,351,857,295,871,230,894,194,913,161,938,112,988"/>
<area shape="rect" href="../../d9/d8e/namespacepeano4_1_1utils.html#a4f1a4f16c96662b344839f6beb4cd095" title="Map d&#45;dimensional vector onto integer index." alt="" coords="249,905,439,930"/>
<area shape="poly" title=" " alt="" coords="130,984,176,961,228,940,260,931,262,936,230,945,179,966,133,989"/>
<area shape="rect" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html#aba891cd6821aa9bf44f1e57368b4c937" title=" " alt="" coords="229,955,459,995"/>
<area shape="poly" title=" " alt="" coords="181,993,215,988,216,994,182,998"/>
<area shape="rect" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html#ae19b0152e0b128548250d87f67c1f98f" title=" " alt="" coords="229,1019,459,1059"/>
<area shape="poly" title=" " alt="" coords="182,1015,216,1020,215,1025,181,1021"/>
<area shape="rect" href="../../d7/d06/classtarch_1_1logging_1_1Statistics.html#afa797bdb0be71bbe06dbe1359c0d2969" title="This is not the canonical realisation of singletons as I use it usually for stats in Peano." alt="" coords="255,1083,433,1123"/>
<area shape="poly" title=" " alt="" coords="134,1024,230,1068,253,1076,251,1081,228,1073,132,1029"/>
<area shape="rect" href="../../d7/d7c/namespacepeano4_1_1grid.html#a704d65e0f79f2051e29ed86906ae5cf5" title=" " alt="" coords="250,1147,438,1173"/>
<area shape="poly" title=" " alt="" coords="112,1025,161,1080,194,1108,231,1132,249,1141,247,1145,228,1137,191,1113,157,1083,108,1029"/>
<area shape="rect" href="../../d7/d06/classtarch_1_1logging_1_1Statistics.html#a223f14499162cc3cdf4985161c7279ed" title=" " alt="" coords="241,1197,447,1222"/>
<area shape="poly" title=" " alt="" coords="106,1026,125,1061,152,1104,188,1147,231,1183,241,1189,239,1194,228,1188,184,1151,148,1107,120,1063,102,1028"/>
<area shape="rect" href="../../d2/d45/namespacetarch_1_1la.html#a9ab5aa4e4252e6d78ba62df6a711c47a" title="I need the maximum of three values all the time, to I decided to write a function for this." alt="" coords="288,1246,400,1271"/>
<area shape="poly" title=" " alt="" coords="103,1026,118,1070,144,1126,182,1184,205,1210,231,1232,252,1244,275,1251,274,1256,250,1249,228,1237,201,1214,178,1188,140,1129,114,1072,98,1028"/>
<area shape="rect" href="../../d7/d7c/namespacepeano4_1_1grid.html#abbcd0020ab00eb8d8679323040a08962" title="Merge set of refinement/coarsening commands." alt="" coords="267,1295,421,1321"/>
<area shape="poly" title=" " alt="" coords="101,1026,113,1079,138,1148,155,1185,176,1221,201,1254,231,1282,255,1295,253,1300,228,1286,197,1257,172,1224,150,1188,133,1150,108,1080,96,1027"/>
<area shape="rect" href="../../d7/d7c/namespacepeano4_1_1grid.html#a133e937a14fa2b8b6d077e9ce346ec69" title=" " alt="" coords="263,1345,425,1370"/>
<area shape="poly" title=" " alt="" coords="99,1027,109,1087,131,1170,148,1214,170,1258,198,1297,231,1331,251,1344,248,1348,228,1335,193,1301,166,1260,143,1217,126,1172,104,1088,94,1027"/>
<area shape="rect" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html#a52255667d6d7ced4d8204a30b037918c" title=" " alt="" coords="552,5,751,45"/>
<area shape="poly" title=" " alt="" coords="414,340,438,332,457,318,479,287,487,255,486,222,480,189,474,156,473,122,482,89,505,56,520,43,538,34,540,38,523,47,509,59,487,91,479,123,480,155,485,188,491,222,492,255,483,289,461,322,440,337,416,345"/>
<area shape="rect" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html#a4918d46044110aca2f596ed107ff766b" title=" " alt="" coords="538,69,765,109"/>
<area shape="poly" title=" " alt="" coords="415,340,437,331,457,318,474,295,482,271,483,246,480,221,477,195,478,170,486,144,505,119,524,105,527,109,509,123,491,147,484,171,483,195,485,220,488,246,487,271,479,297,461,322,440,336,416,345"/>
<area shape="rect" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html#a24d2a32dcb94a166f17b7ea641b10892" title=" " alt="" coords="552,133,751,173"/>
<area shape="poly" title=" " alt="" coords="415,338,437,331,457,318,470,302,477,286,480,252,483,218,491,200,505,183,538,164,541,168,508,187,495,203,488,219,485,253,482,288,475,305,460,322,440,335,417,343"/>
<area shape="rect" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html#a0460de4a97713de06b6bb543c2363703" title=" " alt="" coords="535,197,767,237"/>
<area shape="poly" title=" " alt="" coords="415,336,437,328,457,318,473,301,480,284,488,265,505,247,521,238,524,242,508,251,493,268,485,286,477,304,460,322,439,333,417,341"/>
<area shape="rect" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html#aaa3d88c8985b5c2600055d68081d80bb" title=" " alt="" coords="528,261,775,301"/>
<area shape="poly" title=" " alt="" coords="405,330,541,302,542,307,406,335"/>
<area shape="rect" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html#ac05ad58a46de98d23e3b83d2975fdd40" title=" " alt="" coords="527,325,776,365"/>
<area shape="poly" title=" " alt="" coords="416,343,513,343,513,348,416,348"/>
<area shape="rect" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html#a1fca817bd75a3a659746c2188ace5a38" title=" " alt="" coords="520,389,783,429"/>
<area shape="poly" title=" " alt="" coords="406,355,542,384,541,389,405,361"/>
<area shape="rect" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html#af7c05762262cb60344edb50f23fe00c7" title=" " alt="" coords="549,453,753,493"/>
<area shape="poly" title=" " alt="" coords="364,356,426,397,466,419,508,439,537,449,536,454,506,444,463,424,423,401,361,360"/>
<area shape="rect" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html#a4c8c0a9884a0ab017782933ff7a68aca" title=" " alt="" coords="552,517,751,557"/>
<area shape="poly" title=" " alt="" coords="356,356,414,427,458,468,508,503,540,517,538,522,505,508,455,473,410,431,352,360"/>
<area shape="poly" title=" " alt="" coords="357,801,403,758,457,700,470,680,478,663,487,647,505,631,547,612,549,617,508,636,492,650,482,666,474,683,461,703,407,761,361,805"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a21fe5fe875aa335f2e8e9bdcf500fbde" title=" " alt="" coords="547,645,756,685"/>
<area shape="poly" title=" " alt="" coords="357,801,418,749,460,720,506,695,533,684,535,689,508,700,463,724,421,753,360,805"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#ad928d3408c14508cbe0cd3ff7b73bf8f" title=" " alt="" coords="529,710,773,765"/>
<area shape="poly" title=" " alt="" coords="394,801,530,766,531,771,395,806"/>
<area shape="poly" title=" " alt="" coords="433,827,461,846,484,882,492,918,491,953,485,988,479,1022,478,1057,486,1091,509,1125,514,1131,510,1134,505,1128,481,1093,473,1057,474,1022,480,987,486,952,487,918,479,884,457,850,430,831"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a2397f37e06c5d16be1968bf25362baca" title=" " alt="" coords="532,789,771,843"/>
<area shape="poly" title=" " alt="" coords="442,813,518,813,518,819,442,819"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#ab205cac0da047e6bbd5f6de588428b1f" title=" " alt="" coords="541,867,762,922"/>
<area shape="poly" title=" " alt="" coords="395,826,531,861,530,866,394,831"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a887fe8e18a31014f9377209b4c73ca56" title=" " alt="" coords="561,947,741,987"/>
<area shape="poly" title=" " alt="" coords="423,826,460,846,478,868,485,890,492,911,508,931,528,943,549,952,547,957,525,948,505,935,487,914,480,892,473,870,457,850,421,831"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#aac31e231c4a1e772314843432a755415" title=" " alt="" coords="507,1011,796,1051"/>
<area shape="poly" title=" " alt="" coords="429,827,460,846,475,865,483,885,485,924,487,961,494,979,509,997,513,1001,510,1005,505,1001,489,982,482,963,480,924,478,886,471,868,457,850,427,831"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#adaf00105304deb9a5164f4704a456ae8" title=" " alt="" coords="561,1075,741,1115"/>
<area shape="poly" title=" " alt="" coords="432,827,461,846,480,874,487,901,488,929,485,956,481,983,482,1010,490,1035,509,1061,527,1075,549,1085,547,1089,524,1079,505,1065,485,1038,477,1010,476,983,479,956,482,929,482,902,475,876,457,850,429,831"/>
</map>
</div>

</div>
</div>
<a id="af353cd24f9183881bff38296073aaa2c" name="af353cd24f9183881bff38296073aaa2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af353cd24f9183881bff38296073aaa2c">&#9670;&#160;</a></span>updateSplittingCounter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::updateSplittingCounter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a></td>          <td class="paramname"><span class="paramname"><em>treeId</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reduce splitting counter. </p>
<p>Every tree in the list of trees for which we have to trigger a split has an integer counter which highlights how many cells still to offload to the newly created tree. Decrement this counter.</p>
<p>However, do not remove the entry from the split triggered set. We need all of these indices to know in the next sweep which child trees are now in the state splitting i.e. transition from split triggered into splitting.</p>
<p>If we have top-down splits, we might split off two many cells. In this case, ensure that the internal counter does not underrun zero. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l01744">1744</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

</div>
</div>
<a id="a1f19f9be10874eb4bd606fafb9050f00" name="a1f19f9be10874eb4bd606fafb9050f00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f19f9be10874eb4bd606fafb9050f00">&#9670;&#160;</a></span>updateVertexAfterLoad()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::updateVertexAfterLoad </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>vertex</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a></td>          <td class="paramname"><span class="paramname"><em>fineGridVertices</em>[TwoPowerD], </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../d7/d26/structtarch_1_1la_1_1Vector.html">tarch::la::Vector</a>&lt; Dimensions, <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>fineVertexPositionWithinPatch</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/dc1/classpeano4_1_1grid_1_1TraversalObserver.html">TraversalObserver</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>observer</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This operation has multiple purposes. </p>
<ul>
<li>Merge with neighbour vertices. See <a class="el" href="#af17618a7075d40a9077c70f9a977ef13" title="Manage the data exchange after a vertex is loaded for the first time.">receiveAndMergeGridVertexAtHorizontalBoundary()</a>.</li>
<li>Roll over the flags. These guys now are merged already. See <a class="el" href="#af17618a7075d40a9077c70f9a977ef13" title="Manage the data exchange after a vertex is loaded for the first time.">receiveAndMergeGridVertexAtHorizontalBoundary()</a>.</li>
<li>Do the refinement flag (state) update.</li>
<li>Erase non-local vertices if they do not carry a veto flag.</li>
</ul>
<h2>Flag update </h2>
<p>Implements the standard refinement status transition, i.e. a triggered becomes actually ing. And if a vertex has been refining or erasing in the previous sweep, we finally update it to refined or unrefined.</p>
<p>This operation has to be called whenever we load a vertex from the input stream, i.e. we touch it for the very first time. We are not allowed to invoke it after we've created a new vertex.</p>
<p>We don't do any statistics here. I've moved all the statistics into <a class="el" href="#aba3992ab51cc5b4da5a3a2db7a1c976b">updateVertexBeforeStore()</a>. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l00368">368</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37cae2e6f897d049a5a191850fa42b37cf2a">peano4::grid::EmptyRun</a>, <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a30f260fb2246dd83692c70b1d1ff203ca69c32f43b3f5f87436887005efe9bf16">peano4::grid::GridVertex::EraseTriggered</a>, <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a30f260fb2246dd83692c70b1d1ff203ca90d967f97414f39c4f8d2be5cdd888fe">peano4::grid::GridVertex::Erasing</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00077">peano4::parallel::Node::getInstance()</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00188">peano4::parallel::Node::getOutputStackNumberForVerticalDataExchange()</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37caf6807db4ae3a5c82b99bced82a0ca92b">peano4::grid::Joining</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00050">logDebug</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00371">logTraceInWith2Arguments</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00380">logTraceOutWith1Argument</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37ca09bce956ecf16a726820c33dc8fe3cc6">peano4::grid::NewFromSplit</a>, <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a30f260fb2246dd83692c70b1d1ff203cae179f0bcf9190ee2b46fc8381d7ed9c3">peano4::grid::GridVertex::Refined</a>, <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a30f260fb2246dd83692c70b1d1ff203cacafc64bf8acbe7659c2b3ee0195e82c4">peano4::grid::GridVertex::RefinementTriggered</a>, <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a30f260fb2246dd83692c70b1d1ff203ca08a6d101dcdd1289048396872d433aef">peano4::grid::GridVertex::Refining</a>, and <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a30f260fb2246dd83692c70b1d1ff203ca27d974933532127b2ca94a6dc31123b3">peano4::grid::GridVertex::Unrefined</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/df6/classpeano4_1_1grid_1_1Spacetree_a1f19f9be10874eb4bd606fafb9050f00_cgraph.png" border="0" usemap="#adf/df6/classpeano4_1_1grid_1_1Spacetree_a1f19f9be10874eb4bd606fafb9050f00_cgraph" alt=""/></div>
<map name="adf/df6/classpeano4_1_1grid_1_1Spacetree_a1f19f9be10874eb4bd606fafb9050f00_cgraph" id="adf/df6/classpeano4_1_1grid_1_1Spacetree_a1f19f9be10874eb4bd606fafb9050f00_cgraph">
<area shape="rect" title="This operation has multiple purposes." alt="" coords="5,41,184,81"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a7bc31c5e9f0f24785ae7e19d7add30c0" title=" " alt="" coords="273,5,443,45"/>
<area shape="poly" title=" " alt="" coords="184,47,259,36,260,41,185,52"/>
<area shape="rect" href="../../d8/dde/classpeano4_1_1parallel_1_1Node.html#a8e3b4ea37d72a26fc5a3a07ec565ba12" title=" " alt="" coords="232,70,484,125"/>
<area shape="poly" title=" " alt="" coords="185,71,219,76,218,81,184,76"/>
</map>
</div>

</div>
</div>
<a id="aba3992ab51cc5b4da5a3a2db7a1c976b" name="aba3992ab51cc5b4da5a3a2db7a1c976b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba3992ab51cc5b4da5a3a2db7a1c976b">&#9670;&#160;</a></span>updateVertexBeforeStore()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::updateVertexBeforeStore </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>vertex</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a></td>          <td class="paramname"><span class="paramname"><em>fineGridVertices</em>[TwoPowerD], </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> <a class="el" href="../../d7/d26/structtarch_1_1la_1_1Vector.html">tarch::la::Vector</a>&lt; Dimensions, <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>fineVertexPositionWithinPatch</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<h2>Restriction of veto flags </h2>
<p>We make each vertex hold a flag isAntecessorOfRefinedVertex. If it is set, we veto any erasing here. This way, we can ensure that the trees remove at most one level at a time. We illustrate all further explanations with a simple example:</p>
<div class="image">
<img src="../../Spacetree_updateVertexBeforeStore_restrictIsAntecessorOfRefinedVertex.png" alt=""/>
</div>
<p>Let the red vertices be refined. In a serial code, the tree is not split. You have to glue together the left and right tree. As the middle level's vertex holds the refinement flag, the top level vertex carries the flag isAntecessorOfRefinedVertex. It consequently never is erased. Users first have to remove the finer level.</p>
<p>If we split up tree into two threads, this approach fails if the flag is restricted per core in the bottom-up steps. By the end of the sweep, the flag is set on the right tree, but it is not set on the left tree. We consequently might decide to erase on the left tree but veto this on the right tree.</p>
<p>To eliminate this behaviour, we split up the flag into a current flag and a flag from the previous solution. This flag is rolled over. If the flag is set, it undoes any erase trigger.</p>
<h2>Clean-up of vertices </h2>
<p>I originally had the following idea:</p>
<p>If a vertex is remote, we manually clear all of its adjacency flags. This is a security thing. It might happen that such a vertex refers to a tree x and that this index x is later re-used (for a new local subtree for example). In this case, a left-over index might suddenly suggest that a totally irrelevant vertex is adjacent to the newish x tree.</p>
<p>However, this is wrong in some cases: We have to keep our adjacency. Because if we merge later on, we rely on this adjacency to find out which vertices we have to join.</p>
<p>So we have to run for the middle way: We erase all adjacency data but if ad only if a vertex is not adjacent to any kid.</p>
<h2>A posteriori refinement </h2>
<p>If a vertex is surrounded by \( 2^d \) refined cells and is not a refined vertex, we have this weird situation that we have a hanging vertex right within a regularly refined subdomain. Topologically, this is allowed, but it makes no sense, introduces strange artefacts in the visualisation and is very difficult to explain. So I keep track of the refined adjacent cells and refine a posteriori if all adjacent cells are refined.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fineVertexPositionWithinPatch</td><td>Position of vertex within 3x3 or 3x3x3 patch respectively</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a1f19f9be10874eb4bd606fafb9050f00" title="This operation has multiple purposes.">updateVertexAfterLoad()</a> </dd>
<dd>
<a class="el" href="#af3cd09a3902f2562495318fd7f7d78d0" title="Merge data from worker with master data throughout join.">mergeCellFromWorkerWithMasterThroughoutJoin()</a> <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a10aa502896b834c0d9eaeb3e8c8ab187">for</a> an explanation why we have to keep all adjacency information that we actually need later <a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a10aa502896b834c0d9eaeb3e8c8ab187">for</a> merges. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l00466">466</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../db/d9e/Loop_8h_source.html#l00086">dfor2</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37cae2e6f897d049a5a191850fa42b37cf2a">peano4::grid::EmptyRun</a>, <a class="el" href="../../db/d9e/Loop_8h_source.html#l00117">enddforx</a>, <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a30f260fb2246dd83692c70b1d1ff203ca69c32f43b3f5f87436887005efe9bf16">peano4::grid::GridVertex::EraseTriggered</a>, <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a30f260fb2246dd83692c70b1d1ff203ca90d967f97414f39c4f8d2be5cdd888fe">peano4::grid::GridVertex::Erasing</a>, <a class="el" href="../../dc/d05/GridVertex_8h_source.html#l00077">peano4::grid::GridVertex::getIsAntecessorOfRefinedVertexInCurrentTreeSweep()</a>, <a class="el" href="../../dc/d05/GridVertex_8h_source.html#l00091">peano4::grid::GridVertex::getIsParentOfSubtreeVertexInCurrentTreeSweep()</a>, <a class="el" href="../../dc/d05/GridVertex_8h_source.html#l00098">peano4::grid::GridVertex::getNumberOfAdjacentRefinedLocalCells()</a>, <a class="el" href="../../dc/d05/GridVertex_8h_source.html#l00055">peano4::grid::GridVertex::getState()</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a704d65e0f79f2051e29ed86906ae5cf5">peano4::grid::InvalidRank()</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00050">logDebug</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00371">logTraceInWith2Arguments</a>, <a class="el" href="../../d1/d45/Log_8h_source.html#l00381">logTraceOutWith2Arguments</a>, <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a30f260fb2246dd83692c70b1d1ff203ca03c2e7e41ffc181a4e84080b4710e81e">peano4::grid::GridVertex::New</a>, <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a30f260fb2246dd83692c70b1d1ff203cae179f0bcf9190ee2b46fc8381d7ed9c3">peano4::grid::GridVertex::Refined</a>, <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a30f260fb2246dd83692c70b1d1ff203cacafc64bf8acbe7659c2b3ee0195e82c4">peano4::grid::GridVertex::RefinementTriggered</a>, <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a30f260fb2246dd83692c70b1d1ff203ca08a6d101dcdd1289048396872d433aef">peano4::grid::GridVertex::Refining</a>, <a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37ca5bda814c4aedb126839228f1a3d92f09">peano4::grid::Running</a>, <a class="el" href="../../dc/d05/GridVertex_8h_source.html#l00059">peano4::grid::GridVertex::setAdjacentRanks()</a>, <a class="el" href="../../dc/d05/GridVertex_8h_source.html#l00056">peano4::grid::GridVertex::setState()</a>, <a class="el" href="../../d6/d2e/GridVertex_8cpp_source.html#l00071">peano4::grid::GridVertex::toString()</a>, <a class="el" href="../../d7/d70/grid_8cpp_source.html#l00276">peano4::grid::toString()</a>, <a class="el" href="../../d9/df1/Globals_8h_source.html#l00021">TwoPowerD</a>, and <a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a30f260fb2246dd83692c70b1d1ff203ca27d974933532127b2ca94a6dc31123b3">peano4::grid::GridVertex::Unrefined</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/df6/classpeano4_1_1grid_1_1Spacetree_aba3992ab51cc5b4da5a3a2db7a1c976b_cgraph.png" border="0" usemap="#adf/df6/classpeano4_1_1grid_1_1Spacetree_aba3992ab51cc5b4da5a3a2db7a1c976b_cgraph" alt=""/></div>
<map name="adf/df6/classpeano4_1_1grid_1_1Spacetree_aba3992ab51cc5b4da5a3a2db7a1c976b_cgraph" id="adf/df6/classpeano4_1_1grid_1_1Spacetree_aba3992ab51cc5b4da5a3a2db7a1c976b_cgraph">
<area shape="rect" title=" " alt="" coords="5,285,200,325"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#ac214dbddb154175b530721e9286f791c" title=" " alt="" coords="273,5,513,60"/>
<area shape="poly" title=" " alt="" coords="108,284,126,239,154,181,194,121,219,93,246,69,259,61,262,65,250,73,223,97,199,124,159,184,130,241,113,286"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a00966010f1d72565f87425ecfd7f6dff" title=" " alt="" coords="282,84,505,139"/>
<area shape="poly" title=" " alt="" coords="115,283,167,217,205,180,247,149,268,138,270,143,249,154,208,184,171,220,119,286"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#a116e67c489e7e1efcffaba5ba25c730f" title=" " alt="" coords="248,163,539,203"/>
<area shape="poly" title=" " alt="" coords="129,282,182,247,247,213,269,205,271,210,249,218,184,251,132,287"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#af0a4b4140aea5650feecb14cd5e5033c" title=" " alt="" coords="303,227,483,267"/>
<area shape="poly" title=" " alt="" coords="200,283,289,265,290,270,201,288"/>
<area shape="rect" href="../../d7/d7c/namespacepeano4_1_1grid.html#a704d65e0f79f2051e29ed86906ae5cf5" title=" " alt="" coords="299,292,487,317"/>
<area shape="poly" title=" " alt="" coords="200,302,286,302,286,307,200,307"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#ae4497bbc26bec13704edb43d07461645" title=" " alt="" coords="303,342,483,382"/>
<area shape="poly" title=" " alt="" coords="201,321,290,339,289,344,200,326"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#adaf00105304deb9a5164f4704a456ae8" title=" " alt="" coords="303,406,483,446"/>
<area shape="poly" title=" " alt="" coords="132,322,184,358,249,392,291,405,289,410,247,396,182,363,129,327"/>
<area shape="rect" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html#ab20cc6d86af3640c852444f5b18277c9" title=" " alt="" coords="303,470,483,510"/>
<area shape="poly" title=" " alt="" coords="119,323,171,389,207,426,249,456,291,473,289,478,247,460,204,430,167,393,115,326"/>
<area shape="rect" href="../../d7/d7c/namespacepeano4_1_1grid.html#a133e937a14fa2b8b6d077e9ce346ec69" title=" " alt="" coords="312,535,475,560"/>
<area shape="poly" title=" " alt="" coords="113,324,131,366,160,420,199,475,223,499,249,520,273,532,299,540,298,545,271,537,247,524,219,503,195,478,155,423,126,368,109,326"/>
</map>
</div>

</div>
</div>
<a id="ab12be43f734a505bbed7973c84f68935" name="ab12be43f734a505bbed7973c84f68935"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab12be43f734a505bbed7973c84f68935">&#9670;&#160;</a></span>updateVertexRanksWithinCell()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d4d/FaceIntegral_8template_8cpp.html#a7ce6528e12d0effe4d57054974659f90">void</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::updateVertexRanksWithinCell </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d9a/structpeano4_1_1grid_1_1GridVertex.html">GridVertex</a></td>          <td class="paramname"><span class="paramname"><em>fineGridVertices</em>[TwoPowerD], </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a></td>          <td class="paramname"><span class="paramname"><em>newId</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If a cell gets a new id, we have to update its vertices. </p>
<p>This routine is only used for splits. I originally thought I might use it for joins as well. Indeed I can. But I can only do this on the master. The worker may not update any cell immediately. If I do this, then the adjacency information of the adjacent vertices is overwritten and I loose this clue that these vertices are adjacent to the local, joining rank.</p>
<p>If we split, we have to be careful that we preserve the master-worker topology over the ranks. So this routine may only be called on the master, on a cell that is local, and on a cell whose parent is local, too. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l01111">1111</a> of file <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../db/d9e/Loop_8h_source.html#l00086">dfor2</a>, <a class="el" href="../../db/d9e/Loop_8h_source.html#l00117">enddforx</a>, and <a class="el" href="../../d9/df1/Globals_8h_source.html#l00021">TwoPowerD</a>.</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Symbol Documentation</h2>
<a id="af77f3675b94774aa254e909a414693ae" name="af77f3675b94774aa254e909a414693ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af77f3675b94774aa254e909a414693ae">&#9670;&#160;</a></span>peano4::grid::tests::SpacetreeTest</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="../../db/d8c/classpeano4_1_1grid_1_1tests_1_1SpacetreeTest.html">peano4::grid::tests::SpacetreeTest</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d2e/Spacetree_8h_source.html#l00061">61</a> of file <a class="el" href="../../d1/d2e/Spacetree_8h_source.html">Spacetree.h</a>.</p>

</div>
</div>
<a id="a6bc6afd728bcbf8e3017dced46e017a4" name="a6bc6afd728bcbf8e3017dced46e017a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bc6afd728bcbf8e3017dced46e017a4">&#9670;&#160;</a></span>peano4::parallel::SpacetreeSet</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="../../da/d58/classpeano4_1_1parallel_1_1SpacetreeSet.html">peano4::parallel::SpacetreeSet</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d2e/Spacetree_8h_source.html#l00060">60</a> of file <a class="el" href="../../d1/d2e/Spacetree_8h_source.html">Spacetree.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a id="a5c9686a0e4bdabd4e96f8264c410af42" name="a5c9686a0e4bdabd4e96f8264c410af42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c9686a0e4bdabd4e96f8264c410af42">&#9670;&#160;</a></span>_childrenIds</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;<a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&gt; peano4::grid::Spacetree::_childrenIds</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d2e/Spacetree_8h_source.html#l00110">110</a> of file <a class="el" href="../../d1/d2e/Spacetree_8h_source.html">Spacetree.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00564">peano4::parallel::SpacetreeSet::cleanUpTrees()</a>.</p>

</div>
</div>
<a id="a99f9e0c8a37831a9ce086a8717822a64" name="a99f9e0c8a37831a9ce086a8717822a64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99f9e0c8a37831a9ce086a8717822a64">&#9670;&#160;</a></span>_gridControlEvents</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="../../dd/de7/structpeano4_1_1grid_1_1GridControlEvent.html">peano4::grid::GridControlEvent</a> &gt; peano4::grid::Spacetree::_gridControlEvents</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>We get these control events when we kick off the traversal and then realise/interpret them. </p>

<p class="definition">Definition at line <a class="el" href="../../d1/d2e/Spacetree_8h_source.html#l00158">158</a> of file <a class="el" href="../../d1/d2e/Spacetree_8h_source.html">Spacetree.h</a>.</p>

</div>
</div>
<a id="ab1ad30e33d5294679965e167dfc2a978" name="ab1ad30e33d5294679965e167dfc2a978"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1ad30e33d5294679965e167dfc2a978">&#9670;&#160;</a></span>_gridTraversalEventGenerator</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d8e/classpeano4_1_1grid_1_1GridTraversalEventGenerator.html">GridTraversalEventGenerator</a> peano4::grid::Spacetree::_gridTraversalEventGenerator</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d2e/Spacetree_8h_source.html#l00128">128</a> of file <a class="el" href="../../d1/d2e/Spacetree_8h_source.html">Spacetree.h</a>.</p>

</div>
</div>
<a id="a2972811ba242c73a7b2075b71fac782d" name="a2972811ba242c73a7b2075b71fac782d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2972811ba242c73a7b2075b71fac782d">&#9670;&#160;</a></span>_hasSplit</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;<a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&gt; peano4::grid::Spacetree::_hasSplit</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>I need this post-mortem list to identify which tree structures have to be copied/replicated where. </p>

<p class="definition">Definition at line <a class="el" href="../../d1/d2e/Spacetree_8h_source.html#l00134">134</a> of file <a class="el" href="../../d1/d2e/Spacetree_8h_source.html">Spacetree.h</a>.</p>

</div>
</div>
<a id="ad23db650a5d067d8936c9ca2c63f5198" name="ad23db650a5d067d8936c9ca2c63f5198"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad23db650a5d067d8936c9ca2c63f5198">&#9670;&#160;</a></span>_id</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> peano4::grid::Spacetree::_id</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d2e/Spacetree_8h_source.html#l00088">88</a> of file <a class="el" href="../../d1/d2e/Spacetree_8h_source.html">Spacetree.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l00021">Spacetree()</a>, and <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l00049">Spacetree()</a>.</p>

</div>
</div>
<a id="a3e7bfe86b3825259ab8bcd6a21e33769" name="a3e7bfe86b3825259ab8bcd6a21e33769"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e7bfe86b3825259ab8bcd6a21e33769">&#9670;&#160;</a></span>_joining</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt; <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> &gt; peano4::grid::Spacetree::_joining</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If master: Set of workers that should join. </p>

<p class="definition">Definition at line <a class="el" href="../../d1/d2e/Spacetree_8h_source.html#l00147">147</a> of file <a class="el" href="../../d1/d2e/Spacetree_8h_source.html">Spacetree.h</a>.</p>

</div>
</div>
<a id="adc5bd139626596a65c4068b21fbd6f2c" name="adc5bd139626596a65c4068b21fbd6f2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc5bd139626596a65c4068b21fbd6f2c">&#9670;&#160;</a></span>_joinTriggered</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt; <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> &gt; peano4::grid::Spacetree::_joinTriggered</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This should be -1 if no join is triggered. </p>
<p>Otherwise it holds the id of the joining rank. </p>

<p class="definition">Definition at line <a class="el" href="../../d1/d2e/Spacetree_8h_source.html#l00142">142</a> of file <a class="el" href="../../d1/d2e/Spacetree_8h_source.html">Spacetree.h</a>.</p>

</div>
</div>
<a id="a0bd07c28cebb863ec00ddbdd65071440" name="a0bd07c28cebb863ec00ddbdd65071440"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bd07c28cebb863ec00ddbdd65071440">&#9670;&#160;</a></span>_log</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d79/classtarch_1_1logging_1_1Log.html">tarch::logging::Log</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::_log</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d2e/Spacetree_8h_source.html#l00058">58</a> of file <a class="el" href="../../d1/d2e/Spacetree_8h_source.html">Spacetree.h</a>.</p>

</div>
</div>
<a id="aa31a525d2058afc7dcdd92b0c07c0b6e" name="aa31a525d2058afc7dcdd92b0c07c0b6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa31a525d2058afc7dcdd92b0c07c0b6e">&#9670;&#160;</a></span>_masterId</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> peano4::grid::Spacetree::_masterId</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This is not a static master. </p>
<p>There's only a real master-worker relation built into this part of the code when we actually split or join.</p>
<p>This field should be const (it never changes), but in the MPI case, I wanna be able to construct a tree first and then to set the master. Actually, I should introduce a special constructor for this. </p>

<p class="definition">Definition at line <a class="el" href="../../d1/d2e/Spacetree_8h_source.html#l00109">109</a> of file <a class="el" href="../../d1/d2e/Spacetree_8h_source.html">Spacetree.h</a>.</p>

</div>
</div>
<a id="a7cfd46f6490180f28f0ceed912f6a227" name="a7cfd46f6490180f28f0ceed912f6a227"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cfd46f6490180f28f0ceed912f6a227">&#9670;&#160;</a></span>_periodicBC</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/df3/CustomRiemann_8template_8h.html#a92b303b76a3f942ea819498907d5e83c">const</a> std::bitset&lt;Dimensions&gt; peano4::grid::Spacetree::_periodicBC</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Indicate per axis whether we have periodic boundary conditions. </p>

<p class="definition">Definition at line <a class="el" href="../../d1/d2e/Spacetree_8h_source.html#l00115">115</a> of file <a class="el" href="../../d1/d2e/Spacetree_8h_source.html">Spacetree.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l00021">Spacetree()</a>.</p>

</div>
</div>
<a id="a9272ac1f4b1f85d8a878e795f93873d2" name="a9272ac1f4b1f85d8a878e795f93873d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9272ac1f4b1f85d8a878e795f93873d2">&#9670;&#160;</a></span>_root</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d06/structpeano4_1_1grid_1_1AutomatonState.html">AutomatonState</a> peano4::grid::Spacetree::_root</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The root of a spacetree corresponds to the initial state of the tree traversal automaton. </p>
<p>So we reuse the object here. It is basically the bounding box. </p>

<p class="definition">Definition at line <a class="el" href="../../d1/d2e/Spacetree_8h_source.html#l00097">97</a> of file <a class="el" href="../../d1/d2e/Spacetree_8h_source.html">Spacetree.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l00021">Spacetree()</a>, and <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l00049">Spacetree()</a>.</p>

</div>
</div>
<a id="a86a897e19ba94294c3916524d4075c03" name="a86a897e19ba94294c3916524d4075c03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86a897e19ba94294c3916524d4075c03">&#9670;&#160;</a></span>_spacetreeState</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html#a5a2c45857b1ba757f65788c079c6a37c">SpacetreeState</a> peano4::grid::Spacetree::_spacetreeState</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d2e/Spacetree_8h_source.html#l00090">90</a> of file <a class="el" href="../../d1/d2e/Spacetree_8h_source.html">Spacetree.h</a>.</p>

</div>
</div>
<a id="ad4da69058444af40a595eab7b2d9b3d1" name="ad4da69058444af40a595eab7b2d9b3d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4da69058444af40a595eab7b2d9b3d1">&#9670;&#160;</a></span>_splittedCells</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&gt; peano4::grid::Spacetree::_splittedCells</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a85cba869defa7a1b32338f35f373de8c" title="Realise the splits and joins.">splitOrJoinCellBottomUp()</a> For both the usage and <a class="el" href="../../d0/de2/hydro__iact_8h.html#a8cbb00f59bca2c48d4560b23f07a4de2">a</a> description how we hijack the routine. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d2e/Spacetree_8h_source.html#l00457">457</a> of file <a class="el" href="../../d1/d2e/Spacetree_8h_source.html">Spacetree.h</a>.</p>

</div>
</div>
<a id="a9749743a41fd0ab6dc1ea93dfe2104db" name="a9749743a41fd0ab6dc1ea93dfe2104db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9749743a41fd0ab6dc1ea93dfe2104db">&#9670;&#160;</a></span>_splitting</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;<a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a>&gt; peano4::grid::Spacetree::_splitting</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d2e/Spacetree_8h_source.html#l00126">126</a> of file <a class="el" href="../../d1/d2e/Spacetree_8h_source.html">Spacetree.h</a>.</p>

</div>
</div>
<a id="add189b52e38a6baf4685dcb5f941b09d" name="add189b52e38a6baf4685dcb5f941b09d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add189b52e38a6baf4685dcb5f941b09d">&#9670;&#160;</a></span>_splitTriggered</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d8f/namespacepeano4.html#a62941648b96f43493b3a40d50c93cc78">SplitSpecification</a> peano4::grid::Spacetree::_splitTriggered</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A split is identified by a tuple of id and cell count which tells the code how many cells should go to a particular id. </p>
<p>The actual split then is done in a second iteration, i.e. we first bookmark all split requests and then we roll over the requests in the subsequent iteration to be actually performed. </p>

<p class="definition">Definition at line <a class="el" href="../../d1/d2e/Spacetree_8h_source.html#l00124">124</a> of file <a class="el" href="../../d1/d2e/Spacetree_8h_source.html">Spacetree.h</a>.</p>

</div>
</div>
<a id="a4fafcec806752872a89bd0cc93327056" name="a4fafcec806752872a89bd0cc93327056"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fafcec806752872a89bd0cc93327056">&#9670;&#160;</a></span>_statistics</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/df3/structpeano4_1_1grid_1_1GridStatistics.html">GridStatistics</a> peano4::grid::Spacetree::_statistics</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d2e/Spacetree_8h_source.html#l00099">99</a> of file <a class="el" href="../../d1/d2e/Spacetree_8h_source.html">Spacetree.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00564">peano4::parallel::SpacetreeSet::cleanUpTrees()</a>, <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l00021">Spacetree()</a>, and <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l00049">Spacetree()</a>.</p>

</div>
</div>
<a id="a2994c142309786241aacae1df7737b19" name="a2994c142309786241aacae1df7737b19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2994c142309786241aacae1df7737b19">&#9670;&#160;</a></span>_vertexStack</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a29db4d673d7176a7c717e704106f022a">peano4::grid::Spacetree::GridVertexStackMap</a> <a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a>&lt; _Geometry, _Item, THRESHOLD, SPLIT_FACTOR, _TaskBackend &gt;::_vertexStack</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d2e/Spacetree_8h_source.html#l00152">152</a> of file <a class="el" href="../../d1/d2e/Spacetree_8h_source.html">Spacetree.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00329">peano4::parallel::SpacetreeSet::deleteAllStacks()</a>, <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00400">peano4::parallel::SpacetreeSet::exchangeHorizontalDataBetweenTrees()</a>, <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00338">peano4::parallel::SpacetreeSet::exchangeVerticalDataBetweenTrees()</a>, <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00058">peano4::parallel::SpacetreeSet::shutdown()</a>, and <a class="el" href="../../d2/df0/SpacetreeSet_8cpp_source.html#l00367">peano4::parallel::SpacetreeSet::streamDataFromSplittingTreesToNewTrees()</a>.</p>

</div>
</div>
<a id="a240b5db7ec9a3b3c71ca23f647c4fdbc" name="a240b5db7ec9a3b3c71ca23f647c4fdbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a240b5db7ec9a3b3c71ca23f647c4fdbc">&#9670;&#160;</a></span>NoJoin</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> peano4::grid::Spacetree::NoJoin = -1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d2e/Spacetree_8h_source.html#l00137">137</a> of file <a class="el" href="../../d1/d2e/Spacetree_8h_source.html">Spacetree.h</a>.</p>

</div>
</div>
<a id="a8cc3059eb9aa4928de4289148ca25f0c" name="a8cc3059eb9aa4928de4289148ca25f0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cc3059eb9aa4928de4289148ca25f0c">&#9670;&#160;</a></span>NumberOfStationarySweepsToWaitAtLeastTillJoin</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> peano4::grid::Spacetree::NumberOfStationarySweepsToWaitAtLeastTillJoin = 2</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d2e/Spacetree_8h_source.html#l00055">55</a> of file <a class="el" href="../../d1/d2e/Spacetree_8h_source.html">Spacetree.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d23/Spacetree_8cpp_source.html#l00049">Spacetree()</a>.</p>

</div>
</div>
<a id="a52cd21c8e3ba7bf1cb6bc32ea350da0e" name="a52cd21c8e3ba7bf1cb6bc32ea350da0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52cd21c8e3ba7bf1cb6bc32ea350da0e">&#9670;&#160;</a></span>RankOfPeriodicBoundaryCondition</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr <a class="el" href="../../d1/d99/Prediction_8EnclaveTask_8template_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a> peano4::grid::Spacetree::RankOfPeriodicBoundaryCondition = -2</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Periodic boundary conditions are technically realised as domain decomposition, i.e. </p>
<p>the vertices along the periodic boundaries carry rank numbers which host RankOfPeriodicBoundaryCondition. So this is the rank number dedicated to periodic BCs. As we treat the BCs as particular neighbour ranks, all data along the periodic BCs is automatically piped onto specialised streams. This holds for both user and grid data.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a5eca5f0899a0745803432b1cf459ca8c">receiveAndMergeUserData()</a> </dd>
<dd>
<a class="el" href="#a1b1398413e236a31626e82abcf2e8432" title="Send user data.">sendUserData()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d2e/Spacetree_8h_source.html#l00054">54</a> of file <a class="el" href="../../d1/d2e/Spacetree_8h_source.html">Spacetree.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/da0/GridTraversalEventGenerator_8cpp_source.html#l00158">peano4::grid::GridTraversalEventGenerator::areFacesAdjacentToParallelDomainBoundary()</a>, <a class="el" href="../../d0/da0/GridTraversalEventGenerator_8cpp_source.html#l00134">peano4::grid::GridTraversalEventGenerator::areVerticesAdjacentToParallelDomainBoundary()</a>, <a class="el" href="../../dc/d73/Node_8cpp_source.html#l00196">peano4::parallel::Node::getPeriodicBoundaryNumber()</a>, <a class="el" href="../../d3/dcc/NodeTest_8cpp_source.html#l00038">peano4::parallel::tests::NodeTest::testGetOutputStacksForPeriodicBoundaryExchange()</a>, and <a class="el" href="../../d3/dcc/NodeTest_8cpp_source.html#l00118">peano4::parallel::tests::NodeTest::testGetPeriodicBoundaryNumber()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/peano4/grid/<a class="el" href="../../d1/d2e/Spacetree_8h_source.html">Spacetree.h</a></li>
<li>src/peano4/grid/<a class="el" href="../../d5/d23/Spacetree_8cpp_source.html">Spacetree.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d8/d8f/namespacepeano4.html">peano4</a></li><li class="navelem"><a class="el" href="../../d7/d7c/namespacepeano4_1_1grid.html">grid</a></li><li class="navelem"><a class="el" href="../../df/df6/classpeano4_1_1grid_1_1Spacetree.html">Spacetree</a></li>
    <li class="footer">Generated on Tue Jul 1 2025 11:30:12 for Peano by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
